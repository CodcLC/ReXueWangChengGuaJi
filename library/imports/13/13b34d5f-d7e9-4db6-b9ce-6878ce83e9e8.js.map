{"version":3,"sources":["assets\\scripts\\UIGuide.js"],"names":["t","require","e","module","o","exports","a","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","r","__decorate","arguments","length","n","getOwnPropertyDescriptor","Reflect","decorate","s","defineProperty","value","GuildCfg","DirPos","c","l","u","cc","_decorator","p","ccclass","g","property","TopRight","TopLeft","BottomLeft","BottomRight","clickType","distNode","tipstring","dir","isWeek","lightType","showHand","delay","startNode","endNode","moveTime","hideMask","addSize","Size","callBack","indexPos","v2","yDec","handIndex","EventMgr","getInstance","emit","BaseEventName","blocktouch","d","apply","mask","hand","hand1","hand2","tipBg","tipText","dirPos","init","cfg","clickTouch","active","convertToWorldSpaceAR","Vec2","ZERO","node","parent","convertToNodeSpaceAR","setPosition","add","setContentSize","getContentSize","type","Mask","Type","ELLIPSE","RECT","showTip","scheduleOnce","tween","to","width","height","start","moveTouch","getComponent","Animation","stop","moveTween","position","Vec3","x","y","union","repeatForever","closeUI","on","Node","EventType","TOUCH_START","_touchListener","setSwallowTouches","getBoundingBoxToWorld","contains","getLocation","getChildByName","v3","string","Math","abs","scaleX","scaleY","RichText"],"mappings":";;;;;;AAAA,IAAIA,CAAC,GAAGC,OAAR;AACA,IAAIC,CAAC,GAAGC,MAAR;AACA,IAAIC,CAAC,GAAGC,OAAR;;AACA,IAAIC,EAAJ;AAAA,IAAOC,CAAC,GAAG,UAAQ,SAAKC,SAAb,KAA2BF,EAAC,GAAG,WAASN,CAAT,EAAYE,CAAZ,EAAe;EACrD,OAAO,CAACI,EAAC,GAAGG,MAAM,CAACC,cAAP,IAAyB;IACjCC,SAAS,EAAE;EADsB,aAG1BC,KAH0B,IAIrC,UAASZ,CAAT,EAAYE,CAAZ,EAAe;IACXF,CAAC,CAACW,SAAF,GAAcT,CAAd;EACH,CANW,IAOZ,UAASF,CAAT,EAAYE,CAAZ,EAAe;IACX,KAAK,IAAIE,CAAT,IAAcF,CAAd;MAAiBO,MAAM,CAACI,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCb,CAArC,EAAwCE,CAAxC,MAA+CJ,CAAC,CAACI,CAAD,CAAD,GAAOF,CAAC,CAACE,CAAD,CAAvD;IAAjB;EACH,CATM,EASJJ,CATI,EASDE,CATC,CAAP;AAUH,CAXqC,EAYtC,UAASF,CAAT,EAAYE,CAAZ,EAAe;EACX,SAASE,CAAT,GAAa;IACT,KAAKY,WAAL,GAAmBhB,CAAnB;EACH;;EACDM,EAAC,CAACN,CAAD,EAAIE,CAAJ,CAAD,EACAF,CAAC,CAACa,SAAF,GAAc,SAASX,CAAT,GAAaO,MAAM,CAACQ,MAAP,CAAcf,CAAd,CAAb,IAAiCE,CAAC,CAACS,SAAF,GAAcX,CAAC,CAACW,SAAhB,EAA2B,IAAIT,CAAJ,EAA5D,CADd;AAEH,CAlBU,CAAX;AAAA,IAmBAc,CAAC,GAAG,UAAQ,SAAKC,UAAb,IACJ,UAASnB,CAAT,EAAYE,CAAZ,EAAeE,CAAf,EAAkBE,CAAlB,EAAqB;EACjB,IAAIC,CAAJ;EAAA,IAAOW,CAAC,GAAGE,SAAS,CAACC,MAArB;EAAA,IACAC,CAAC,GAAGJ,CAAC,GAAG,CAAJ,GAAQhB,CAAR,GAAW,SAASI,CAAT,GAAaA,CAAC,GAAGG,MAAM,CAACc,wBAAP,CAAgCrB,CAAhC,EAAmCE,CAAnC,CAAjB,GAAyDE,CADxE;EAEA,IAAI,YAAY,OAAOkB,OAAnB,IAA8B,cAAc,OAAOA,OAAO,CAACC,QAA/D,EAAyEH,CAAC,GAAGE,OAAO,CAACC,QAAR,CAAiBzB,CAAjB,EAAoBE,CAApB,EAAuBE,CAAvB,EAA0BE,CAA1B,CAAJ,CAAzE,KACK,KAAK,IAAIoB,CAAC,GAAG1B,CAAC,CAACqB,MAAF,GAAW,CAAxB,EAA2BK,CAAC,IAAI,CAAhC,EAAmCA,CAAC,EAApC;IAAuC,CAACnB,CAAC,GAAGP,CAAC,CAAC0B,CAAD,CAAN,MAAeJ,CAAC,GAAG,CAACJ,CAAC,GAAG,CAAJ,GAAQX,CAAC,CAACe,CAAD,CAAT,GAAeJ,CAAC,GAAG,CAAJ,GAAQX,CAAC,CAACL,CAAD,EAAIE,CAAJ,EAAOkB,CAAP,CAAT,GAAqBf,CAAC,CAACL,CAAD,EAAIE,CAAJ,CAAtC,KAAiDkB,CAApE;EAAvC;EACL,OAAOJ,CAAC,GAAG,CAAJ,IAASI,CAAT,IAAcb,MAAM,CAACkB,cAAP,CAAsBzB,CAAtB,EAAyBE,CAAzB,EAA4BkB,CAA5B,CAAd,EACPA,CADA;AAEH,CA3BD;;AA4BAb,MAAM,CAACkB,cAAP,CAAsBvB,CAAtB,EAAyB,YAAzB,EAAuC;EACnCwB,KAAK,EAAE,CAAC;AAD2B,CAAvC,GAGAxB,CAAC,CAACyB,QAAF,GAAazB,CAAC,CAAC0B,MAAF,GAAW,KAAK,CAH7B;AAIA,IAAIR,CAAJ;AAAA,IAAOI,CAAC,GAAG1B,CAAC,CAAC,QAAD,CAAZ;AAAA,IACA+B,CAAC,GAAG/B,CAAC,CAAC,QAAD,CADL;AAAA,IAEAgC,CAAC,GAAGhC,CAAC,CAAC,UAAD,CAFL;AAAA,IAGAiC,CAAC,GAAGC,EAAE,CAACC,UAHP;AAAA,IAIAC,CAAC,GAAGH,CAAC,CAACI,OAJN;AAAA,IAKAC,CAAC,GAAGL,CAAC,CAACM,QALN;;AAKgB,CAAC,UAASvC,CAAT,EAAY;EACzBA,CAAC,CAACA,CAAC,CAACwC,QAAF,GAAa,CAAd,CAAD,GAAoB,UAApB,EACAxC,CAAC,CAACA,CAAC,CAACyC,OAAF,GAAY,CAAb,CAAD,GAAmB,SADnB,EAEAzC,CAAC,CAACA,CAAC,CAAC0C,UAAF,GAAe,CAAhB,CAAD,GAAsB,YAFtB,EAGA1C,CAAC,CAACA,CAAC,CAAC2C,WAAF,GAAgB,CAAjB,CAAD,GAAuB,aAHvB;AAIH,CALe,EAKbrB,CAAC,GAAGlB,CAAC,CAAC0B,MAAF,KAAa1B,CAAC,CAAC0B,MAAF,GAAW,EAAxB,CALS;;AAMhB1B,CAAC,CAACyB,QAAF,GAAa,YAAW;EACpB,KAAKe,SAAL,GAAiB,CAAjB,EACA,KAAKC,QAAL,GAAgB,IADhB,EAEA,KAAKC,SAAL,GAAiB,IAFjB,EAGA,KAAKC,GAAL,GAAWzB,CAAC,CAACkB,QAHb,EAIA,KAAKQ,MAAL,GAAc,CAAC,CAJf,EAKA,KAAKC,SAAL,GAAiB,CALjB,EAMA,KAAKC,QAAL,GAAgB,CAAC,CANjB,EAOA,KAAKC,KAAL,GAAa,EAPb,EAQA,KAAKC,SAAL,GAAiB,IARjB,EASA,KAAKC,OAAL,GAAe,IATf,EAUA,KAAKC,QAAL,GAAgB,EAVhB,EAWA,KAAKC,QAAL,GAAgB,CAAC,CAXjB,EAYA,KAAKC,OAAL,GAAe,IAAItB,EAAE,CAACuB,IAAP,CAAY,EAAZ,EAAgB,EAAhB,CAZf,EAaA,KAAKC,QAAL,GAAgB,IAbhB,EAcA,KAAKC,QAAL,GAAgBzB,EAAE,CAAC0B,EAAH,EAdhB,EAeA,KAAKC,IAAL,GAAY,CAfZ,EAgBA,KAAKC,SAAL,GAAiB5B,EAAE,CAAC0B,EAAH,EAhBjB,EAiBA5B,CAAC,CAAC+B,QAAF,CAAWC,WAAX,GAAyBC,IAAzB,CAA8BlC,CAAC,CAACmC,aAAF,CAAgBC,UAA9C,EAA0D,CAAC,CAA3D,CAjBA;AAkBH,CAnBD;;AAoBA,IAAIC,CAAC,GAAG,UAASpE,CAAT,EAAY;EAChB,SAASE,CAAT,GAAa;IACT,IAAIA,CAAC,GAAG,SAASF,CAAT,IAAcA,CAAC,CAACqE,KAAF,CAAQ,IAAR,EAAcjD,SAAd,CAAd,IAA0C,IAAlD;IACA,OAAOlB,CAAC,CAACoE,IAAF,GAAS,IAAT,EACPpE,CAAC,CAACqE,IAAF,GAAS,IADF,EAEPrE,CAAC,CAACsE,KAAF,GAAU,IAFH,EAGPtE,CAAC,CAACuE,KAAF,GAAU,IAHH,EAIPvE,CAAC,CAACwE,KAAF,GAAU,IAJH,EAKPxE,CAAC,CAACyE,OAAF,GAAY,IALL,EAMPzE,CAAC,CAAC2C,QAAF,GAAa,IANN,EAOP3C,CAAC,CAAC0E,MAAF,GAAWtD,CAAC,CAACkB,QAPN,EAQPtC,CARA;EASH;;EACD,OAAOK,CAAC,CAACL,CAAD,EAAIF,CAAJ,CAAD,EACPE,CAAC,CAACW,SAAF,CAAYgE,IAAZ,GAAmB,UAAS7E,CAAT,EAAY;IAC3B,KAAK8E,GAAL,GAAW9E,CAAX;EACH,CAHM,EAIPE,CAAC,CAACW,SAAF,CAAYkE,UAAZ,GAAyB,UAAS/E,CAAT,EAAY;IACjC,IAAIE,CAAJ;IAAA,IAAOE,CAAC,GAAG,IAAX;;IACA,IAAI,KAAKmE,IAAL,CAAUS,MAAV,GAAmB,CAAC,CAApB,EAAuB,KAAKN,KAAL,CAAWM,MAAX,GAAoB,CAAC,CAA5C,EAA+C,KAAKF,GAAL,GAAW9E,CAA1D,EAA6DA,CAAC,CAAC+C,GAAF,KAAU,KAAK6B,MAAL,GAAc5E,CAAC,CAAC+C,GAA1B,CAA7D,EAA6F,KAAKF,QAAL,GAAgB7C,CAAC,CAAC6C,QAA/G,EAAyH7C,CAAC,CAAC6C,QAA/H,EAAyI;MACrI,IAAIvC,CAAC,GAAG,KAAKuC,QAAL,CAAcoC,qBAAd,CAAoC/C,EAAE,CAACgD,IAAH,CAAQC,IAA5C,CAAR;MAAA,IACA5E,CAAC,GAAG,KAAK+D,IAAL,CAAUc,IAAV,CAAeC,MAAf,CAAsBC,oBAAtB,CAA2ChF,CAA3C,CADJ;MAEA,KAAKgE,IAAL,CAAUc,IAAV,CAAeG,WAAf,CAA2BhF,CAAC,CAACiF,GAAF,CAAMxF,CAAC,CAAC2D,QAAR,CAA3B,GACA,KAAKW,IAAL,CAAUc,IAAV,CAAeK,cAAf,CAA8B,GAA9B,EAAmC,GAAnC,CADA,EAEAvF,CAAC,GAAGF,CAAC,CAAC6C,QAAF,CAAW6C,cAAX,EAFJ;IAGH,CAND,MAMOxF,CAAC,GAAG,IAAIgC,EAAE,CAACuB,IAAP,CAAY,CAAZ,EAAe,CAAf,CAAJ;;IACP,KAAKzD,CAAC,CAACiD,SAAP,GAAmB,KAAKqB,IAAL,CAAUqB,IAAV,GAAiBzD,EAAE,CAAC0D,IAAH,CAAQC,IAAR,CAAaC,OAAjD,GAA0D,KAAKxB,IAAL,CAAUqB,IAAV,GAAiBzD,EAAE,CAAC0D,IAAH,CAAQC,IAAR,CAAaE,IAAxF,EACA/F,CAAC,CAACgD,MAAF,IAAYhD,CAAC,CAACuD,QAAd,IAA0B,KAAKe,IAAL,CAAUc,IAAV,CAAeJ,MAAf,GAAwB,CAAC,CAAzB,EAA4B,KAAK9B,QAAL,EAA5B,EAA6C,KAAK8C,OAAL,CAAahG,CAAC,CAAC8C,SAAf,CAA7C,EAAwE,KAAKmD,YAAL,CAAkB,YAAW;MAC3HjE,CAAC,CAAC+B,QAAF,CAAWC,WAAX,GAAyBC,IAAzB,CAA8BlC,CAAC,CAACmC,aAAF,CAAgBC,UAA9C,EAA0D,CAAC,CAA3D;IACH,CAFiG,EAGlG,EAHkG,CAAlG,IAGOjC,EAAE,CAACgE,KAAH,CAAS,KAAK5B,IAAL,CAAUc,IAAnB,EAAyBe,EAAzB,CAA4BnG,CAAC,CAACsD,QAA9B,EAAwC;MAC3C8C,KAAK,EAAElG,CAAC,CAACkG,KAAF,GAAU,KAAKtB,GAAL,CAAStB,OAAT,CAAiB4C,KADS;MAE3CC,MAAM,EAAEnG,CAAC,CAACmG,MAAF,GAAW,KAAKvB,GAAL,CAAStB,OAAT,CAAiB6C;IAFO,CAAxC,EAGJtF,IAHI,CAGC,YAAW;MACfX,CAAC,CAAC8C,QAAF,IACA9C,CAAC,CAAC4F,OAAF,CAAUhG,CAAC,CAAC8C,SAAZ,CADA;IAEH,CANM,EAMJK,KANI,CAME,EANF,EAMMpC,IANN,CAMW,YAAW;MACzBiB,CAAC,CAAC+B,QAAF,CAAWC,WAAX,GAAyBC,IAAzB,CAA8BlC,CAAC,CAACmC,aAAF,CAAgBC,UAA9C,EAA0D,CAAC,CAA3D;IACH,CARM,EAQJmC,KARI,EAJP;EAaH,CA1BM,EA2BPpG,CAAC,CAACW,SAAF,CAAY0F,SAAZ,GAAwB,UAASvG,CAAT,EAAY;IAChC,IAAIE,CAAC,GAAG,IAAR;;IACA,IAAIF,CAAC,CAACoD,SAAF,IAAepD,CAAC,CAACqD,OAArB,EAA8B;MAC1B,KAAKiB,IAAL,CAAUc,IAAV,CAAeJ,MAAf,GAAwB,CAAC,CAAzB;MACA,IAAI5E,CAAC,GAAGJ,CAAC,CAACoD,SAAF,CAAY6B,qBAAZ,CAAkC/C,EAAE,CAACgD,IAAH,CAAQC,IAA1C,CAAR;MAAA,IACA7E,CAAC,GAAGN,CAAC,CAACqD,OAAF,CAAU4B,qBAAV,CAAgC/C,EAAE,CAACgD,IAAH,CAAQC,IAAxC,CADJ;MAAA,IAEA5E,CAAC,GAAG,KAAKgE,IAAL,CAAUc,MAAV,CAAiBC,oBAAjB,CAAsClF,CAAtC,CAFJ;MAAA,IAGAc,CAAC,GAAG,KAAKqD,IAAL,CAAUc,MAAV,CAAiBC,oBAAjB,CAAsChF,CAAtC,CAHJ;MAIA,KAAK2F,YAAL,CAAkB,YAAW;QACzB/F,CAAC,CAACqE,IAAF,CAAOiC,YAAP,CAAoBtE,EAAE,CAACuE,SAAvB,EAAkCC,IAAlC,CAAuC,SAAvC;MACH,CAFD,EAGA,EAHA,GAIA,KAAKnC,IAAL,CAAUgB,WAAV,CAAsBhF,CAAC,CAACiF,GAAF,CAAM,KAAKV,GAAL,CAAShB,SAAf,CAAtB,CAJA,EAKA,KAAKS,IAAL,CAAUS,MAAV,GAAmB,CAAC,CALpB,EAMA,KAAK2B,SAAL,GAAiBzE,EAAE,CAACgE,KAAH,CAAS,KAAK3B,IAAd,EAAoB4B,EAApB,CAAuBnG,CAAC,CAACsD,QAAzB,EAAmC;QAChDsD,QAAQ,EAAE,IAAI1E,EAAE,CAAC2E,IAAP,CAAY3F,CAAC,CAAC4F,CAAd,EAAiB5F,CAAC,CAAC6F,CAAnB;MADsC,CAAnC,EAEd5D,KAFc,CAER,EAFQ,EAEJpC,IAFI,CAEC,YAAW;QACzBb,CAAC,CAACqE,IAAF,CAAOgB,WAAP,CAAmBhF,CAAC,CAACiF,GAAF,CAAMtF,CAAC,CAAC4E,GAAF,CAAMhB,SAAZ,CAAnB;MACH,CAJgB,EAIdkD,KAJc,GAINC,aAJM,EANjB,EAWA,KAAKN,SAAL,CAAeL,KAAf,EAXA,EAYA,KAAKhC,IAAL,CAAUc,IAAV,CAAeG,WAAf,CAA2BrE,CAA3B,CAZA,EAaA,KAAK8E,OAAL,CAAahG,CAAC,CAAC8C,SAAf,CAbA;IAcH,CApBD,MAoBO,KAAKoE,OAAL;EACV,CAlDM,EAmDPhH,CAAC,CAACW,SAAF,CAAYyF,KAAZ,GAAoB,YAAW;IAC3B,IAAItG,CAAC,GAAG,IAAR;IAAc,CAAC,CAAC,KAAK8E,GAAL,CAAS3B,KAAV,IAAmB,KAAK2B,GAAL,CAAS3B,KAAT,GAAiB,EAArC,MAA6C,KAAK2B,GAAL,CAAS3B,KAAT,GAAiB,EAA9D,GACd,KAAK8C,YAAL,CAAkB,YAAW;MACzB,KAAKjG,CAAC,CAAC8E,GAAF,CAAMlC,SAAX,GAAuB5C,CAAC,CAAC+E,UAAF,CAAa/E,CAAC,CAAC8E,GAAf,CAAvB,GAA6C9E,CAAC,CAACuG,SAAF,CAAYvG,CAAC,CAAC8E,GAAd,CAA7C;IACH,CAFD,EAGA,KAAKA,GAAL,CAAS3B,KAHT,CADc,EAKd,KAAKiC,IAAL,CAAU+B,EAAV,CAAajF,EAAE,CAACkF,IAAH,CAAQC,SAAR,CAAkBC,WAA/B,EACA,UAASpH,CAAT,EAAY;MACR,IAAIF,CAAC,CAAC8E,GAAF,CAAM9B,MAAN,IAAgB,CAAChD,CAAC,CAACsE,IAAF,CAAOc,IAAP,CAAYJ,MAAjC,EAAyC,OAAOhF,CAAC,CAAC8E,GAAF,CAAMpB,QAAN,GAAiB1D,CAAC,CAAC8E,GAAF,CAAMpB,QAAN,EAAjB,GAAoC1D,CAAC,CAACoF,IAAF,CAAOmC,cAAP,CAAsBC,iBAAtB,CAAwC,CAAC,CAAzC,CAApC,EAChD,KAAKxH,CAAC,CAACkH,OAAF,EADoC;MAEzClH,CAAC,CAAC6C,QAAF,IAAc7C,CAAC,CAAC6C,QAAF,CAAW4E,qBAAX,GAAmCC,QAAnC,CAA4CxH,CAAC,CAACyH,WAAF,EAA5C,CAAd,KAA+E3H,CAAC,CAAC8E,GAAF,CAAMpB,QAAN,GAAiB1D,CAAC,CAAC8E,GAAF,CAAMpB,QAAN,EAAjB,GAAoC1D,CAAC,CAACoF,IAAF,CAAOmC,cAAP,CAAsBC,iBAAtB,CAAwC,CAAC,CAAzC,CAApC,EAAiFxH,CAAC,CAACkH,OAAF,EAAhK;IACH,CALD,EAMA,IANA,CALc,EAYd,KAAK5C,IAAL,CAAUc,IAAV,CAAewC,cAAf,CAA8B,IAA9B,EAAoCT,EAApC,CAAuCjF,EAAE,CAACkF,IAAH,CAAQC,SAAR,CAAkBC,WAAzD,EACA,UAASpH,CAAT,EAAY;MACR,IAAIF,CAAC,CAAC8E,GAAF,CAAM9B,MAAN,IAAgB,CAAChD,CAAC,CAACsE,IAAF,CAAOc,IAAP,CAAYJ,MAAjC,EAAyC,OAAOhF,CAAC,CAACkH,OAAF,IAChD,MAAKlH,CAAC,CAAC8E,GAAF,CAAMpB,QAAN,GAAiB1D,CAAC,CAAC8E,GAAF,CAAMpB,QAAN,EAAjB,GAAoC1D,CAAC,CAACoF,IAAF,CAAOmC,cAAP,CAAsBC,iBAAtB,CAAwC,CAAC,CAAzC,CAAzC,CADyC;MAEzCxH,CAAC,CAAC6C,QAAF,IAAc7C,CAAC,CAAC6C,QAAF,CAAW4E,qBAAX,GAAmCC,QAAnC,CAA4CxH,CAAC,CAACyH,WAAF,EAA5C,CAAd,KAA+E3H,CAAC,CAAC8E,GAAF,CAAMpB,QAAN,GAAiB1D,CAAC,CAAC8E,GAAF,CAAMpB,QAAN,EAAjB,GAAoC1D,CAAC,CAACoF,IAAF,CAAOmC,cAAP,CAAsBC,iBAAtB,CAAwC,CAAC,CAAzC,CAApC,EAAiFxH,CAAC,CAACkH,OAAF,EAAhK;IACH,CALD,EAMA,IANA,CAZc;EAmBjB,CAvEM,EAwEPhH,CAAC,CAACW,SAAF,CAAYqC,QAAZ,GAAuB,YAAW;IAC9B,KAAK4B,GAAL,CAAS5B,QAAT,KAAsB,KAAKqB,IAAL,CAAUgB,WAAV,CAAsB,KAAKjB,IAAL,CAAUc,IAAV,CAAewB,QAAf,CAAwBpB,GAAxB,CAA4BtD,EAAE,CAAC2F,EAAH,CAAM,KAAK/C,GAAL,CAAShB,SAAf,CAA5B,CAAtB,GAA+E,KAAKS,IAAL,CAAUS,MAAV,GAAmB,CAAC,CAAzH;EACH,CA1EM,EA2EP9E,CAAC,CAACW,SAAF,CAAYmF,OAAZ,GAAsB,UAAShG,CAAT,EAAY;IAC9B,IAAIA,CAAC,IAAIA,CAAC,CAACqB,MAAF,GAAW,CAApB,EAAuB;MACnB,KAAKqD,KAAL,CAAWM,MAAX,GAAoB,CAAC,CAArB,EACA,KAAKN,KAAL,CAAWa,WAAX,CAAuB,CAAvB,EAA0B,KAAKT,GAAL,CAASjB,IAAnC,CADA,EAEA,KAAKc,OAAL,CAAamD,MAAb,GAAsB9H,CAFtB;MAGA,IAAIE,CAAC,GAAG6H,IAAI,CAACC,GAAL,CAAS,KAAKtD,KAAL,CAAWuD,MAApB,CAAR;MAAA,IACA7H,CAAC,GAAG2H,IAAI,CAACC,GAAL,CAAS,KAAKtD,KAAL,CAAWwD,MAApB,CADJ;MAAA,IAEA5H,CAAC,GAAGyH,IAAI,CAACC,GAAL,CAAS,KAAKrD,OAAL,CAAaS,IAAb,CAAkB6C,MAA3B,CAFJ;MAAA,IAGA1H,CAAC,GAAGwH,IAAI,CAACC,GAAL,CAAS,KAAKrD,OAAL,CAAaS,IAAb,CAAkB8C,MAA3B,CAHJ;MAIA,KAAKtD,MAAL,IAAetD,CAAC,CAACmB,OAAjB,IAA4B,KAAKiC,KAAL,CAAWuD,MAAX,GAAoB,CAAC/H,CAArB,EAAwB,KAAKyE,OAAL,CAAaS,IAAb,CAAkB6C,MAAlB,GAA2B,CAAC3H,CAAhF,IAAqF,KAAKsE,MAAL,IAAetD,CAAC,CAACkB,QAAjB,IAA6B,KAAKkC,KAAL,CAAWuD,MAAX,GAAoB/H,CAApB,EAAuB,KAAKyE,OAAL,CAAaS,IAAb,CAAkB6C,MAAlB,GAA2B3H,CAA/E,IAAoF,KAAKsE,MAAL,IAAetD,CAAC,CAACoB,UAAjB,IAA+B,KAAKgC,KAAL,CAAWuD,MAAX,GAAoB,CAAC/H,CAArB,EAAwB,KAAKwE,KAAL,CAAWwD,MAAX,GAAoB,CAAC9H,CAA7C,EAAgD,KAAKuE,OAAL,CAAaS,IAAb,CAAkB6C,MAAlB,GAA2B,CAAC3H,CAA5E,EAA+E,KAAKqE,OAAL,CAAaS,IAAb,CAAkB8C,MAAlB,GAA2B,CAAC3H,CAA1I,IAA+I,KAAKqE,MAAL,IAAetD,CAAC,CAACqB,WAAjB,KAAiC,KAAK+B,KAAL,CAAWwD,MAAX,GAAoB,CAAC9H,CAArB,EAAwB,KAAKuE,OAAL,CAAaS,IAAb,CAAkB6C,MAAlB,GAA2B3H,CAAnD,EAAsD,KAAKqE,OAAL,CAAaS,IAAb,CAAkB8C,MAAlB,GAA2B,CAAC3H,CAAnH,CAAxT;IACH,CATD,MASO,KAAKmE,KAAL,CAAWM,MAAX,GAAoB,CAAC,CAArB;EACV,CAtFM,EAuFP9D,CAAC,CAAC,CAACoB,CAAC,CAACJ,EAAE,CAAC0D,IAAJ,CAAF,CAAD,EAAe1F,CAAC,CAACW,SAAjB,EAA4B,MAA5B,EAAoC,KAAK,CAAzC,CAvFM,EAwFPK,CAAC,CAAC,CAACoB,CAAC,CAACJ,EAAE,CAACkF,IAAJ,CAAF,CAAD,EAAelH,CAAC,CAACW,SAAjB,EAA4B,MAA5B,EAAoC,KAAK,CAAzC,CAxFM,EAyFPK,CAAC,CAAC,CAACoB,CAAC,CAACJ,EAAE,CAACkF,IAAJ,CAAF,CAAD,EAAelH,CAAC,CAACW,SAAjB,EAA4B,OAA5B,EAAqC,KAAK,CAA1C,CAzFM,EA0FPK,CAAC,CAAC,CAACoB,CAAC,CAACJ,EAAE,CAACkF,IAAJ,CAAF,CAAD,EAAelH,CAAC,CAACW,SAAjB,EAA4B,OAA5B,EAAqC,KAAK,CAA1C,CA1FM,EA2FPK,CAAC,CAAC,CAACoB,CAAC,CAACJ,EAAE,CAACkF,IAAJ,CAAF,CAAD,EAAelH,CAAC,CAACW,SAAjB,EAA4B,OAA5B,EAAqC,KAAK,CAA1C,CA3FM,EA4FPK,CAAC,CAAC,CAACoB,CAAC,CAACJ,EAAE,CAACiG,QAAJ,CAAF,CAAD,EAAmBjI,CAAC,CAACW,SAArB,EAAgC,SAAhC,EAA2C,KAAK,CAAhD,CA5FM,EA6FPK,CAAC,CAAC,CAACkB,CAAD,CAAD,EAAMlC,CAAN,CA7FD;AA8FH,CA3GO,CA2GLwB,CAAC,WA3GI,CAAR;;AA4GAtB,CAAC,WAAD,GAAYgE,CAAZ","sourceRoot":"/","sourcesContent":["var t = require;\nvar e = module;\nvar o = exports;\nvar a, i = this && this.__extends || (a = function(t, e) {\n    return (a = Object.setPrototypeOf || {\n        __proto__: []\n    }\n    instanceof Array &&\n    function(t, e) {\n        t.__proto__ = e\n    } ||\n    function(t, e) {\n        for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o])\n    })(t, e)\n},\nfunction(t, e) {\n    function o() {\n        this.constructor = t\n    }\n    a(t, e),\n    t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)\n}),\nr = this && this.__decorate ||\nfunction(t, e, o, a) {\n    var i, r = arguments.length,\n    n = r < 3 ? e: null === a ? a = Object.getOwnPropertyDescriptor(e, o) : a;\n    if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) n = Reflect.decorate(t, e, o, a);\n    else for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (n = (r < 3 ? i(n) : r > 3 ? i(e, o, n) : i(e, o)) || n);\n    return r > 3 && n && Object.defineProperty(e, o, n),\n    n\n};\nObject.defineProperty(o, \"__esModule\", {\n    value: !0\n}),\no.GuildCfg = o.DirPos = void 0;\nvar n, s = t(\"BaseUI\"),\nc = t(\"Appcfg\"),\nl = t(\"EventMgr\"),\nu = cc._decorator,\np = u.ccclass,\ng = u.property; (function(t) {\n    t[t.TopRight = 0] = \"TopRight\",\n    t[t.TopLeft = 1] = \"TopLeft\",\n    t[t.BottomLeft = 2] = \"BottomLeft\",\n    t[t.BottomRight = 3] = \"BottomRight\"\n})(n = o.DirPos || (o.DirPos = {}));\no.GuildCfg = function() {\n    this.clickType = 0,\n    this.distNode = null,\n    this.tipstring = null,\n    this.dir = n.TopRight,\n    this.isWeek = !1,\n    this.lightType = 1,\n    this.showHand = !0,\n    this.delay = .1,\n    this.startNode = null,\n    this.endNode = null,\n    this.moveTime = .2,\n    this.hideMask = !1,\n    this.addSize = new cc.Size(10, 10),\n    this.callBack = null,\n    this.indexPos = cc.v2(),\n    this.yDec = 0,\n    this.handIndex = cc.v2(),\n    l.EventMgr.getInstance().emit(c.BaseEventName.blocktouch, !1)\n};\nvar d = function(t) {\n    function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.mask = null,\n        e.hand = null,\n        e.hand1 = null,\n        e.hand2 = null,\n        e.tipBg = null,\n        e.tipText = null,\n        e.distNode = null,\n        e.dirPos = n.TopRight,\n        e\n    }\n    return i(e, t),\n    e.prototype.init = function(t) {\n        this.cfg = t\n    },\n    e.prototype.clickTouch = function(t) {\n        var e, o = this;\n        if (this.hand.active = !1, this.tipBg.active = !1, this.cfg = t, t.dir && (this.dirPos = t.dir), this.distNode = t.distNode, t.distNode) {\n            var a = this.distNode.convertToWorldSpaceAR(cc.Vec2.ZERO),\n            i = this.mask.node.parent.convertToNodeSpaceAR(a);\n            this.mask.node.setPosition(i.add(t.indexPos)),\n            this.mask.node.setContentSize(900, 900),\n            e = t.distNode.getContentSize()\n        } else e = new cc.Size(0, 0);\n        0 == t.lightType ? this.mask.type = cc.Mask.Type.ELLIPSE: this.mask.type = cc.Mask.Type.RECT,\n        t.isWeek && t.hideMask ? (this.mask.node.active = !1, this.showHand(), this.showTip(t.tipstring), this.scheduleOnce(function() {\n            l.EventMgr.getInstance().emit(c.BaseEventName.blocktouch, !0)\n        },\n        .1)) : cc.tween(this.mask.node).to(t.moveTime, {\n            width: e.width + this.cfg.addSize.width,\n            height: e.height + this.cfg.addSize.height\n        }).call(function() {\n            o.showHand(),\n            o.showTip(t.tipstring)\n        }).delay(.1).call(function() {\n            l.EventMgr.getInstance().emit(c.BaseEventName.blocktouch, !0)\n        }).start()\n    },\n    e.prototype.moveTouch = function(t) {\n        var e = this;\n        if (t.startNode && t.endNode) {\n            this.mask.node.active = !1;\n            var o = t.startNode.convertToWorldSpaceAR(cc.Vec2.ZERO),\n            a = t.endNode.convertToWorldSpaceAR(cc.Vec2.ZERO),\n            i = this.hand.parent.convertToNodeSpaceAR(o),\n            r = this.hand.parent.convertToNodeSpaceAR(a);\n            this.scheduleOnce(function() {\n                e.hand.getComponent(cc.Animation).stop(\"handAni\")\n            },\n            .2),\n            this.hand.setPosition(i.add(this.cfg.handIndex)),\n            this.hand.active = !0,\n            this.moveTween = cc.tween(this.hand).to(t.moveTime, {\n                position: new cc.Vec3(r.x, r.y)\n            }).delay(.5).call(function() {\n                e.hand.setPosition(i.add(e.cfg.handIndex))\n            }).union().repeatForever(),\n            this.moveTween.start(),\n            this.mask.node.setPosition(r),\n            this.showTip(t.tipstring)\n        } else this.closeUI()\n    },\n    e.prototype.start = function() {\n        var t = this; (!this.cfg.delay || this.cfg.delay < .1) && (this.cfg.delay = .1),\n        this.scheduleOnce(function() {\n            0 == t.cfg.clickType ? t.clickTouch(t.cfg) : t.moveTouch(t.cfg)\n        },\n        this.cfg.delay),\n        this.node.on(cc.Node.EventType.TOUCH_START,\n        function(e) {\n            if (t.cfg.isWeek || !t.mask.node.active) return t.cfg.callBack ? t.cfg.callBack() : t.node._touchListener.setSwallowTouches(!1),\n            void t.closeUI();\n            t.distNode && t.distNode.getBoundingBoxToWorld().contains(e.getLocation()) && (t.cfg.callBack ? t.cfg.callBack() : t.node._touchListener.setSwallowTouches(!1), t.closeUI())\n        },\n        this),\n        this.mask.node.getChildByName(\"bg\").on(cc.Node.EventType.TOUCH_START,\n        function(e) {\n            if (t.cfg.isWeek || !t.mask.node.active) return t.closeUI(),\n            void(t.cfg.callBack ? t.cfg.callBack() : t.node._touchListener.setSwallowTouches(!1));\n            t.distNode && t.distNode.getBoundingBoxToWorld().contains(e.getLocation()) && (t.cfg.callBack ? t.cfg.callBack() : t.node._touchListener.setSwallowTouches(!1), t.closeUI())\n        },\n        this)\n    },\n    e.prototype.showHand = function() {\n        this.cfg.showHand && (this.hand.setPosition(this.mask.node.position.add(cc.v3(this.cfg.handIndex))), this.hand.active = !0)\n    },\n    e.prototype.showTip = function(t) {\n        if (t && t.length > 0) {\n            this.tipBg.active = !0,\n            this.tipBg.setPosition(0, this.cfg.yDec),\n            this.tipText.string = t;\n            var e = Math.abs(this.tipBg.scaleX),\n            o = Math.abs(this.tipBg.scaleY),\n            a = Math.abs(this.tipText.node.scaleX),\n            i = Math.abs(this.tipText.node.scaleY);\n            this.dirPos == n.TopLeft ? (this.tipBg.scaleX = -e, this.tipText.node.scaleX = -a) : this.dirPos == n.TopRight ? (this.tipBg.scaleX = e, this.tipText.node.scaleX = a) : this.dirPos == n.BottomLeft ? (this.tipBg.scaleX = -e, this.tipBg.scaleY = -o, this.tipText.node.scaleX = -a, this.tipText.node.scaleY = -i) : this.dirPos == n.BottomRight && (this.tipBg.scaleY = -o, this.tipText.node.scaleX = a, this.tipText.node.scaleY = -i)\n        } else this.tipBg.active = !1\n    },\n    r([g(cc.Mask)], e.prototype, \"mask\", void 0),\n    r([g(cc.Node)], e.prototype, \"hand\", void 0),\n    r([g(cc.Node)], e.prototype, \"hand1\", void 0),\n    r([g(cc.Node)], e.prototype, \"hand2\", void 0),\n    r([g(cc.Node)], e.prototype, \"tipBg\", void 0),\n    r([g(cc.RichText)], e.prototype, \"tipText\", void 0),\n    r([p], e)\n} (s.default);\no.default = d"]}