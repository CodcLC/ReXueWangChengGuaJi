{"version":3,"sources":["assets\\scripts\\UIMgr.js"],"names":["t","require","e","module","o","exports","Object","defineProperty","value","UIMgr","a","i","r","n","s","c","l","uid","callback","parent","fromId","param1","param2","param3","param4","param5","u","uistatck","Map","uichace","orderMap","popStatck","logStatck","watingOpen","onlyShowOne","activityOne","layerNodeMap","otherUIConf","uiRoot","UIConf","isopening","touchTime","getInstance","instance","prototype","preLoadUI","getUICnf","ResourceMgr","loadRes","bundleName","prefab","cc","Prefab","instantiate","name","getComponent","set","LogMgr","error","addLayerShowOne","push","addLayerActivityOne","addUICnf","setConf","Init","UICF","addTipsNode","getUIRoot","getChildByName","isValid","addBlockTouch","blockNode","Node","height","view","getVisibleSize","width","zIndex","on","EventType","TOUCH_START","tipsNode","destroy","addComponent","Label","string","fontSize","y","active","Date","getTime","touchNum","_touchListener","setSwallowTouches","openUIOfParent","open","openUIOfCallback","openUIOfParentAndCallback","openUI","p","g","d","h","f","m","debug","v","popCanShow","get","showMult","node","refreshUI","I","init","k","addChild","x","layer","C","has","setUid","updateMainUI","S","M","openAni","EventMgr","emit","BaseEventName","OpenUI","openWaiting","length","pop","closeUI","closeAni","getUid","onClose","cache","removeFromParent","splice","CloseUI","OrderLayer","main","Log","checkHomeShow","checkOtherEmpty","pop2","closeById","getUIById","getUIShowNum","forEach","getUIByIdWithNode"],"mappings":"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","sourceRoot":"/","sourcesContent":["var t = require;\nvar e = module;\nvar o = exports;\nObject.defineProperty(o, \"__esModule\", {\n    value: !0\n}),\no.UIMgr = void 0;\nvar a = t(\"Config\"),\ni = t(\"BaseUI\"),\nr = t(\"Appcfg\"),\nn = t(\"EventMgr\"),\ns = t(\"LogMgr\"),\nc = t(\"ResourceMgr\"),\nl = function(t, e, o, a, i, r, n, s, c) {\n    this.uid = t,\n    this.callback = a,\n    this.parent = o,\n    this.fromId = e,\n    this.param1 = i,\n    this.param2 = r,\n    this.param3 = n,\n    this.param4 = s,\n    this.param5 = c\n},\nu = function() {\n    function t() {\n        this.uistatck = new Map,\n        this.uichace = new Map,\n        this.orderMap = new Map,\n        this.popStatck = [],\n        this.logStatck = [],\n        this.watingOpen = [],\n        this.onlyShowOne = [],\n        this.activityOne = [],\n        this.layerNodeMap = new Map,\n        this.otherUIConf = [],\n        this.uiRoot = null,\n        this.UIConf = {},\n        this.isopening = !1,\n        this.touchTime = -1\n    }\n    return t.getInstance = function() {\n        return null == this.instance && (this.instance = new t),\n        this.instance\n    },\n    t.prototype.preLoadUI = function(t, e) {\n        var o = this,\n        a = this.getUICnf(t);\n        a ? c.ResourceMgr.getInstance().loadRes(a.bundleName, a.prefab, cc.Prefab,\n        function(r) {\n            var n = cc.instantiate(r);\n            n.name = a.name;\n            var s = n.getComponent(i.default);\n            o.uichace.set(t, s),\n            e && e()\n        }) : s.LogMgr.getInstance().error(\"ui没有配置：\", t)\n    },\n    t.prototype.addLayerShowOne = function(t) {\n        this.onlyShowOne.push(t)\n    },\n    t.prototype.addLayerActivityOne = function(t) {\n        this.activityOne.push(t)\n    },\n    t.prototype.addUICnf = function(t) {\n        this.otherUIConf.push(t)\n    },\n    t.prototype.setConf = function(t) {\n        this.UIConf = t\n    },\n    t.prototype.Init = function(t) {\n        this.uiRoot = t,\n        this.UIConf = a.UICF,\n        this.touchTime = -1,\n        this.addTipsNode()\n    },\n    t.prototype.getUIRoot = function(t) {\n        var e = this.uiRoot.getChildByName(a.UICF[t].name);\n        if (cc.isValid(e)) return e\n    },\n    t.prototype.addBlockTouch = function() {\n        this.blockNode = new cc.Node,\n        this.blockNode.height = cc.view.getVisibleSize().height,\n        this.blockNode.width = cc.view.getVisibleSize().width,\n        this.blockNode.parent = this.uiRoot,\n        this.blockNode.zIndex = 99999,\n        this.blockNode.on(cc.Node.EventType.TOUCH_START,\n        function() {})\n    },\n    t.prototype.addTipsNode = function() {\n        var t = this;\n        this.tipsNode && this.tipsNode.destroy(),\n        this.tipsNode = new cc.Node,\n        this.tipsNode.height = cc.view.getVisibleSize().height,\n        this.tipsNode.width = cc.view.getVisibleSize().width;\n        var e = new cc.Node,\n        o = e.addComponent(cc.Label);\n        o.string = \"著作权人：实丰（深圳）网络科技有限公司\",\n        o.fontSize = 20,\n        e.parent = this.tipsNode,\n        e.y = -(cc.view.getVisibleSize().height / 2 - 20),\n        e.active = !1,\n        this.tipsNode.parent = this.uiRoot,\n        this.tipsNode.zIndex = 99999,\n        this.tipsNode.on(cc.Node.EventType.TOUCH_START,\n        function() {\n            var o = new Date().getTime(); - 1 != t.touchTime && o - t.touchTime < 200 ? t.touchNum++:t.touchNum = 0,\n            t.touchNum >= 20 && (e.active = !0),\n            t.touchTime = new Date().getTime()\n        }),\n        this.tipsNode._touchListener.setSwallowTouches(!1)\n    },\n    t.prototype.openUIOfParent = function(t, e, o, a, i, r, n, s) {\n        this.open(t, e, o, a, i, r, n, s)\n    },\n    t.prototype.openUIOfCallback = function(t, e, o, a, i, r, n, s) {\n        this.open(t, e, this.uiRoot, o, a, i, r, n, s)\n    },\n    t.prototype.openUIOfParentAndCallback = function(t, e, o, a, i, r, n, s, c) {\n        this.open(t, e, o, a, i, r, n, s, c)\n    },\n    t.prototype.openUI = function(t, e, o, a, i, r, n) {\n        this.open(t, e, this.uiRoot, null, o, a, i, r, n)\n    },\n    t.prototype.open = function(t, e, o, a, u, p, g, d, h) {\n        var f = this;\n        if (this.isopening) {\n            var m = new l(t, e, o, a, u, p, g, d, h);\n            this.watingOpen.push(m)\n        } else {\n            this.isopening = !0;\n            var y = this.getUICnf(t);\n            if (null == y) return s.LogMgr.getInstance().debug(t + \"不存在\"),\n            void(this.isopening = !1);\n            var v = new l(t, e, o, a, u, p, g, d, h);\n            if (this.popCanShow(t, y, v)) {\n                if (this.uistatck.get(t) && !y.showMult) return s.LogMgr.getInstance().debug(t + \"已经存在\"),\n                this.uistatck.get(t).node.getComponent(i.default).refreshUI(t, e, a, u, p, g, d, h),\n                void(this.isopening = !1);\n                var I = this.uichace.get(t);\n                if (I) {\n                    this.uistatck.set(t, I),\n                    I.init && I.init(u, p, g, d, h),\n                    this.uichace.delete(t);\n                    var k = o.getChildByName(y.name);\n                    null == k && ((k = I.node).active = !1, k.name = y.name, o.addChild(k)),\n                    k.x = 0,\n                    k.y = 0,\n                    k.active = !1,\n                    I.layer = y.zIndex;\n                    var C = y.zIndex;\n                    this.orderMap.has(I.layer) && (C = this.orderMap.get(I.layer) + 1),\n                    this.orderMap.set(I.layer, C),\n                    k.zIndex = C,\n                    I.setUid(t),\n                    I.fromId = e,\n                    this.updateMainUI(t, y);\n                    var S = this.layerNodeMap.get(y.zIndex);\n                    if (S) S.push(k);\n                    else {\n                        var M = [];\n                        M.push(k),\n                        this.layerNodeMap.set(y.zIndex, M)\n                    }\n                    I.openAni(),\n                    a && a(k),\n                    n.EventMgr.getInstance().emit(r.BaseEventName.OpenUI, t, k),\n                    this.isopening = !1,\n                    this.openWaiting(),\n                    k.active = !0\n                } else c.ResourceMgr.getInstance().loadRes(y.bundleName, y.prefab, cc.Prefab,\n                function(s) {\n                    var c = cc.instantiate(s);\n                    c.active = !1,\n                    c.name = y.name,\n                    o.addChild(c);\n                    var l = c.getComponent(i.default);\n                    f.uistatck.set(t, l),\n                    l.init && l.init(u, p, g, d, h),\n                    l.setUid(t),\n                    l.fromId = e,\n                    l.layer = y.zIndex;\n                    var m = y.zIndex;\n                    f.orderMap.has(l.layer) && (m = f.orderMap.get(l.layer) + 1),\n                    f.orderMap.set(l.layer, m),\n                    c.zIndex = m,\n                    c.x = 0,\n                    c.y = 0,\n                    f.updateMainUI(t, y);\n                    var v = f.layerNodeMap.get(y.zIndex);\n                    if (v) v.push(c);\n                    else {\n                        var I = [];\n                        I.push(c),\n                        f.layerNodeMap.set(y.zIndex, I)\n                    }\n                    l.openAni(),\n                    a && a(c),\n                    n.EventMgr.getInstance().emit(r.BaseEventName.OpenUI, t, c),\n                    f.isopening = !1,\n                    f.openWaiting(),\n                    c.active = !0\n                })\n            } else this.isopening = !1\n        }\n    },\n    t.prototype.getChildByName = function(t) {\n        return this.uiRoot.getChildByName(t)\n    },\n    t.prototype.openWaiting = function() {\n        if (this.watingOpen.length > 0) {\n            var t = this.watingOpen.pop();\n            this.openUIOfParentAndCallback(t.uid, t.fromId, t.parent, t.callback, t.param1, t.param2, t.param3, t.param4, t.param5)\n        }\n    },\n    t.prototype.closeUI = function(t, e, o, a, c) {\n        var l = this;\n        if (null != t && t.isValid) {\n            var u = t.getComponent(i.default);\n            u.closeAni(function() {\n                var i = u.getUid(),\n                s = l.getUICnf(i);\n                if (u.onClose(), u.cache ? (t.removeFromParent(), l.uichace.set(i, u)) : t.destroy(), l.uistatck.delete(i), null != s) {\n                    var p = l.layerNodeMap.get(s.zIndex);\n                    if (p) for (var g = 0; g < p.length; g++) if (p[g].name == t.name) {\n                        p = p.splice(g, 1);\n                        break\n                    }\n                    var d = u.layer;\n                    if (l.orderMap.has(u.layer) && (d = l.orderMap.get(u.layer) - 1) < u.layer && (d = u.layer), l.orderMap.set(u.layer, d), n.EventMgr.getInstance().emit(r.BaseEventName.CloseUI, i, e, o, a, c), s.zIndex == r.OrderLayer.pop) {\n                        if (l.popStatck.length > 0) {\n                            var h = l.popStatck.pop();\n                            l.openUIOfCallback(h.uid, h.fromId, h.callback, h.param1, h.param2, h.param3, h.param4, h.param5)\n                        }\n                    } else if (s.zIndex == r.OrderLayer.main) {\n                        var f = l.layerNodeMap.get(s.zIndex);\n                        f && f.length > 0 && (f[f.length - 1].active = !0)\n                    } else s.zIndex == r.OrderLayer.Log && l.logStatck.length > 0 && (h = l.logStatck.pop(), l.openUIOfCallback(h.uid, h.fromId, h.callback, h.param1, h.param2, h.param3, h.param4, h.param5));\n                    l.checkHomeShow()\n                }\n            })\n        } else s.LogMgr.getInstance().debug(\"关闭失败\")\n    },\n    t.prototype.checkHomeShow = function() {},\n    t.prototype.checkOtherEmpty = function() {\n        var t = this.layerNodeMap.get(r.OrderLayer.pop),\n        e = this.layerNodeMap.get(r.OrderLayer.pop2);\n        return ! (t && t.length > 0 || e && e.length > 0)\n    },\n    t.prototype.updateMainUI = function() {},\n    t.prototype.popCanShow = function(t, e, o) {\n        var a = this.layerNodeMap.get(e.zIndex);\n        if (e.zIndex == r.OrderLayer.pop) {\n            if (a && a.length > 0) {\n                for (var i = 0; i < this.popStatck.length; i++) if (this.popStatck[i].uid == t) return ! 1;\n                return this.popStatck.push(o),\n                !1\n            }\n        } else if (e.zIndex == r.OrderLayer.Log && a && a.length > 0) return this.logStatck.push(o),\n        !1;\n        return ! 0\n    },\n    t.prototype.closeById = function(t, e, o, a, i, r) {\n        var n = this.uistatck.get(t);\n        n ? n.node ? this.closeUI(n.node, e, o, a, i, r) : s.LogMgr.getInstance().debug(\"关闭失败2\") : s.LogMgr.getInstance().debug(\"关闭失败1\")\n    },\n    t.prototype.getUIById = function(t) {\n        var e = this.uistatck.get(t);\n        if (e) return e;\n        var o = this.uiRoot.getChildByName(this.getUICnf(t).name);\n        return o ? o.getComponent(i.default) : null\n    },\n    t.prototype.getUIShowNum = function(t) {\n        var e = 0;\n        return this.uistatck.forEach(function(o, a) {\n            a == t && e++\n        }),\n        e\n    },\n    t.prototype.getUIByIdWithNode = function(t, e) {\n        var o = this.uistatck.get(t);\n        if (o) return o;\n        if (null == e) return null;\n        var a = e.getChildByName(this.getUICnf(t).name);\n        return a ? a.getComponent(i.default) : null\n    },\n    t.prototype.getUICnf = function(t) {\n        var e = this.UIConf[t];\n        if (e) return e;\n        for (var o = 0; o < this.otherUIConf.length; o++) {\n            var a = this.otherUIConf[o][t];\n            if (a) return a\n        }\n        return null\n    },\n    t.instance = null,\n    t\n} ();\no.UIMgr = u"]}