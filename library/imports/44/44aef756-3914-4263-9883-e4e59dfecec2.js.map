{"version":3,"sources":["assets\\scripts\\TimeMgr.js"],"names":["t","require","e","module","o","exports","Object","defineProperty","value","TimeMgr","a","i","r","n","s","c","l","u","p","isOpenTimer_power","time_power","isOpenTimer_online","time_online","isOpenTimer_pet","time_pet","time_OnlineMain","time_MysticalShop","getInstance","instance","prototype","initData","Number","DataMgr","getParamsCfgForSingle","EnumParams","AddPowerTime","callbackTimer_power","EventMgr","emit","EventName","RefreshPowerTime","PlayerMgr","geUserData","refreshLastOfflineTime","addPowerNumForLimit","closeTimer_power","openTimer_power","schedule","unschedule","resetTimerData_power","initTime_online","callbackTimer_online","RefreshOnlineTime","setOnHookTime","TimeUtils","timeExchange","closeTimer_online","openTimer_online","resetTimerData_online","callbackTimer_pet","RefreshPetViewTime","closeTimer_pet","openTimer_pet","callbackTimer_OnlineMain","getTrackData","youmengTrack","TrackId","time_1","time_3","time_5","time_7","time_10","time_12","time_15","time_20","openTimer_OnlineMain","closeTimer_OnlineMain","resetTimerData_OnlineMain","initMysticalShop","getMysticalShopData","getMysticalShopTime","callbackTimer_MysticalShop","RefreshMysticalShopTime","refreshMysticalShopData","setMysticalShopTime","resetTimerData_MysticalShop","openTimer_MysticalShop","closeTimer_MysticalShop"],"mappings":"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","sourceRoot":"/","sourcesContent":["var t = require;\nvar e = module;\nvar o = exports;\nObject.defineProperty(o, \"__esModule\", {\n    value: !0\n}),\no.TimeMgr = void 0;\nvar a = t(\"EventMgr\"),\ni = t(\"TimeUtils\"),\nr = t(\"Main\"),\nn = t(\"Config\"),\ns = t(\"TrackDataEvent\"),\nc = t(\"DataMgr\"),\nl = t(\"GameMgr\"),\nu = t(\"PlayerMgr\"),\np = function() {\n    function t() {\n        this.isOpenTimer_power = !1,\n        this.time_power = 60,\n        this.isOpenTimer_online = !1,\n        this.time_online = 0,\n        this.isOpenTimer_pet = !1,\n        this.time_pet = 0,\n        this.time_OnlineMain = 0,\n        this.time_MysticalShop = 86400\n    }\n    return t.getInstance = function() {\n        return null == this.instance && (this.instance = new t),\n        this.instance\n    },\n    t.prototype.initData = function() {\n        this.time_power = Number(c.DataMgr.getInstance().getParamsCfgForSingle(n.EnumParams.AddPowerTime).value)\n    },\n    t.prototype.callbackTimer_power = function() {\n        this.time_power--,\n        a.EventMgr.getInstance().emit(n.EventName.RefreshPowerTime, this.time_power),\n        this.time_power <= 0 && (u.PlayerMgr.getInstance().geUserData().refreshLastOfflineTime(), u.PlayerMgr.getInstance().geUserData().addPowerNumForLimit(1) && this.closeTimer_power(), this.time_power = Number(c.DataMgr.getInstance().getParamsCfgForSingle(n.EnumParams.AddPowerTime).value))\n    },\n    t.prototype.openTimer_power = function() {\n        this.isOpenTimer_power || (r.default.instance.schedule(r.default.instance.callbackTimer_power, 1), this.isOpenTimer_power = !0)\n    },\n    t.prototype.closeTimer_power = function() {\n        this.isOpenTimer_power && (r.default.instance.unschedule(r.default.instance.callbackTimer_power), this.isOpenTimer_power = !1)\n    },\n    t.prototype.resetTimerData_power = function() {\n        this.time_power = 0\n    },\n    t.prototype.initTime_online = function(t) {\n        this.time_online = t\n    },\n    t.prototype.callbackTimer_online = function() {\n        this.time_online++,\n        a.EventMgr.getInstance().emit(n.EventName.RefreshOnlineTime, this.time_online),\n        this.time_online % 10 == 0 && (u.PlayerMgr.getInstance().geUserData().setOnHookTime(this.time_online), u.PlayerMgr.getInstance().geUserData().refreshLastOfflineTime(), i.TimeUtils.timeExchange(2, this.time_online) >= 6 && this.closeTimer_online())\n    },\n    t.prototype.openTimer_online = function() {\n        this.isOpenTimer_online || (r.default.instance.schedule(r.default.instance.callbackTimer_online, 1), this.isOpenTimer_online = !0)\n    },\n    t.prototype.closeTimer_online = function() {\n        r.default.instance.unschedule(r.default.instance.callbackTimer_online),\n        this.isOpenTimer_online = !1\n    },\n    t.prototype.resetTimerData_online = function() {\n        this.time_online = 0\n    },\n    t.prototype.callbackTimer_pet = function() {\n        this.time_pet++,\n        a.EventMgr.getInstance().emit(n.EventName.RefreshPetViewTime, this.time_pet),\n        this.time_pet >= 30 && (this.closeTimer_pet(), this.time_pet = 0)\n    },\n    t.prototype.openTimer_pet = function() {\n        this.isOpenTimer_pet || (r.default.instance.schedule(r.default.instance.callbackTimer_pet, 1), this.isOpenTimer_pet = !0)\n    },\n    t.prototype.closeTimer_pet = function() {\n        r.default.instance.unschedule(r.default.instance.callbackTimer_pet),\n        this.isOpenTimer_pet = !1,\n        this.time_pet = 0\n    },\n    t.prototype.callbackTimer_OnlineMain = function() {\n        this.time_OnlineMain++,\n        this.time_OnlineMain >= 60 && this.time_OnlineMain < 180 ? u.PlayerMgr.getInstance().getTrackData().youmengTrack(s.TrackId.time_1) : this.time_OnlineMain >= 180 && this.time_OnlineMain < 300 ? u.PlayerMgr.getInstance().getTrackData().youmengTrack(s.TrackId.time_3) : this.time_OnlineMain >= 300 && this.time_OnlineMain < 420 ? u.PlayerMgr.getInstance().getTrackData().youmengTrack(s.TrackId.time_5) : this.time_OnlineMain >= 420 && this.time_OnlineMain < 600 ? u.PlayerMgr.getInstance().getTrackData().youmengTrack(s.TrackId.time_7) : this.time_OnlineMain >= 600 && this.time_OnlineMain < 720 ? u.PlayerMgr.getInstance().getTrackData().youmengTrack(s.TrackId.time_10) : this.time_OnlineMain >= 720 && this.time_OnlineMain < 900 ? u.PlayerMgr.getInstance().getTrackData().youmengTrack(s.TrackId.time_12) : this.time_OnlineMain >= 900 && this.time_OnlineMain < 1200 ? u.PlayerMgr.getInstance().getTrackData().youmengTrack(s.TrackId.time_15) : this.time_OnlineMain >= 1200 && u.PlayerMgr.getInstance().getTrackData().youmengTrack(s.TrackId.time_20),\n        this.time_OnlineMain\n    },\n    t.prototype.openTimer_OnlineMain = function() {\n        r.default.instance.schedule(r.default.instance.callbackTimer_OnlineMain, 1)\n    },\n    t.prototype.closeTimer_OnlineMain = function() {\n        r.default.instance.unschedule(r.default.instance.callbackTimer_OnlineMain)\n    },\n    t.prototype.resetTimerData_OnlineMain = function() {\n        this.time_OnlineMain = 0\n    },\n    t.prototype.initMysticalShop = function() {\n        this.time_MysticalShop = u.PlayerMgr.getInstance().getMysticalShopData().getMysticalShopTime()\n    },\n    t.prototype.callbackTimer_MysticalShop = function() {\n        this.time_MysticalShop--,\n        a.EventMgr.getInstance().emit(n.EventName.RefreshMysticalShopTime, this.time_MysticalShop),\n        this.time_MysticalShop <= 0 && (l.default.getInstance().refreshMysticalShopData(), u.PlayerMgr.getInstance().getMysticalShopData().setMysticalShopTime(86400), this.resetTimerData_MysticalShop())\n    },\n    t.prototype.openTimer_MysticalShop = function() {\n        this.initMysticalShop(),\n        r.default.instance.schedule(r.default.instance.callbackTimer_MysticalShop, 1)\n    },\n    t.prototype.closeTimer_MysticalShop = function() {\n        r.default.instance.unschedule(r.default.instance.callbackTimer_MysticalShop)\n    },\n    t.prototype.resetTimerData_MysticalShop = function() {\n        this.time_MysticalShop = 86400\n    },\n    t\n} ();\no.TimeMgr = p"]}