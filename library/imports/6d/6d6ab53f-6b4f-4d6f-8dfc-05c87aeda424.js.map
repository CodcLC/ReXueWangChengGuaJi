{"version":3,"sources":["assets\\scripts\\TaskMgr.js"],"names":["t","require","e","module","o","exports","Object","defineProperty","value","a","i","r","taskList","taskNeedCountList","getInstance","instance","prototype","initTaskData","length","PlayerMgr","geUserData","getCurTaskList","DataMgr","getTaskCfg","FirstTask","id","ID","type","Type","state","needCount","TaskParameter","setTaskList","initTaskNeedCountData","refreshTaskData","refreshTaskDataForState","getTaskList","getTaskNeedCountList","getTaskNeedCountArr","setTaskNeedCountArr","addUpLoginForTask","refreshTaskState","costPowerForTask","upFightNumForTask","addOnHookCountForTask","addSkillBookCountForTask","getSkillBookArr","skillBookMaxLvforTask","addEquipCountForTask","wearEquipQualityForTask","getTaskCfgForId","TaskParameterType","getWearedEquipQualityList","n","addDrawRewardCountForCount","addLookVideoCountForTask","passSecForTask","addEquipStrengthenCountForTask"],"mappings":"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","sourceRoot":"/","sourcesContent":["var t = require;\nvar e = module;\nvar o = exports;\nObject.defineProperty(o, \"__esModule\", {\n    value: !0\n});\nvar a = t(\"DataMgr\"),\ni = t(\"PlayerMgr\"),\nr = function() {\n    function t() {\n        this.taskList = [],\n        this.taskNeedCountList = []\n    }\n    return t.getInstance = function() {\n        return null == this.instance && (this.instance = new t),\n        this.instance\n    },\n    t.prototype.initTaskData = function() {\n        if (! (this.taskList.length > 0)) {\n            this.taskList = [];\n            var t = i.PlayerMgr.getInstance().geUserData();\n            if (t.getCurTaskList().length <= 0) for (var e = a.DataMgr.getInstance().getTaskCfg(), o = 0; o < e.length; o++) if (1 == e[o].FirstTask) {\n                var r = {\n                    id: e[o].ID,\n                    type: e[o].Type,\n                    state: 0,\n                    needCount: e[o].TaskParameter\n                };\n                t.setTaskList(r)\n            }\n            this.taskList = t.getCurTaskList(),\n            this.initTaskNeedCountData()\n        }\n    },\n    t.prototype.refreshTaskData = function(t) {\n        var e = i.PlayerMgr.getInstance().geUserData();\n        e.getCurTaskList()[t.type - 1] && (i.PlayerMgr.getInstance().geUserData().setTaskList(t), this.taskList = e.getCurTaskList())\n    },\n    t.prototype.refreshTaskDataForState = function(t) {\n        this.taskList[t.type - 1].state = t.state,\n        i.PlayerMgr.getInstance().geUserData().setTaskList(this.taskList[t.type - 1])\n    },\n    t.prototype.getTaskList = function() {\n        return (!this.taskList || this.taskList.length <= 0) && this.initTaskData(),\n        this.taskList\n    },\n    t.prototype.getTaskNeedCountList = function() {\n        return (!this.taskNeedCountList || this.taskNeedCountList.length <= 0) && this.initTaskData(),\n        this.taskNeedCountList\n    },\n    t.prototype.initTaskNeedCountData = function() {\n        if (! (this.taskNeedCountList.length > 0)) {\n            var t = i.PlayerMgr.getInstance().geUserData();\n            if (t.getTaskNeedCountArr().length <= 0) for (var e = 0; e < this.taskList.length; e++) t.setTaskNeedCountArr(e + 1, 0);\n            this.taskNeedCountList = t.getTaskNeedCountArr()\n        }\n    },\n    t.prototype.addUpLoginForTask = function() {\n        this.getTaskNeedCountList()[0] += 1,\n        i.PlayerMgr.getInstance().geUserData().setTaskNeedCountArr(1, this.getTaskNeedCountList()[0]),\n        this.refreshTaskState(1)\n    },\n    t.prototype.costPowerForTask = function(t) {\n        this.getTaskNeedCountList()[1] += t,\n        i.PlayerMgr.getInstance().geUserData().setTaskNeedCountArr(2, this.getTaskNeedCountList()[1]),\n        this.refreshTaskState(2)\n    },\n    t.prototype.upFightNumForTask = function(t) {\n        t > this.getTaskNeedCountList()[2] && (this.getTaskNeedCountList()[2] = t, i.PlayerMgr.getInstance().geUserData().setTaskNeedCountArr(3, this.getTaskNeedCountList()[2]), this.refreshTaskState(3))\n    },\n    t.prototype.addOnHookCountForTask = function() {\n        this.getTaskNeedCountList()[3] += 1,\n        i.PlayerMgr.getInstance().geUserData().setTaskNeedCountArr(4, this.getTaskNeedCountList()[3]),\n        this.refreshTaskState(4)\n    },\n    t.prototype.addSkillBookCountForTask = function(t) {\n        void 0 === t && (t = 1);\n        var e = i.PlayerMgr.getInstance().geUserData().getSkillBookArr();\n        this.getTaskNeedCountList()[4] = e.length,\n        i.PlayerMgr.getInstance().geUserData().setTaskNeedCountArr(5, this.getTaskNeedCountList()[4]),\n        this.refreshTaskState(5)\n    },\n    t.prototype.skillBookMaxLvforTask = function(t) {\n        t > this.getTaskNeedCountList()[5] && (this.getTaskNeedCountList()[5] = t, i.PlayerMgr.getInstance().geUserData().setTaskNeedCountArr(6, this.getTaskNeedCountList()[5]), this.refreshTaskState(6))\n    },\n    t.prototype.addEquipCountForTask = function(t) {\n        void 0 === t && (t = 1),\n        this.getTaskNeedCountList()[6] += t,\n        i.PlayerMgr.getInstance().geUserData().setTaskNeedCountArr(7, this.getTaskNeedCountList()[6]),\n        this.refreshTaskState(7)\n    },\n    t.prototype.wearEquipQualityForTask = function(t) {\n        for (var e = 0,\n        o = a.DataMgr.getInstance().getTaskCfgForId(t, 8).TaskParameterType, r = i.PlayerMgr.getInstance().geUserData().getWearedEquipQualityList(), n = 0; n < r.length; n++) r[n] >= o && (e += 1);\n        this.getTaskNeedCountList()[7] = e,\n        i.PlayerMgr.getInstance().geUserData().setTaskNeedCountArr(8, this.getTaskNeedCountList()[7]),\n        this.refreshTaskState(8)\n    },\n    t.prototype.addDrawRewardCountForCount = function() {\n        this.getTaskNeedCountList()[8] += 1,\n        i.PlayerMgr.getInstance().geUserData().setTaskNeedCountArr(9, this.getTaskNeedCountList()[8]),\n        this.refreshTaskState(9)\n    },\n    t.prototype.addLookVideoCountForTask = function() {\n        this.getTaskNeedCountList()[9] += 1,\n        i.PlayerMgr.getInstance().geUserData().setTaskNeedCountArr(10, this.getTaskNeedCountList()[9]),\n        this.refreshTaskState(10)\n    },\n    t.prototype.passSecForTask = function(t) {\n        this.getTaskNeedCountList()[10] = t,\n        i.PlayerMgr.getInstance().geUserData().setTaskNeedCountArr(11, this.getTaskNeedCountList()[10]),\n        this.refreshTaskState(11)\n    },\n    t.prototype.addEquipStrengthenCountForTask = function() {\n        this.getTaskNeedCountList()[11] += 1,\n        i.PlayerMgr.getInstance().geUserData().setTaskNeedCountArr(12, this.getTaskNeedCountList()[11]),\n        this.refreshTaskState(12)\n    },\n    t.prototype.refreshTaskState = function(t) {\n        var e = this.taskList[t - 1].needCount;\n        if (this.getTaskNeedCountList()[t - 1] >= e) {\n            if (0 != this.taskList[t - 1].state) return;\n            this.taskList[t - 1].state = 1,\n            i.PlayerMgr.getInstance().geUserData().setTaskList(this.taskList[t - 1])\n        }\n    },\n    t\n} ();\no.default = r"]}