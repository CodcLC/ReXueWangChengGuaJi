{"version":3,"sources":["assets\\scripts\\GameDataMgr.js"],"names":["t","require","e","module","o","exports","Object","defineProperty","value","a","i","r","n","s","c","l","u","p","g","d","h","f","curGame","EnumGameState","GamePrePare","hightY","skillBookClass","curSkillBoolClass","skillBookIdArr","fetterSuitCount","fetterIdArr","skillIdArr","curTotalSkillBookCount","dropGoodsIdList","skillBookRefreshCount","weightFoBothBtn","weightAddForBothBtn","isFirstGame","getInstance","instance","prototype","getGameState","setGameState","isCurGameState","randomPlayerSkill","length","Utils","randomRang","classifySkillBook","PlayerMgr","geUserData","getSkillBookArr","DataMgr","getSkillBook","id","qualityId","push","getSkillBookCfg","freeUnlock","addSkillBookId","addSkillBookCountForTask","classifyCurSkillBook","getSkillBookDataArr","randomSkillBook","getSkillBookProbCfg","getTabelArr","levelRange","Number","isExistSkillBookForQuality","weight","selectPropNum","weight_rand","NBook","RBook","SRBook","SSRBook","SSSRBook","pushSkillBookData","isExistSkillBookId","iCount","getStarNumForSkillBookId","getStarNumForSkillBookCount","getFetterSuitCount","addFetterSuitCount","getFetterIdArr","pushFetterData","isExistFetterId","getFetter","fetterCount","getFetterNumForFetterId","getSuitCountForFetterId","getSuitCountForFetterIdAndCount","getStringForFetterId","getSkillIdArr","pushSkillIdArrData","isExistSkillId","resetSkillBookAndFetter","clearPropData","resetFetterValue","resetData","isFullForSkillBook","isFullStarForSkillBookId","dropGoodsFun","getSecCfg","getCurSec","goodsId","goodsType","getGoodsCfgForGoodsType","weight_randSingle","toString","getDropGoodsList","addDropGoods","PoolMgr","getNode","parent","getComponent","initData","addDataToDropGoodsList","ResourceMgr","loadRes","cc","Prefab","instantiate","sortDropGoodsList","sort","resetDropGoodsData","initGameData","initSkillBookRefreshCount","skillBookBothBtnForWeight","getParamsCfgForSingle","EnumParams","SkillBookRefreshCount","AllGetProbability"],"mappings":"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","sourceRoot":"/","sourcesContent":["var t = require;\nvar e = module;\nvar o = exports;\nObject.defineProperty(o, \"__esModule\", {\n    value: !0\n});\nvar a = t(\"PoolMgr\"),\ni = t(\"ResourceMgr\"),\nr = t(\"Utils\"),\nn = t(\"Config\"),\ns = t(\"NodeDropGoods\"),\nc = t(\"DataMgr\"),\nl = t(\"FetterMgr\"),\nu = t(\"PlayerMgr\"),\np = t(\"RoleMgr\"),\ng = t(\"TipsMgr\"),\nd = t(\"GoodsManager\"),\nh = t(\"TaskMgr\"),\nf = function() {\n    function t() {\n        this.curGame = n.EnumGameState.GamePrePare,\n        this.hightY = -40,\n        this.skillBookClass = [[], [], [], [], []],\n        this.curSkillBoolClass = [[], [], [], [], []],\n        this.skillBookIdArr = [],\n        this.fetterSuitCount = 0,\n        this.fetterIdArr = [],\n        this.skillIdArr = [],\n        this.curTotalSkillBookCount = 24,\n        this.dropGoodsIdList = [],\n        this.skillBookRefreshCount = 5,\n        this.weightFoBothBtn = 0,\n        this.weightAddForBothBtn = 20,\n        this.isFirstGame = !1\n    }\n    return t.getInstance = function() {\n        return null == this.instance && (this.instance = new t),\n        this.instance\n    },\n    t.prototype.getGameState = function() {\n        return this.curGame\n    },\n    t.prototype.setGameState = function(t) {\n        this.curGame = t\n    },\n    t.prototype.isCurGameState = function(t) {\n        return this.curGame == t\n    },\n    t.prototype.randomPlayerSkill = function(t) {\n        if (!t || t.length <= 0) return 0;\n        var e = r.Utils.randomRang(0, t.length);\n        return e == t.length && (e = t.length - 1),\n        e\n    },\n    t.prototype.classifySkillBook = function() {\n        var t = u.PlayerMgr.getInstance().geUserData().getSkillBookArr();\n        if (t.length > 0) for (var e = 0; e < t.length; e++)(i = (a = c.DataMgr.getInstance().getSkillBook(t[e].id)).qualityId - 1) < 0 && (i = 0),\n        this.skillBookClass[i].push(a.id);\n        else {\n            var o = c.DataMgr.getInstance().getSkillBookCfg();\n            for (e = 0; e < o.length; e++) {\n                var a, i;\n                0 != (a = o[e]).freeUnlock && ((i = a.qualityId - 1) < 0 && (i = 0), this.skillBookClass[i].push(a.id), u.PlayerMgr.getInstance().geUserData().addSkillBookId(a.id), h.default.getInstance().addSkillBookCountForTask())\n            }\n        }\n    },\n    t.prototype.classifyCurSkillBook = function() {\n        for (var t = this.getSkillBookDataArr(), e = 0; e < t.length; e++) {\n            var o = c.DataMgr.getInstance().getSkillBook(t[e].id),\n            a = o.qualityId - 1;\n            a < 0 && (a = 0),\n            this.curSkillBoolClass[a].push(o.id)\n        }\n    },\n    t.prototype.randomSkillBook = function(t) {\n        for (var e = [], o = c.DataMgr.getInstance().getSkillBookProbCfg(), a = 0; a < o.length; a++) {\n            var i = r.Utils.getTabelArr(o[a].levelRange);\n            if (t >= Number(i[0]) && t <= Number(i[1])) {\n                for (var n = o[a], s = 1; s <= 5; s++) if (this.isExistSkillBookForQuality(s)) {\n                    var l = {\n                        id: s,\n                        weight: this.selectPropNum(n, s)\n                    };\n                    e.push(l)\n                }\n                break\n            }\n        }\n        var u = r.Utils.weight_rand(e),\n        p = this.skillBookClass[u.id - 1];\n        if (p && !(p.length <= 0)) {\n            var g = r.Utils.randomRang(0, p.length);\n            return g >= p.length && (g = p.length - 1),\n            p[g]\n        }\n    },\n    t.prototype.selectPropNum = function(t, e) {\n        var o = 0;\n        switch (e) {\n            case 1:\n                o = t.NBook;\n            break;\n            case 2:\n                o = t.RBook;\n            break;\n            case 3:\n                o = t.SRBook;\n            break;\n            case 4:\n                o = t.SSRBook;\n            break;\n            case 5:\n                o = t.SSSRBook;\n        }\n        return o\n    },\n    t.prototype.isExistSkillBookForQuality = function(t) {\n        return this.skillBookClass ? this.skillBookClass[t - 1].length > 0 : (this.skillBookClass = [[], [], [], [], []], !1)\n    },\n    t.prototype.getSkillBookDataArr = function() {\n        return this.skillBookIdArr || (this.skillBookIdArr = []),\n        this.skillBookIdArr\n    },\n    t.prototype.pushSkillBookData = function(t, e, o, a) {\n        void 0 === e && (e = 1),\n        this.skillBookIdArr || (this.skillBookIdArr = []);\n        var i = this.isExistSkillBookId(t);\n        if ( - 1 != i) return this.skillBookIdArr[i].iCount += 1,\n        void(3 == this.skillBookIdArr[i].iCount ? o && o(this.skillBookIdArr[i].iCount) : 7 == this.skillBookIdArr[i].iCount && a && a(this.skillBookIdArr[i].iCount));\n        var r = {\n            id: t,\n            iCount: e\n        };\n        this.skillBookIdArr.push(r)\n    },\n    t.prototype.isExistSkillBookId = function(t) {\n        this.skillBookIdArr || (this.skillBookIdArr = []);\n        for (var e = 0; e < this.skillBookIdArr.length; e++) if (t == this.skillBookIdArr[e].id) return e;\n        return - 1\n    },\n    t.prototype.getStarNumForSkillBookId = function(t) {\n        var e = this.isExistSkillBookId(t),\n        o = 1;\n        if ( - 1 == e) return [1, o -= 1, 2, o];\n        var a = this.getSkillBookDataArr()[e].iCount;\n        return (o = a) >= 1 && o < 3 ? [1, o -= 1, 2, a] : o >= 3 && o < 7 ? [2, o -= 3, 4, a] : [3, 0, 0, a]\n    },\n    t.prototype.getStarNumForSkillBookCount = function(t) {\n        var e = 1;\n        return t < 3 ? e = 1 : t >= 3 && t < 7 ? e = 2 : t >= 7 && (e = 3),\n        e\n    },\n    t.prototype.getFetterSuitCount = function() {\n        return this.fetterSuitCount\n    },\n    t.prototype.addFetterSuitCount = function(t) {\n        void 0 === t && (t = 1),\n        this.fetterSuitCount += t\n    },\n    t.prototype.getFetterIdArr = function() {\n        return this.fetterIdArr || (this.fetterIdArr = []),\n        this.fetterIdArr\n    },\n    t.prototype.pushFetterData = function(t, e, o, a, i) {\n        void 0 === e && (e = 1),\n        this.fetterIdArr || (this.fetterIdArr = []);\n        var n = this.isExistFetterId(t),\n        s = 1;\n        if ( - 1 != n) this.fetterIdArr[n].iCount += 1,\n        s = this.fetterIdArr[n].iCount;\n        else {\n            var l = {\n                id: t,\n                iCount: e\n            };\n            this.fetterIdArr.push(l),\n            s = e\n        }\n        var u = c.DataMgr.getInstance().getFetter(t),\n        p = r.Utils.getTabelArr(u.fetterCount),\n        g = s;\n        g == Number(p[0]) ? o && o(s) : g == Number(p[1]) ? a && a(s) : g == Number(p[2]) && i && i(s)\n    },\n    t.prototype.isExistFetterId = function(t) {\n        this.fetterIdArr || (this.fetterIdArr = []);\n        for (var e = 0; e < this.fetterIdArr.length; e++) if (t == this.fetterIdArr[e].id) return e;\n        return - 1\n    },\n    t.prototype.getFetterNumForFetterId = function(t) {\n        var e = this.isExistFetterId(t),\n        o = 0;\n        return - 1 !== e && (o = this.getFetterIdArr()[e].iCount),\n        o\n    },\n    t.prototype.getSuitCountForFetterId = function(t) {\n        var e = c.DataMgr.getInstance().getFetter(t),\n        o = r.Utils.getTabelArr(e.fetterCount),\n        a = this.getFetterNumForFetterId(t);\n        return a < Number(o[0]) ? 0 : a >= Number(o[0]) && a < Number(o[1]) ? 1 : a >= Number(o[1]) && a < Number(o[2]) ? 2 : 3\n    },\n    t.prototype.getSuitCountForFetterIdAndCount = function(t, e) {\n        var o = c.DataMgr.getInstance().getFetter(t),\n        a = r.Utils.getTabelArr(o.fetterCount),\n        i = e;\n        return i < Number(a[0]) ? 0 : i >= Number(a[0]) && i < Number(a[1]) ? 1 : i >= Number(a[1]) && i < Number(a[2]) ? 2 : 3\n    },\n    t.prototype.getStringForFetterId = function(t) {\n        var e = c.DataMgr.getInstance().getFetter(t),\n        o = r.Utils.getTabelArr(e.fetterCount),\n        a = this.getFetterNumForFetterId(t);\n        return a < Number(o[0]) ? \"<outline color=#000000 width=3>\" + a + \" / \" + o[0] + \"</outline>\": a >= Number(o[0]) && a < Number(o[1]) ? \"<outline color=#000000 width=3><color=#00ff00>\" + o[0] + \"</color><\" + o[1] + \"<\" + o[2] + \"</outline>\": a >= Number(o[1]) && a < Number(o[2]) ? \"<outline color=#000000 width=3>\" + o[0] + \"<<color=#00ff00>\" + o[1] + \"</color><\" + o[2] + \"</outline>\": \"<outline color=#000000 width=3>\" + o[0] + \"<\" + o[1] + \"<<color=#00ff00>\" + o[2] + \"</color></outline>\"\n    },\n    t.prototype.getSkillIdArr = function() {\n        return this.skillIdArr || (this.skillIdArr = []),\n        this.skillIdArr\n    },\n    t.prototype.pushSkillIdArrData = function(t) {\n        this.skillIdArr || (this.skillIdArr = []),\n        this.isExistSkillId(t) || this.skillIdArr.push(t)\n    },\n    t.prototype.isExistSkillId = function(t) {\n        this.skillIdArr || (this.skillIdArr = []);\n        for (var e = 0; e < this.skillIdArr.length; e++) return t == this.skillIdArr[e]\n    },\n    t.prototype.resetSkillBookAndFetter = function() {\n        this.skillBookIdArr = [],\n        this.fetterIdArr = [],\n        this.skillIdArr = [],\n        this.fetterSuitCount = 0,\n        p.default.getInstance().clearPropData(),\n        l.default.getInstance().resetFetterValue(),\n        g.default.getInstance().resetData()\n    },\n    t.prototype.isFullForSkillBook = function() {\n        return this.getSkillBookDataArr().length >= this.curTotalSkillBookCount\n    },\n    t.prototype.isFullStarForSkillBookId = function(t) {\n        var e = this.isExistSkillBookId(t);\n        return - 1 !== e && this.getSkillBookDataArr()[e].iCount >= 7\n    },\n    t.prototype.dropGoodsFun = function(t, e) {\n        var o = c.DataMgr.getInstance().getSecCfg(t);\n        if (e < 1 || e > 3) return [];\n        var a = [];\n        if (3 == e && 1 == u.PlayerMgr.getInstance().geUserData().getCurSec()) a.push({\n            id: 4,\n            goodsId: 16,\n            goodsType: \"equip\",\n            iCount: 1\n        },\n        {\n            id: 4,\n            goodsId: 27,\n            goodsType: \"equip\",\n            iCount: 1\n        },\n        {\n            id: 5,\n            goodsId: 4,\n            goodsType: \"equip\",\n            iCount: 1\n        },\n        {\n            id: 9,\n            goodsId: 16,\n            goodsType: \"skillBook\",\n            iCount: 1\n        });\n        else for (var i = r.Utils.getTabelArr(o[\"type\" + e + \"DropId\"]), n = r.Utils.getTabelArr(o[\"type\" + e + \"DropNum\"]), s = r.Utils.getTabelArr(o[\"type\" + e + \"DropProbability\"]), l = 0; l < i.length; l++) {\n            var p = d.default.getInstance().getGoodsCfgForGoodsType(Number(i[l]));\n            if (p && r.Utils.weight_randSingle(Number(s[l]))) {\n                var g = {\n                    id: Number(i[l]),\n                    goodsId: Number(p[1]),\n                    goodsType: p[0].toString(),\n                    iCount: Number(n[l])\n                };\n                a.push(g)\n            }\n        }\n        return a\n    },\n    t.prototype.getDropGoodsList = function() {\n        return this.dropGoodsIdList || (this.dropGoodsIdList = []),\n        this.dropGoodsIdList\n    },\n    t.prototype.addDropGoods = function(t, e, o) {\n        var r = this,\n        n = a.PoolMgr.getInstance().getNode(\"NodeDropGoods\");\n        n ? (n.parent = e, n.getComponent(s.default).initData(t, o), this.addDataToDropGoodsList(t)) : i.ResourceMgr.getInstance().loadRes(\"prefabs\", \"widget/NodeDropGoods\", cc.Prefab,\n        function(a) {\n            n.parent = e,\n            (n = cc.instantiate(a)).getComponent(s.default).initData(t, o),\n            r.addDataToDropGoodsList(t)\n        })\n    },\n    t.prototype.addDataToDropGoodsList = function(t) {\n        for (var e = !1,\n        o = 0; o < this.dropGoodsIdList.length; o++) if ((1 == t.id || 2 == t.id) && this.dropGoodsIdList[o].id == t.id) {\n            this.dropGoodsIdList[o].iCount += t.iCount,\n            e = !0;\n            break\n        }\n        e || this.dropGoodsIdList.push(t)\n    },\n    t.prototype.sortDropGoodsList = function() {\n        this.dropGoodsIdList.sort(function(t, e) {\n            return t.id - e.id\n        })\n    },\n    t.prototype.resetDropGoodsData = function() {\n        this.dropGoodsIdList = []\n    },\n    t.prototype.initGameData = function() {\n        this.initSkillBookRefreshCount(),\n        this.skillBookBothBtnForWeight()\n    },\n    t.prototype.initSkillBookRefreshCount = function() {\n        this.skillBookRefreshCount = Number(c.DataMgr.getInstance().getParamsCfgForSingle(n.EnumParams.SkillBookRefreshCount).value)\n    },\n    t.prototype.skillBookBothBtnForWeight = function() {\n        var t = u.PlayerMgr.getInstance().geUserData().getCurSec(),\n        e = c.DataMgr.getInstance().getSecCfg(t),\n        o = r.Utils.getTabelArr(e.AllGetProbability);\n        this.weightFoBothBtn = Number(o[0]),\n        this.weightAddForBothBtn = Number(o[1])\n    },\n    t\n} ();\no.default = f"]}