{"version":3,"sources":["assets\\scripts\\UIFreeTime.js"],"names":["t","require","e","module","o","exports","a","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","r","__decorate","arguments","length","n","getOwnPropertyDescriptor","Reflect","decorate","s","defineProperty","value","c","l","u","p","g","d","h","cc","_decorator","f","ccclass","m","property","y","apply","btnClose","itemLayout","onLoad","addEvent","BaseEventName","CloseUI","eventCloseUI","CommonEventName","GetRewardEnd","refreshRewardEnd","start","freeTimeData","ComPlayerMgr","getInstance","getFreeTimeData","initBtn","children","ComDataMgr","getFreeTimeById","active","name","getDataById","getChildByName","getComponent","Sprite","Label","getFreeTimeItemById","itemId","getGoodsById","goodsId","loadSpriteFrame","bundleName","rewardIcon","spriteFrame","string","rewardNum","adNum","refreshItem","goldNum","on","Node","EventType","TOUCH_END","clickItem","childrenCount","SdkMgr","playVideo","AdType","AdFreeTime","CommonCfg","splitNum","convertToWorldSpaceAR","Vec2","ZERO","checkOpenReward","changleFreeTimedata","id","item","curData","addAdNumByData","CommonBrige","Instance","subGoodsNum","goldId","openUI","UIID","UITips","changleItemAni","ComUIID","UIReward","node","tween","to","position","Vec3","closeUI"],"mappings":"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","sourceRoot":"/","sourcesContent":["var t = require;\nvar e = module;\nvar o = exports;\nvar a, i = this && this.__extends || (a = function(t, e) {\n    return (a = Object.setPrototypeOf || {\n        __proto__: []\n    }\n    instanceof Array &&\n    function(t, e) {\n        t.__proto__ = e\n    } ||\n    function(t, e) {\n        for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o])\n    })(t, e)\n},\nfunction(t, e) {\n    function o() {\n        this.constructor = t\n    }\n    a(t, e),\n    t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)\n}),\nr = this && this.__decorate ||\nfunction(t, e, o, a) {\n    var i, r = arguments.length,\n    n = r < 3 ? e: null === a ? a = Object.getOwnPropertyDescriptor(e, o) : a;\n    if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) n = Reflect.decorate(t, e, o, a);\n    else for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (n = (r < 3 ? i(n) : r > 3 ? i(e, o, n) : i(e, o)) || n);\n    return r > 3 && n && Object.defineProperty(e, o, n),\n    n\n};\nObject.defineProperty(o, \"__esModule\", {\n    value: !0\n});\nvar n = t(\"BaseUI\"),\ns = t(\"Appcfg\"),\nc = t(\"SdkMgr\"),\nl = t(\"Config\"),\nu = t(\"CommonBirge\"),\np = t(\"CommonCfg\"),\ng = t(\"ComDataMgr\"),\nd = t(\"ComPlayerMgr\"),\nh = cc._decorator,\nf = h.ccclass,\nm = h.property,\ny = function(t) {\n    function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.btnClose = null,\n        e.itemLayout = null,\n        e\n    }\n    return i(e, t),\n    e.prototype.onLoad = function() {\n        this.addEvent(s.BaseEventName.CloseUI, this.eventCloseUI),\n        this.addEvent(p.CommonEventName.GetRewardEnd, this.refreshRewardEnd)\n    },\n    e.prototype.start = function() {\n        var t = this;\n        this.freeTimeData = d.ComPlayerMgr.getInstance().getFreeTimeData(),\n        this.initBtn();\n        for (var e = function(e) {\n            var a = o.itemLayout.children[e];\n            if (null == g.ComDataMgr.getInstance().getFreeTimeById(e + 1)) return a.active = !1,\n            \"continue\";\n            a.name = e + 1 + \"\";\n            var i = o.freeTimeData.getDataById(e + 1),\n            r = a.getChildByName(\"mask\"),\n            n = r.getChildByName(\"icon\").getComponent(cc.Sprite);\n            r.getChildByName(\"icon2\").y = 150;\n            var s = a.getChildByName(\"num\").getComponent(cc.Label),\n            c = a.getChildByName(\"btnOk\"),\n            l = g.ComDataMgr.getInstance().getFreeTimeItemById(i.itemId),\n            u = g.ComDataMgr.getInstance().getGoodsById(l.goodsId);\n            o.loadSpriteFrame(u.bundleName, u.rewardIcon,\n            function(t) {\n                n.spriteFrame = t\n            }),\n            s.string = \"x\" + l.rewardNum,\n            l.adNum > 0 ? i.adNum + 1 < l.adNum ? o.refreshItem(a, 1, l.adNum - i.adNum, 0) : o.refreshItem(a, 0, 0, l.goldNum) : o.refreshItem(a, 2, 0, l.goldNum),\n            c.on(cc.Node.EventType.TOUCH_END,\n            function() {\n                t.clickItem(e + 1, a)\n            })\n        },\n        o = this, a = 0; a < this.itemLayout.childrenCount; a++) e(a)\n    },\n    e.prototype.clickItem = function(t, e) {\n        var o = this,\n        a = this.freeTimeData.getDataById(t),\n        i = g.ComDataMgr.getInstance().getFreeTimeItemById(a.itemId);\n        if (i.adNum > 0) a.adNum + 1 >= i.adNum ? c.SdkMgr.getInstance().playVideo(c.AdType.AdFreeTime,\n        function() {\n            var t = a.goodsId + p.CommonCfg.splitNum + i.rewardNum,\n            r = e.convertToWorldSpaceAR(cc.Vec2.ZERO);\n            d.ComPlayerMgr.getInstance().checkOpenReward(t, r),\n            o.freeTimeData.changleFreeTimedata(a.id),\n            o.item = e,\n            o.curData = a\n        }) : c.SdkMgr.getInstance().playVideo(c.AdType.AdFreeTime,\n        function() {\n            o.freeTimeData.addAdNumByData(a),\n            a.adNum + 1 >= i.adNum ? o.refreshItem(e, 0, 0, 0) : o.refreshItem(e, 1, i.adNum - a.adNum, 0)\n        });\n        else if (u.CommonBrige.Instance().subGoodsNum(i.goldId, i.goldNum)) {\n            var r = a.goodsId + p.CommonCfg.splitNum + i.rewardNum,\n            n = e.convertToWorldSpaceAR(cc.Vec2.ZERO);\n            d.ComPlayerMgr.getInstance().checkOpenReward(r, n),\n            this.freeTimeData.changleFreeTimedata(a.id),\n            this.item = e,\n            this.curData = a\n        } else this.openUI(l.UIID.UITips, \"物品不足\")\n    },\n    e.prototype.refreshRewardEnd = function() {\n        this.changleItemAni(this.item, this.curData)\n    },\n    e.prototype.eventCloseUI = function(t) {\n        t == p.ComUIID.UIReward && this.changleItemAni(this.item, this.curData)\n    },\n    e.prototype.changleItemAni = function(t, e) {\n        var o, a, i = t.getChildByName(\"mask\"),\n        r = i.getChildByName(\"icon\").getComponent(cc.Sprite),\n        n = i.getChildByName(\"icon2\").getComponent(cc.Sprite);\n        r.node.y > 50 ? (a = r, o = n) : (a = n, o = r);\n        var s = t.getChildByName(\"num\").getComponent(cc.Label),\n        c = g.ComDataMgr.getInstance().getFreeTimeItemById(e.itemId),\n        l = g.ComDataMgr.getInstance().getGoodsById(c.goodsId),\n        u = t.getChildByName(\"btnOk\");\n        u.active = !1,\n        s.string = \"\",\n        this.loadSpriteFrame(l.bundleName, l.rewardIcon,\n        function(t) {\n            a.spriteFrame = t\n        }),\n        cc.tween(o.node).to(1, {\n            position: new cc.Vec3(0, -150)\n        }).call(function() {\n            o.spriteFrame = null,\n            o.node.y = 150\n        }).start(),\n        cc.tween(a.node).to(1, {\n            position: new cc.Vec3(0, 12)\n        }).call(function() {\n            s.string = \"x\" + c.rewardNum,\n            u.active = !0\n        }).start(),\n        c.adNum > 0 ? e.adNum + 1 < c.adNum ? this.refreshItem(t, 1, c.adNum - e.adNum, 0) : this.refreshItem(t, 0, 0, c.goldNum) : this.refreshItem(t, 2, 0, c.goldNum)\n    },\n    e.prototype.refreshItem = function(t, e, o, a) {\n        var i = t.getChildByName(\"btnOk\"),\n        r = i.getChildByName(\"num\"),\n        n = i.getComponent(cc.Sprite);\n        0 == e ? (r.active = !1, this.loadSpriteFrame(\"comimgs\", \"button/btn2_adget\",\n        function(t) {\n            n.spriteFrame = t\n        })) : 1 == e ? (r.active = !0, r.getComponent(cc.Label).string = \"x\" + o, this.loadSpriteFrame(\"comimgs\", \"button/btn2_adNum\",\n        function(t) {\n            n.spriteFrame = t\n        })) : 2 == e && (r.active = !0, r.getComponent(cc.Label).string = \"x\" + a, this.loadSpriteFrame(\"comimgs\", \"button/btn2_gold\",\n        function(t) {\n            n.spriteFrame = t\n        }))\n    },\n    e.prototype.initBtn = function() {\n        var t = this;\n        this.btnClose.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            t.closeUI()\n        })\n    },\n    r([m(cc.Node)], e.prototype, \"btnClose\", void 0),\n    r([m(cc.Node)], e.prototype, \"itemLayout\", void 0),\n    r([f], e)\n} (n.default);\no.default = y"]}