{"version":3,"sources":["assets\\scripts\\Monster.js"],"names":["t","require","e","module","o","exports","a","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","r","__decorate","arguments","length","n","getOwnPropertyDescriptor","Reflect","decorate","s","defineProperty","value","c","l","u","p","g","d","h","f","m","y","cc","_decorator","v","ccclass","I","property","apply","scale_object","scale_hpBar","timeScale_object","isCoollingState","isAckState","objectId","createObject","isPlayer","DataMgr","getInstance","getMonsterProbCfg","object","PoolMgr","getNode","monsterName","initObjectsState","loadObjectInfo","console","log","ResourceMgr","loadRes","Prefab","instantiate","skeleton","getComponent","sp","Skeleton","initObject","isValid","parent","position","scaleX","getChildByName","zIndex","scale","group","initObjectProperty","refreshObject","move","objectState","EnumObjectState","Alive","Vec2","distance","getPosition","objectProperty","atkDis","animation","playAnim","attack_max","EnumLadleWordType","Atk_Normal","isTriggerCrazyAtk","Math","ceil","atkCrazyHurt","Atk_CrazyHurt","type","v2","abs","x","playEff","skillEffName","getNodeSkillEff","createArrow","subHp","recycleNodeEff","setTimeout","atkInterval","gameSpeedArr","curGameMultiply","speed","findAnimation","setAnimation","setEventListener","data","name","setCompleteListener","Utils","posTransform","getNodeEff","instance","node","hp","LabLoad","getHpBarNode","height_ladleWord","height_type","getColorForAtkType","Atk_CrazyName","height_number","Atk_SkillHurt","active","setWaitDieState","refreshMonsterCount","PlayerMgr","geUserData","getCurSec","dropGoodsFun","monsterType","k","addDropGoods","setDieState","setDie","recycleNodeSkillEff","childrenCount","children","freeNode","setPosition","shootArrow","opacity","tween","to","recycleArrow","start"],"mappings":"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","sourceRoot":"/","sourcesContent":["var t = require;\nvar e = module;\nvar o = exports;\nvar a, i = this && this.__extends || (a = function(t, e) {\n    return (a = Object.setPrototypeOf || {\n        __proto__: []\n    }\n    instanceof Array &&\n    function(t, e) {\n        t.__proto__ = e\n    } ||\n    function(t, e) {\n        for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o])\n    })(t, e)\n},\nfunction(t, e) {\n    function o() {\n        this.constructor = t\n    }\n    a(t, e),\n    t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)\n}),\nr = this && this.__decorate ||\nfunction(t, e, o, a) {\n    var i, r = arguments.length,\n    n = r < 3 ? e: null === a ? a = Object.getOwnPropertyDescriptor(e, o) : a;\n    if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) n = Reflect.decorate(t, e, o, a);\n    else for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (n = (r < 3 ? i(n) : r > 3 ? i(e, o, n) : i(e, o)) || n);\n    return r > 3 && n && Object.defineProperty(e, o, n),\n    n\n};\nObject.defineProperty(o, \"__esModule\", {\n    value: !0\n});\nvar n = t(\"PoolMgr\"),\ns = t(\"ResourceMgr\"),\nc = t(\"Utils\"),\nl = t(\"Main\"),\nu = t(\"DataMgr\"),\np = t(\"EffectMgr\"),\ng = t(\"GameDataMgr\"),\nd = t(\"ObjectMgr\"),\nh = t(\"PlayerMgr\"),\nf = t(\"LadleWordMgr\"),\nm = t(\"ObjectsParent\"),\ny = cc._decorator,\nv = y.ccclass,\nI = (y.property,\nfunction(t) {\n    function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.scale_object = 1,\n        e.scale_hpBar = 1,\n        e.timeScale_object = 1,\n        e.isCoollingState = !1,\n        e.isAckState = !1,\n        e.objectId = 1,\n        e\n    }\n    return i(e, t),\n    e.prototype.createObject = function(t, e, o, a, i, r, c, l, p, g, d) {\n        var h = this;\n        void 0 === r && (r = !1),\n        this.objectId = t,\n        this.isPlayer = r;\n        var f = u.DataMgr.getInstance().getMonsterProbCfg(this.objectId);\n        this.object = n.PoolMgr.getInstance().getNode(f.monsterName),\n        this.initObjectsState(),\n        this.object ? this.loadObjectInfo(a, i, r, c, l, p, g, d) : (console.log(\"动态加载怪物\"), s.ResourceMgr.getInstance().loadRes(e, o, cc.Prefab,\n        function(t) {\n            h.object = cc.instantiate(t),\n            h.loadObjectInfo(a, i, r, c, l, p, g, d)\n        }))\n    },\n    e.prototype.loadObjectInfo = function(t, e, o, a, i, r, n, s) {\n        void 0 === o && (o = !1),\n        this.skeleton = this.object.getComponent(sp.Skeleton),\n        this.initObject(),\n        cc.isValid(t) && (this.object.parent = t),\n        i && (this.object.position = i),\n        r && (this.object.scaleX = -this.object.scaleX, this.object.getChildByName(\"SpHpBarBg\").scaleX = -this.object.getChildByName(\"SpHpBarBg\").scaleX),\n        n && (this.object.zIndex = n),\n        s && (this.object.scale = s),\n        this.object.group = \"game\",\n        a && a(),\n        this.initObjectProperty(e),\n        this.refreshObject()\n    },\n    e.prototype.move = function(t) {\n        var e = this;\n        if (cc.isValid(this.object) && t && cc.isValid(t.object) && this.objectState == m.EnumObjectState.Alive && !this.isAckState) if (cc.Vec2.distance(this.object.getPosition(), t.object.getPosition()) <= this.objectProperty.atkDis) {\n            if (this.isCoollingState || !t.isPlayer) return void(\"idle\" != this.skeleton.animation && this.playAnim(\"idle\", !0));\n            this.isCoollingState = !0,\n            this.isAckState = !0;\n            var o = this.objectProperty.attack_max,\n            a = m.EnumLadleWordType.Atk_Normal;\n            this.isTriggerCrazyAtk() && (o = Math.ceil(o * (this.objectProperty.atkCrazyHurt / 100)), a = m.EnumLadleWordType.Atk_CrazyHurt);\n            var i = o;\n            this.playAnim(\"attack\", !1,\n            function() {\n                var o = u.DataMgr.getInstance().getMonsterProbCfg(e.objectId);\n                if (2 == o.type) {\n                    var a = cc.v2(Math.abs(t.object.x - e.object.x), 0);\n                    p.default.playEff(\"prefabs\", \"effect/EffSkillMonster\", \"EffSkillMonster\", o.skillEffName, e.getNodeSkillEff(), a)\n                }\n            },\n            function() {\n                1 == u.DataMgr.getInstance().getMonsterProbCfg(e.objectId).type ? e.createArrow(t, a, i) : t.subHp(a, i)\n            },\n            function() {\n                e.recycleNodeEff(),\n                e.isAckState = !1,\n                setTimeout(function() {\n                    e.isCoollingState = !1\n                },\n                e.objectProperty.atkInterval / e.gameSpeedArr[e.curGameMultiply - 1])\n            })\n        } else {\n            var r = this.object.x - t.object.x > 0 ? -1 : 1;\n            \"move\" != this.skeleton.animation && this.playAnim(\"move\", !0),\n            this.object.x += this.objectProperty.speed * this.gameSpeedArr[this.curGameMultiply - 1] * r\n        }\n    },\n    e.prototype.playAnim = function(t, e, o, a, i) {\n        void 0 === e && (e = !1),\n        this.skeleton.findAnimation(t) && (this.skeleton.setAnimation(0, t, e), this.skeleton.setEventListener(function(t, e) {\n            \"start\" == e.data.name ? o && o() : \"attack\" == e.data.name && a && a()\n        }), this.skeleton.setCompleteListener(function() {\n            i && i()\n        }))\n    },\n    e.prototype.initObjectProperty = function(t) {\n        this.objectProperty = t\n    },\n    e.prototype.subHp = function(t, e, o, a) {\n        var i = this;\n        if (this.objectState == m.EnumObjectState.Alive) {\n            var r = c.Utils.posTransform(this.object, this.getNodeEff().getPosition(), l.default.instance.node);\n            p.default.playEff(\"prefabs\", \"effect/EffHited\", \"EffHited\", \"tx_sj1\", l.default.instance.node, r, 0, 2, 10);\n            var n = Math.ceil(e);\n            if (this.objectProperty.hp -= n, this.refreshObject(), null != t && null != t && (t == m.EnumLadleWordType.Atk_CrazyHurt ? (f.default.LabLoad(l.default.instance.node, c.Utils.posTransform(this.object, this.getHpBarNode().getPosition(), l.default.instance.node), \"暴击\", f.default.height_ladleWord.height_type, void 0, d.default.getInstance().getColorForAtkType(m.EnumLadleWordType.Atk_CrazyName)), f.default.LabLoad(l.default.instance.node, c.Utils.posTransform(this.object, this.getHpBarNode().getPosition(), l.default.instance.node), \"-\" + n, f.default.height_ladleWord.height_number, void 0, d.default.getInstance().getColorForAtkType(t))) : (m.EnumLadleWordType.Atk_SkillHurt, f.default.LabLoad(l.default.instance.node, c.Utils.posTransform(this.object, this.getHpBarNode().getPosition(), l.default.instance.node), \"-\" + n, f.default.height_ladleWord.height_number, void 0, d.default.getInstance().getColorForAtkType(t)))), this.objectProperty.hp <= 0) {\n                this.object.getChildByName(\"SpHpBarBg\").active = !1,\n                this.setWaitDieState(),\n                l.default.instance.refreshMonsterCount(1, !1);\n                for (var s = u.DataMgr.getInstance().getMonsterProbCfg(this.objectId), y = this.object.getPosition(), v = h.PlayerMgr.getInstance().geUserData().getCurSec(), I = g.default.getInstance().dropGoodsFun(v, s.monsterType), k = 0; k < I.length; k++) g.default.getInstance().addDropGoods(I[k], l.default.instance.node, cc.v2(y.x + 100 * k, y.y));\n                this.playAnim(\"die\", !1, void 0, void 0,\n                function() {\n                    i.setDieState(),\n                    i.setDie()\n                }),\n                o && o()\n            } else a && a()\n        } else console.log(\"死亡\")\n    },\n    e.prototype.getNodeSkillEff = function() {\n        return cc.isValid(this.object) ? this.object.getChildByName(\"NodeSkillEff\") : null\n    },\n    e.prototype.recycleNodeSkillEff = function() {\n        for (var t = this.getNodeEff(), e = 0; e < t.childrenCount; e++) {\n            var o = t.children[e];\n            cc.isValid(o) && n.PoolMgr.getInstance().freeNode(o.name, o)\n        }\n    },\n    e.prototype.createArrow = function(t, e, o) {\n        var a = this;\n        if (t && cc.isValid(t.object)) {\n            var i = n.PoolMgr.getInstance().getNode(\"NodeArrow\");\n            i ? (i.parent = l.default.instance.node, i.setPosition(cc.v2(t.object.x, 1e3)), this.shootArrow(i, t, e, o)) : s.ResourceMgr.getInstance().loadRes(\"prefabs\", \"widget/NodeArrow\", cc.Prefab,\n            function(r) { (i = cc.instantiate(r)).parent = l.default.instance.node,\n                i.setPosition(cc.v2(t.object.x, 1e3)),\n                a.shootArrow(i, t, e, o)\n            })\n        }\n    },\n    e.prototype.shootArrow = function(t, e, o, a) {\n        var i = this;\n        e && cc.isValid(e.object) ? cc.isValid(t) && (t.opacity = 255, cc.tween(t).to(.1, {\n            y: e.object.y\n        }).call(function() {\n            cc.isValid(e.object) && e.object.x >= t.x - 10 && e.object.x <= t.x + 10 && e.subHp(o, a)\n        }).to(1, {\n            opacity: 0\n        }).call(function() {\n            i.recycleArrow(t)\n        }).start()) : cc.isValid(t) && this.recycleArrow(t)\n    },\n    e.prototype.recycleArrow = function(t) {\n        cc.isValid(t) && n.PoolMgr.getInstance().freeNode(\"NodeArrow\", t)\n    },\n    r([v], e)\n} (m.default));\no.default = I"]}