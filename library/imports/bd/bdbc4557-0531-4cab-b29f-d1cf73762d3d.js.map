{"version":3,"sources":["assets\\scripts\\CameraMgr.js"],"names":["t","require","e","module","o","exports","a","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","r","__decorate","arguments","length","n","getOwnPropertyDescriptor","Reflect","decorate","s","defineProperty","value","c","l","cc","_decorator","u","ccclass","p","property","g","apply","posIndex","Vec2","ZERO","gameCamera","isShake","tween_shake","start","lateUpdate","getInstance","isCurGameState","EnumGameState","GameOver","instance","player","object","x","node","director","getDeltaTime","resetPos","zoomRatio","setPosition","shakeAnim","stop","y","tween","parallel","by","controlCameraZoom","to","Camera","Component"],"mappings":"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","sourceRoot":"/","sourcesContent":["var t = require;\nvar e = module;\nvar o = exports;\nvar a, i = this && this.__extends || (a = function(t, e) {\n    return (a = Object.setPrototypeOf || {\n        __proto__: []\n    }\n    instanceof Array &&\n    function(t, e) {\n        t.__proto__ = e\n    } ||\n    function(t, e) {\n        for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o])\n    })(t, e)\n},\nfunction(t, e) {\n    function o() {\n        this.constructor = t\n    }\n    a(t, e),\n    t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)\n}),\nr = this && this.__decorate ||\nfunction(t, e, o, a) {\n    var i, r = arguments.length,\n    n = r < 3 ? e: null === a ? a = Object.getOwnPropertyDescriptor(e, o) : a;\n    if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) n = Reflect.decorate(t, e, o, a);\n    else for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (n = (r < 3 ? i(n) : r > 3 ? i(e, o, n) : i(e, o)) || n);\n    return r > 3 && n && Object.defineProperty(e, o, n),\n    n\n};\nObject.defineProperty(o, \"__esModule\", {\n    value: !0\n});\nvar n = t(\"Main\"),\ns = t(\"Config\"),\nc = t(\"GameDataMgr\"),\nl = cc._decorator,\nu = l.ccclass,\np = l.property,\ng = function(t) {\n    function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.posIndex = cc.Vec2.ZERO,\n        e.gameCamera = null,\n        e.isShake = !1,\n        e.tween_shake = null,\n        e\n    }\n    return i(e, t),\n    e.prototype.start = function() {},\n    e.prototype.lateUpdate = function() {\n        if (!c.default.getInstance().isCurGameState(s.EnumGameState.GameOver) && !this.isShake && n.default.instance.player && n.default.instance.player.object) {\n            var t = n.default.instance.player.object.x - this.node.x,\n            e = 4 * cc.director.getDeltaTime();\n            this.node.x += t * e\n        }\n    },\n    e.prototype.resetPos = function() {\n        this.gameCamera.zoomRatio = 1,\n        this.node.setPosition(cc.Vec2.ZERO)\n    },\n    e.prototype.shakeAnim = function() {\n        var t = this;\n        this.tween_shake && (this.tween_shake.stop(), this.tween_shake = null, this.node.y = 0, this.isShake = !1),\n        this.isShake = !0,\n        this.tween_shake = cc.tween(this.node).parallel(cc.tween().by(.02, {\n            x: -10\n        }), cc.tween().by(.02, {\n            y: -10\n        })).by(.02, {\n            x: 10\n        }).parallel(cc.tween().by(.02, {\n            x: -15\n        }), cc.tween().by(.02, {\n            y: 15\n        })).parallel(cc.tween().by(.02, {\n            x: 5\n        }), cc.tween().by(.02, {\n            y: 5\n        })).parallel(cc.tween().by(.02, {\n            x: 5\n        }), cc.tween().by(.02, {\n            y: -20\n        })).parallel(cc.tween().by(.02, {\n            x: 5\n        }), cc.tween().by(.02, {\n            y: 10\n        })).call(function() {\n            t.isShake = !1\n        }).start()\n    },\n    e.prototype.controlCameraZoom = function(t, e, o) {\n        cc.tween(this.gameCamera).to(t, {\n            zoomRatio: e\n        }).call(function() {\n            o && o()\n        }).start()\n    },\n    r([p(cc.Camera)], e.prototype, \"gameCamera\", void 0),\n    r([u], e)\n} (cc.Component);\no.default = g"]}