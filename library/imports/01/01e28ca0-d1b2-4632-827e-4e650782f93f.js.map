{"version":3,"sources":["assets\\scripts\\AudioMgr.js"],"names":["t","require","e","module","o","exports","a","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","defineProperty","value","AudioMgr","r","n","s","c","l","u","audioSourceMap","Map","audioClipMap","ADConf","otherADConf","musicKeys","getInstance","instance","init","setButtonNomalAudio","AudioId","btnClick","loadAudio","getAdConf","ResourceMgr","loadRes","bundle","path","cc","AudioClip","set","LogMgr","error","addAdConf","push","length","addMusicKey","removeMusicKey","splice","creatreAudioSource","AudioSource","has","get","destroy","getAudioSource","playMusic","CacheUtils","canPlayMusin","stop","clip","loop","volume","play","pauseMusic","pause","resumeMusic","resume","pauseAllMusic","forEach","resumeAllMusic","stopMusic","stopAll","playEffect","canPlayEffect","EffectAduioSource","playEffectByPath","playAudioFromPath","String","stopEffect","normalButtonAudio","playAudioButtonClicked"],"mappings":"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","sourceRoot":"/","sourcesContent":["var t = require;\nvar e = module;\nvar o = exports;\nvar a, i = this && this.__extends || (a = function(t, e) {\n    return (a = Object.setPrototypeOf || {\n        __proto__: []\n    }\n    instanceof Array &&\n    function(t, e) {\n        t.__proto__ = e\n    } ||\n    function(t, e) {\n        for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o])\n    })(t, e)\n},\nfunction(t, e) {\n    function o() {\n        this.constructor = t\n    }\n    a(t, e),\n    t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)\n});\nObject.defineProperty(o, \"__esModule\", {\n    value: !0\n}),\no.AudioMgr = void 0;\nvar r = t(\"Config\"),\nn = t(\"BaseMgr\"),\ns = t(\"CacheUtils\"),\nc = t(\"LogMgr\"),\nl = t(\"ResourceMgr\"),\nu = function(t) {\n    function e() {\n        var e = t.call(this) || this;\n        return e.audioSourceMap = new Map,\n        e.audioClipMap = new Map,\n        e.ADConf = {},\n        e.otherADConf = [],\n        e.musicKeys = [],\n        e\n    }\n    return i(e, t),\n    e.getInstance = function() {\n        return null == this.instance && (this.instance = new e),\n        this.instance\n    },\n    e.prototype.init = function(t) {\n        this.ADConf = t,\n        this.setButtonNomalAudio(r.AudioId.btnClick)\n    },\n    e.prototype.loadAudio = function(t, e) {\n        var o = this,\n        a = this.getAdConf(t);\n        a ? l.ResourceMgr.getInstance().loadRes(a.bundle, a.path, cc.AudioClip,\n        function(t) {\n            o.audioClipMap.set(a.path, t),\n            e && e()\n        }) : c.LogMgr.getInstance().error(\"音效没有配置：\", t)\n    },\n    e.prototype.addAdConf = function(t) {\n        this.otherADConf.push(t)\n    },\n    e.prototype.getAdConf = function(t) {\n        var e = this.ADConf[t];\n        if (e) return e;\n        for (var o = 0; o < this.otherADConf.length; o++) {\n            var a = this.otherADConf[o][t];\n            if (a) return a\n        }\n        return null\n    },\n    e.prototype.addMusicKey = function(t) {\n        for (var e = 0; e < this.musicKeys.length; e++) if (this.musicKeys[e] == t) return ! 1;\n        return this.musicKeys.push(t),\n        !0\n    },\n    e.prototype.removeMusicKey = function(t) {\n        for (var e = 0; e < this.musicKeys.length; e++) if (this.musicKeys[e] == t) return this.musicKeys.splice(e, 1),\n        !0;\n        return ! 1\n    },\n    e.prototype.creatreAudioSource = function(t) {\n        var e = new cc.AudioSource;\n        return this.audioSourceMap.has(t) && this.audioSourceMap.get(t).destroy(),\n        this.audioSourceMap.set(t, e),\n        e\n    },\n    e.prototype.getAudioSource = function(t) {\n        return this.audioSourceMap.has(t) ? this.audioSourceMap.get(t) : this.creatreAudioSource(t)\n    },\n    e.prototype.playMusic = function(t, e, o, a) {\n        var i = this;\n        if (void 0 === o && (o = !0), void 0 === a && (a = 1), s.CacheUtils.canPlayMusin()) {\n            var r = this.getAudioSource(e);\n            if (null == r) return void c.LogMgr.getInstance().error(\"audioSourceName：\" + e + \"不存在\");\n            r.stop();\n            var n = this.getAdConf(t);\n            if (null == n) return void c.LogMgr.getInstance().error(\"audio id:\" + t + \"不存在\");\n            if (o && this.addMusicKey(e), this.audioClipMap.has(n.path)) {\n                var u = this.audioClipMap.get(n.path);\n                r.clip = u,\n                r.loop = o,\n                r.volume = a,\n                r.play()\n            } else l.ResourceMgr.getInstance().loadRes(n.bundle, n.path, cc.AudioClip,\n            function(t) {\n                r.clip = t,\n                i.audioClipMap.set(n.path, t),\n                r.loop = o,\n                r.volume = a,\n                r.play()\n            })\n        }\n    },\n    e.prototype.pauseMusic = function(t) {\n        if (s.CacheUtils.canPlayMusin()) {\n            var e = this.getAudioSource(t);\n            if (null == e) return void c.LogMgr.getInstance().error(\"audioSourceName：\" + t + \"不存在\");\n            e.pause()\n        }\n    },\n    e.prototype.resumeMusic = function(t) {\n        if (s.CacheUtils.canPlayMusin()) {\n            var e = this.getAudioSource(t);\n            if (null == e) return void c.LogMgr.getInstance().error(\"audioSourceName：\" + t + \"不存在\");\n            e.resume()\n        }\n    },\n    e.prototype.pauseAllMusic = function() {\n        var t = this;\n        this.musicKeys.forEach(function(e) {\n            t.pauseMusic(e)\n        })\n    },\n    e.prototype.resumeAllMusic = function() {\n        var t = this;\n        this.musicKeys.forEach(function(e) {\n            t.resumeMusic(e)\n        })\n    },\n    e.prototype.stopMusic = function(t) {\n        var e = this.getAudioSource(t);\n        null != e ? (this.removeMusicKey(t), e.stop()) : c.LogMgr.getInstance().error(\"audioSourceName：\" + t + \"不存在\")\n    },\n    e.prototype.stopAll = function() {\n        this.audioSourceMap.forEach(function(t) {\n            t.stop()\n        })\n    },\n    e.prototype.playEffect = function(t, e) {\n        var o = this;\n        if (void 0 === e && (e = 1), s.CacheUtils.canPlayEffect()) {\n            var a = this.EffectAduioSource;\n            null == a && (a = this.getAudioSource(\"effect\"));\n            var i = this.getAdConf(t);\n            if (this.audioClipMap.has(i.path)) {\n                var r = this.audioClipMap.get(i.path);\n                a.clip = r,\n                a.volume = e,\n                a.play()\n            } else l.ResourceMgr.getInstance().loadRes(i.bundle, i.path, cc.AudioClip,\n            function(t) {\n                o.audioClipMap.set(i.path, t),\n                a.clip = t,\n                a.volume = e,\n                a.play()\n            })\n        }\n    },\n    e.prototype.playEffectByPath = function(t, e, o, a) {\n        var i = this;\n        if (void 0 === o && (o = 1), void 0 === a && (a = !1), s.CacheUtils.canPlayEffect()) {\n            var r = this.EffectAduioSource;\n            if (null == r && (r = this.getAudioSource(e)), this.audioClipMap.has(t)) {\n                var n = this.audioClipMap.get(t);\n                r.clip = n,\n                r.volume = o,\n                r.loop = a,\n                r.play()\n            } else l.ResourceMgr.getInstance().loadRes(\"audio\", t, cc.AudioClip,\n            function(e) {\n                i.audioClipMap.set(t, e),\n                r.clip = e,\n                r.volume = o,\n                r.loop = a,\n                r.play()\n            })\n        }\n    },\n    e.prototype.playAudioFromPath = function(t, e, o, a, i) {\n        var r = this;\n        if (s.CacheUtils.canPlayMusin()) {\n            var n = this.getAudioSource(o);\n            if (null == n) return void c.LogMgr.getInstance().error(\"audioSourceName：\" + o + \"不存在\");\n            if (n.stop(), this.audioClipMap.has(e)) {\n                var u = this.audioClipMap.get(e);\n                n.clip = u,\n                n.volume = 1,\n                a ? (n.loop = !0, this.addMusicKey(o)) : n.loop = !1,\n                n.play(),\n                i && i(n)\n            } else l.ResourceMgr.getInstance().loadRes(t, String(e), cc.AudioClip,\n            function(t) {\n                n.clip = t,\n                r.audioClipMap.set(e, t),\n                n.volume = 1,\n                a ? (n.loop = !0, r.addMusicKey(o)) : n.loop = !1,\n                n.play(),\n                i && i(n)\n            })\n        }\n    },\n    e.prototype.stopEffect = function() {\n        var t = this.getAudioSource(\"effect\");\n        t && t.stop()\n    },\n    e.prototype.setButtonNomalAudio = function(t) {\n        this.normalButtonAudio = t\n    },\n    e.prototype.playAudioButtonClicked = function() {\n        this.normalButtonAudio && this.playEffect(this.normalButtonAudio)\n    },\n    e\n} (n.default);\no.AudioMgr = u"]}