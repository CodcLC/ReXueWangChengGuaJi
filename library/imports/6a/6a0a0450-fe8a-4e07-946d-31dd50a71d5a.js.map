{"version":3,"sources":["assets\\scripts\\GoodsManager.js"],"names":["t","require","e","module","o","exports","Object","defineProperty","value","a","i","r","n","s","c","l","u","equipClassForQuality","equipClassForType","skillBookClassForQuality","skillBookOwned","skillBookNotGet","skillBookOwnedForQuality","skillBookNotGetForQuality","getInstance","instance","prototype","getGoodsCfgForGoodsType","DataMgr","getGoodsCfg","goodsType","goodsQualityId","length","Utils","randomRang","seleCfg","initClassData","classifyEquipForQuality","classifyEquipForType","classifySkillBookForQuality","getAllEquipCfg","qualityId","push","id","equipType","getSkillBookCfg","classifySkillBookForQualityAndIsOwn","PlayerMgr","geUserData","getSkillBookArr","getSkillBook","isExistSkillBookForId","classifyAllSkillBookForQuality","initOwnedSkillBookData","getColorForQuality","seleColor","cc","color","getRewardForType","addGoldNum","addInGotNum","addPowerNum","getReward","p","iCount","addEquipForId","goodsId","addEquipCountForTask","addSkillBookId","addSkillBookCountForTask","g","getSkillBookForId","level","MaxLevel","d","getSkillQuality","h","getTabelArr","FullGradeCompensate","subSkillBookCount","Number","goodsName","isOverEquipBagForIndex","UIMgr","openUI","UIID","UINotBagIndex","UITips","getRewardDouble","getBagIndexCount","getOwnedEquipCount"],"mappings":"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","sourceRoot":"/","sourcesContent":["var t = require;\nvar e = module;\nvar o = exports;\nObject.defineProperty(o, \"__esModule\", {\n    value: !0\n});\nvar a = t(\"UIMgr\"),\ni = t(\"Utils\"),\nr = t(\"Config\"),\nn = t(\"DataMgr\"),\ns = t(\"EquipMgr\"),\nc = t(\"PlayerMgr\"),\nl = t(\"TaskMgr\"),\nu = function() {\n    function t() {\n        this.equipClassForQuality = [[], [], [], [], []],\n        this.equipClassForType = [[], [], [], [], [], []],\n        this.skillBookClassForQuality = [[], [], [], [], []],\n        this.skillBookOwned = [[], [], [], [], []],\n        this.skillBookNotGet = [[], [], [], [], []],\n        this.skillBookOwnedForQuality = [],\n        this.skillBookNotGetForQuality = []\n    }\n    return t.getInstance = function() {\n        return null == this.instance && (this.instance = new t),\n        this.instance\n    },\n    t.prototype.getGoodsCfgForGoodsType = function(t) {\n        var e = n.DataMgr.getInstance().getGoodsCfg(t);\n        if (\"equip\" == e.goodsType) {\n            var o = this.equipClassForQuality[e.goodsQualityId - 1];\n            if (!o || o.length <= 0) return null;\n            var a = i.Utils.randomRang(0, o.length);\n            return [e.goodsType, o[a]]\n        }\n        if (\"skillBook\" == e.goodsType) {\n            var r = this.skillBookClassForQuality[e.goodsQualityId - 1];\n            if (!r || r.length <= 0) return null;\n            var s = i.Utils.randomRang(0, r.length);\n            return [e.goodsType, r[s]]\n        }\n        return [e.goodsType, t]\n    },\n    t.prototype.seleCfg = function(t, e) {\n        e && e[0]\n    },\n    t.prototype.initClassData = function() {\n        this.classifyEquipForQuality(),\n        this.classifyEquipForType(),\n        this.classifySkillBookForQuality()\n    },\n    t.prototype.classifyEquipForQuality = function() {\n        for (var t = n.DataMgr.getInstance().getAllEquipCfg(), e = 0; e < t.length; e++) {\n            var o = t[e].qualityId;\n            this.equipClassForQuality[o - 1].push(t[e].id)\n        }\n    },\n    t.prototype.classifyEquipForType = function() {\n        for (var t = n.DataMgr.getInstance().getAllEquipCfg(), e = 0; e < t.length; e++) {\n            var o = t[e].equipType;\n            this.equipClassForType[o - 1].push(t[e].id)\n        }\n    },\n    t.prototype.classifySkillBookForQuality = function() {\n        for (var t = n.DataMgr.getInstance().getSkillBookCfg(), e = 0; e < t.length; e++) {\n            var o = t[e].qualityId;\n            this.skillBookClassForQuality[o - 1].push(t[e].id)\n        }\n    },\n    t.prototype.classifySkillBookForQualityAndIsOwn = function() {\n        for (var t = c.PlayerMgr.getInstance().geUserData().getSkillBookArr(), e = 0; e < t.length; e++) {\n            var o = n.DataMgr.getInstance().getSkillBook(t[e].id);\n            this.skillBookOwned[o.qualityId - 1].push(t[e].id)\n        }\n        var a = n.DataMgr.getInstance().getSkillBookCfg();\n        for (e = 0; e < a.length; e++) {\n            var i = a[e].qualityId;\n            this.isExistSkillBookForId(i, a[e].id) || this.skillBookNotGet[i - 1].push(a[e].id)\n        }\n        this.classifyAllSkillBookForQuality()\n    },\n    t.prototype.classifyAllSkillBookForQuality = function() {\n        for (var t = this.skillBookOwned.length - 1; t >= 0; t--) for (var e = 0; e < this.skillBookOwned[t].length; e++) this.skillBookOwnedForQuality.push(this.skillBookOwned[t][e]);\n        for (t = this.skillBookNotGet.length - 1; t >= 0; t--) for (e = 0; e < this.skillBookNotGet[t].length; e++) this.skillBookNotGetForQuality.push(this.skillBookNotGet[t][e])\n    },\n    t.prototype.isExistSkillBookForId = function(t, e) {\n        if (!this.skillBookOwned || !this.skillBookOwned[t - 1] || this.skillBookOwned[t - 1].length <= 0) return ! 1;\n        for (var o = 0; o < this.skillBookOwned[t - 1].length; o++) if (this.skillBookOwned[t - 1][o] == e) return ! 0;\n        return ! 1\n    },\n    t.prototype.initOwnedSkillBookData = function() {\n        this.skillBookOwned = [[], [], [], [], []],\n        this.skillBookNotGet = [[], [], [], [], []],\n        this.skillBookOwnedForQuality = [],\n        this.skillBookNotGetForQuality = [],\n        this.classifySkillBookForQualityAndIsOwn()\n    },\n    t.prototype.getColorForQuality = function(t) {\n        var e = \"ffffff\";\n        switch (t) {\n            case 1:\n                e = \"c0bebe\";\n            break;\n            case 2:\n                e = \"a3ec19\";\n            break;\n            case 3:\n                e = \"21f9eb\";\n            break;\n            case 4:\n                e = \"cd3dfd\";\n            break;\n            case 5:\n                e = \"ffd722\";\n        }\n        return e\n    },\n    t.prototype.seleColor = function(t) {\n        var e = cc.color();\n        switch (t) {\n            case 1:\n                e = cc.color(192, 190, 190);\n            break;\n            case 2:\n                e = cc.color(163, 236, 25);\n            break;\n            case 3:\n                e = cc.color(33, 249, 235);\n            break;\n            case 4:\n                e = cc.color(205, 61, 253);\n            break;\n            case 5:\n                e = cc.color(255, 215, 34);\n        }\n        return e\n    },\n    t.prototype.getRewardForType = function(t, e) {\n        var o = c.PlayerMgr.getInstance().geUserData();\n        switch (t) {\n            case 1:\n                o.addGoldNum(e);\n            break;\n            case 2:\n                o.addInGotNum(e);\n            break;\n            case 3:\n                o.addPowerNum(e);\n        }\n    },\n    t.prototype.getReward = function(e) {\n        if (e) {\n            for (var o = 0,\n            s = \"金币\",\n            u = c.PlayerMgr.getInstance().geUserData(), p = 0; p < e.length; p++) switch (e[p].goodsType) {\n                case \"gold\":\n                    u.addGoldNum(e[p].iCount);\n                break;\n                case \"inGot\":\n                    u.addInGotNum(e[p].iCount);\n                break;\n                case \"power\":\n                    u.addPowerNum(e[p].iCount);\n                break;\n                case \"equip\":\n                    u.addEquipForId(e[p].goodsId),\n                l.default.getInstance().addEquipCountForTask();\n                break;\n                case \"skillBook\":\n                    u.addSkillBookId(e[p].goodsId),\n                l.default.getInstance().addSkillBookCountForTask();\n                var g = n.DataMgr.getInstance().getSkillBook(e[p].goodsId);\n                if (c.PlayerMgr.getInstance().geUserData().getSkillBookForId(e[p].goodsId).level >= g.MaxLevel) {\n                    var d = n.DataMgr.getInstance().getSkillQuality(g.qualityId),\n                    h = i.Utils.getTabelArr(d.FullGradeCompensate);\n                    c.PlayerMgr.getInstance().geUserData().subSkillBookCount(g.id),\n                    t.getInstance().getRewardForType(Number(h[0]), Number(h[1])),\n                    o += Number(h[1]),\n                    s = n.DataMgr.getInstance().getGoodsCfg(Number(h[0])).goodsName\n                }\n            }\n            this.isOverEquipBagForIndex() ? a.UIMgr.getInstance().openUI(r.UIID.UINotBagIndex, -1) : a.UIMgr.getInstance().openUI(r.UIID.UITips, -1, \"领取成功\"),\n            o > 0 && a.UIMgr.getInstance().openUI(r.UIID.UITips, -1, \"部分技能书已达到最大等级，自动转化为 \" + s + \"x\" + o)\n        }\n    },\n    t.prototype.getRewardDouble = function(e) {\n        if (e) {\n            for (var o = 0,\n            s = \"金币\",\n            u = c.PlayerMgr.getInstance().geUserData(), p = 0; p < e.length; p++) switch (e[p].goodsType) {\n                case \"gold\":\n                    u.addGoldNum(2 * e[p].iCount);\n                break;\n                case \"inGot\":\n                    u.addInGotNum(2 * e[p].iCount);\n                break;\n                case \"power\":\n                    u.addPowerNum(2 * e[p].iCount);\n                break;\n                case \"equip\":\n                    u.addEquipForId(e[p].goodsId),\n                u.addEquipForId(e[p].goodsId),\n                l.default.getInstance().addEquipCountForTask(2);\n                break;\n                case \"skillBook\":\n                    u.addSkillBookId(e[p].goodsId, 2),\n                l.default.getInstance().addSkillBookCountForTask(2);\n                var g = n.DataMgr.getInstance().getSkillBook(e[p].goodsId);\n                if (c.PlayerMgr.getInstance().geUserData().getSkillBookForId(e[p].goodsId).level >= g.MaxLevel) {\n                    var d = n.DataMgr.getInstance().getSkillQuality(g.qualityId),\n                    h = i.Utils.getTabelArr(d.FullGradeCompensate);\n                    c.PlayerMgr.getInstance().geUserData().subSkillBookCount(g.id, 2),\n                    t.getInstance().getRewardForType(Number(h[0]), Number(h[1])),\n                    o += 2 * Number(h[1]),\n                    s = n.DataMgr.getInstance().getGoodsCfg(Number(h[0])).goodsName\n                }\n            }\n            this.isOverEquipBagForIndex() ? a.UIMgr.getInstance().openUI(r.UIID.UINotBagIndex, -1) : a.UIMgr.getInstance().openUI(r.UIID.UITips, -1, \"领取成功\"),\n            o > 0 && a.UIMgr.getInstance().openUI(r.UIID.UITips, -1, \"部分技能书已达到最大等级，自动转化为 \" + s + \"x\" + o)\n        }\n    },\n    t.prototype.isOverEquipBagForIndex = function(t) {\n        void 0 === t && (t = function() {});\n        var e = c.PlayerMgr.getInstance().geUserData().getBagIndexCount();\n        return s.default.getInstance().getOwnedEquipCount() > e\n    },\n    t\n} ();\no.default = u"]}