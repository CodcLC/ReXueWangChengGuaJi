{"version":3,"sources":["assets\\scripts\\ScrollCard.js"],"names":["t","require","e","module","o","exports","a","i","r","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","n","__decorate","arguments","length","getOwnPropertyDescriptor","Reflect","decorate","s","defineProperty","value","Direction","Horizontal","Vertical","cc","Enum","_decorator","c","ccclass","l","property","u","apply","itemOffset","speed","rub","scaleMin","scaleMax","item","itemSize","itemNode","_startTime","_moveSpeed","uiTransform","itemList","canTouch","invert","speedTime","start","node","on","Node","EventType","TOUCH_START","Date","getTime","TOUCH_MOVE","getDelta","itemMoveBy","TOUCH_END","touchEnd","TOUCH_CANCEL","init","instantiate","active","parent","push","_initItemPos","updateScale","autoScroll","offset","schedule","scrollOffset","changleScrollSpeed","stopAutoScroll","unscheduleAllCallbacks","getLocation","getStartLocation","x","y","anchorY","anchorX","_maxSize","Size","width","height","Vec2","_screenRect","Rect","getAnchorPoint","getContentSize","add","position","Vec3","subtract","Math","abs","scale","updatePos","shift","pop","unshift","update","type","tooltip","Integer","Float","Component"],"mappings":"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","sourceRoot":"/","sourcesContent":["var t = require;\nvar e = module;\nvar o = exports;\nvar a, i, r = this && this.__extends || (a = function(t, e) {\n    return (a = Object.setPrototypeOf || {\n        __proto__: []\n    }\n    instanceof Array &&\n    function(t, e) {\n        t.__proto__ = e\n    } ||\n    function(t, e) {\n        for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o])\n    })(t, e)\n},\nfunction(t, e) {\n    function o() {\n        this.constructor = t\n    }\n    a(t, e),\n    t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)\n}),\nn = this && this.__decorate ||\nfunction(t, e, o, a) {\n    var i, r = arguments.length,\n    n = r < 3 ? e: null === a ? a = Object.getOwnPropertyDescriptor(e, o) : a;\n    if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) n = Reflect.decorate(t, e, o, a);\n    else for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (n = (r < 3 ? i(n) : r > 3 ? i(e, o, n) : i(e, o)) || n);\n    return r > 3 && n && Object.defineProperty(e, o, n),\n    n\n};\nObject.defineProperty(o, \"__esModule\", {\n    value: !0\n}),\no.Direction = void 0,\nfunction(t) {\n    t[t.Horizontal = 0] = \"Horizontal\",\n    t[t.Vertical = 1] = \"Vertical\"\n} (i = o.Direction || (o.Direction = {})),\ncc.Enum(i);\nvar s = cc._decorator,\nc = s.ccclass,\nl = s.property,\nu = function(t) {\n    function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.Direction = i.Horizontal,\n        e.itemOffset = 0,\n        e.speed = 500,\n        e.rub = 1,\n        e.scaleMin = .5,\n        e.scaleMax = 1,\n        e.item = [],\n        e.itemSize = 5,\n        e.itemNode = null,\n        e._startTime = 0,\n        e._moveSpeed = 0,\n        e.uiTransform = null,\n        e.itemList = [],\n        e.canTouch = !0,\n        e.invert = 0,\n        e.speedTime = 0,\n        e\n    }\n    return r(e, t),\n    e.prototype.start = function() {\n        var t = this;\n        this.uiTransform = this.node,\n        this.node.on(cc.Node.EventType.TOUCH_START,\n        function() {\n            t.canTouch && (t._moveSpeed = 0, t._startTime = new Date().getTime())\n        }),\n        this.node.on(cc.Node.EventType.TOUCH_MOVE,\n        function(e) {\n            if (t.canTouch) {\n                var o = e.getDelta();\n                t.itemMoveBy(o)\n            }\n        }),\n        this.node.on(cc.Node.EventType.TOUCH_END,\n        function(e) {\n            t.canTouch && t.touchEnd(e)\n        }),\n        this.node.on(cc.Node.EventType.TOUCH_CANCEL,\n        function(e) {\n            t.canTouch && t.touchEnd(e)\n        })\n    },\n    e.prototype.init = function() {\n        for (var t = 0; t < this.itemSize; t++) {\n            var e = cc.instantiate(this.itemNode);\n            e.active = !0,\n            e.parent = this.node,\n            this.item.push(e)\n        }\n        this._initItemPos(),\n        this.updateScale()\n    },\n    e.prototype.autoScroll = function(t, e) {\n        var o = this;\n        this.canTouch = !1,\n        this.speedTime = t,\n        this.offset = e,\n        this.schedule(function() {\n            o.invert += .01,\n            o.invert >= o.speedTime && (o.invert = 0, o.scrollOffset(o.offset))\n        },\n        0)\n    },\n    e.prototype.changleScrollSpeed = function(t, e) {\n        this.speedTime = t,\n        this.offset = e\n    },\n    e.prototype.stopAutoScroll = function() {\n        this.unscheduleAllCallbacks()\n    },\n    e.prototype.scrollOffset = function(t) {\n        this.itemMoveBy(t)\n    },\n    e.prototype.touchEnd = function(t) {\n        var e, o = t.getLocation(),\n        a = t.getStartLocation();\n        e = 0 == this.Direction ? a.x - o.x: a.y - o.y;\n        var i = new Date().getTime() - this._startTime;\n        this._moveSpeed = e / i\n    },\n    e.prototype._initItemPos = function() {\n        this.uiTransform.anchorY = .5,\n        this.uiTransform.anchorX = .5,\n        this._maxSize = new cc.Size(0, 0);\n        for (var t = 0; t < this.item.length; t++) this._maxSize.width += this.item[t].width,\n        this._maxSize.height += this.item[t].height,\n        this._maxSize.width += this.itemOffset,\n        this._maxSize.height += this.itemOffset;\n        var e;\n        for (e = 0 == this.Direction ? new cc.Vec2( - this._maxSize.width * this.uiTransform.anchorX, -this._maxSize.height * this.uiTransform.anchorY) : new cc.Vec2(this._maxSize.width * this.uiTransform.anchorX, this._maxSize.height * this.uiTransform.anchorY), this._screenRect = new cc.Rect(e.x, e.y, this._maxSize.width, this._maxSize.height), this.itemList = [], t = 0; t < this.item.length; t++) {\n            var o = this.item[t].getAnchorPoint(),\n            a = this.item[t].getContentSize();\n            0 == this.Direction ? (e = e.add(new cc.Vec2(a.width * o.x, a.height * o.y)), this.item[t].position = new cc.Vec3(e.x, 0, 0), e = (e = e.add(new cc.Vec2(a.width * o.x, a.height * o.y))).add(new cc.Vec2(this.itemOffset, this.itemOffset))) : (e = e.subtract(new cc.Vec2(a.width * o.x, a.height * o.y)), this.item[t].position = new cc.Vec3(0, e.y, 0), e = (e = e.subtract(new cc.Vec2(a.width * o.x, a.height * o.y))).subtract(new cc.Vec2(this.itemOffset, this.itemOffset))),\n            this.itemList[t] = this.item[t]\n        }\n    },\n    e.prototype.updateScale = function() {\n        if (! (this.scaleMax < this.scaleMin || 0 == this.scaleMax)) for (var t = 0; t < this.item.length; t++) {\n            var e;\n            if (0 == this.Direction) {\n                var o = this.item[t].position.x + this._maxSize.width / 2;\n                e = this.item[t].position.x < 0 ? o / this._maxSize.width: 1 - o / this._maxSize.width\n            } else {\n                var a = this.item[t].position.y + this._maxSize.height / 2;\n                e = this.item[t].position.y < 0 ? a / this._maxSize.height: 1 - a / this._maxSize.height\n            }\n            e *= 2;\n            var i = this.scaleMax - this.scaleMin;\n            i *= e,\n            i += this.scaleMin,\n            i = Math.abs(i),\n            this.item[t].scale = i\n        }\n    },\n    e.prototype.itemMoveBy = function(t) {\n        for (var e = 0; e < this.item.length; e++) {\n            var o = this.item[e].position;\n            if (0 == this.Direction) {\n                var a = new cc.Vec3(o.x + t.x, o.y, 0);\n                this.item[e].position = a\n            } else a = new cc.Vec3(o.x, o.y + t.y, 0),\n            this.item[e].position = a\n        }\n        this.updatePos()\n    },\n    e.prototype.updatePos = function() {\n        var t = this.itemList[0],\n        e = this.itemList[this.itemList.length - 1],\n        o = !1;\n        if (0 == this.Direction ? t.position.x < -this._maxSize.width / 2 && (o = !0) : t.position.y > this._maxSize.width / 2 && (o = !0), o) {\n            var a = this.itemList.shift();\n            this.itemList.push(a);\n            var i = a.position;\n            if (0 == this.Direction) {\n                var r = e.position.x + e.width + this.itemOffset;\n                a.position = new cc.Vec3(r, i.y, 0)\n            } else {\n                var n = e.position.y - e.height - this.itemOffset;\n                a.position = new cc.Vec3(i.x, n, 0)\n            }\n        }\n        var s = !1;\n        0 == this.Direction ? e.position.x > this._maxSize.width / 2 && (s = !0) : e.position.y < -this._maxSize.height / 2 && (s = !0),\n        s && (a = this.itemList.pop(), this.itemList.unshift(a), i = a.position, 0 == this.Direction ? (r = t.position.x - t.width - this.itemOffset, a.position = new cc.Vec3(r, i.y, 0)) : (n = t.position.y + t.height + this.itemOffset, a.position = new cc.Vec3(i.x, n, 0))),\n        this.updateScale()\n    },\n    e.prototype.update = function(t) {\n        if (0 != this._moveSpeed) {\n            for (var e = 0; e < this.item.length; e++) {\n                var o = this.item[e].position;\n                if (0 == this.Direction) {\n                    var a = this._moveSpeed * t * this.speed;\n                    this.item[e].position = new cc.Vec3(o.x - a, o.y, 0)\n                } else {\n                    var i = this._moveSpeed * t * this.speed;\n                    this.item[e].position = new cc.Vec3(o.x, o.y - i, 0)\n                }\n            }\n            this._moveSpeed > 0 ? (this._moveSpeed -= t * this.rub, this._moveSpeed < 0 && (this._moveSpeed = 0)) : (this._moveSpeed += t * this.rub, this._moveSpeed > 0 && (this._moveSpeed = 0));\n            var r = -this._moveSpeed * t * this.speed;\n            this.itemMoveBy(new cc.Vec2(r, r)),\n            this.updatePos()\n        }\n    },\n    n([l({\n        type: i,\n        tooltip: \"滑动方向\"\n    })], e.prototype, \"Direction\", void 0),\n    n([l({\n        type: cc.Integer,\n        tooltip: \"node 间隔\"\n    })], e.prototype, \"itemOffset\", void 0),\n    n([l({\n        type: cc.Integer,\n        tooltip: \"移动速度\"\n    })], e.prototype, \"speed\", void 0),\n    n([l({\n        type: cc.Float,\n        tooltip: \"减速频率\"\n    })], e.prototype, \"rub\", void 0),\n    n([l({\n        type: cc.Float,\n        tooltip: \"缩放最小值\"\n    })], e.prototype, \"scaleMin\", void 0),\n    n([l({\n        type: cc.Float,\n        tooltip: \"缩放最大值\"\n    })], e.prototype, \"scaleMax\", void 0),\n    n([l({\n        type: [cc.Node],\n        tooltip: \"滚动item\"\n    })], e.prototype, \"item\", void 0),\n    n([l({\n        type: cc.Integer\n    })], e.prototype, \"itemSize\", void 0),\n    n([l({\n        type: cc.Node\n    })], e.prototype, \"itemNode\", void 0),\n    n([c], e)\n} (cc.Component);\no.default = u"]}