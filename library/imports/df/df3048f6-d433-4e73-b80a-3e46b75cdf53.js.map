{"version":3,"sources":["assets\\scripts\\SkillMgr.js"],"names":["t","require","e","module","o","exports","Object","defineProperty","value","a","i","r","n","s","c","l","u","p","getAtkSkillId","getInstance","getSkillIdArr","length","DataMgr","getSkill","PlayerMgr","geUserData","getCurSec","getEnterFirstSecCount","id","weight","g","skillWeight","isHaveMasterFetter","getAddSkillAndHurtProp","push","Utils","weight_randSingle","weight_rand","isOverLevelForSkillBook","getSkillBook","getSkillQuality","qualityId","getTabelArr","FullGradeCompensate","getSkillBookForId","level","MaxLevel","subSkillBookCount","getRewardForType","Number","UIMgr","openUI","UIID","UITips"],"mappings":"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","sourceRoot":"/","sourcesContent":["var t = require;\nvar e = module;\nvar o = exports;\nObject.defineProperty(o, \"__esModule\", {\n    value: !0\n});\nvar a = t(\"UIMgr\"),\ni = t(\"Utils\"),\nr = t(\"Config\"),\nn = t(\"DataMgr\"),\ns = t(\"FetterMgr\"),\nc = t(\"GameDataMgr\"),\nl = t(\"GoodsManager\"),\nu = t(\"PlayerMgr\"),\np = function() {\n    function t() {}\n    return t.getAtkSkillId = function() {\n        for (var t = [], e = 0, o = c.default.getInstance().getSkillIdArr(), a = 0; a < o.length; a++) {\n            var r = n.DataMgr.getInstance().getSkill(o[a]),\n            l = null,\n            p = u.PlayerMgr.getInstance().geUserData();\n            if (1 == p.getCurSec() && 1 == p.getEnterFirstSecCount()) l = {\n                id: o[a],\n                weight: 60\n            };\n            else {\n                var g = r.skillWeight;\n                s.default.getInstance().isHaveMasterFetter() && (g += s.default.getInstance().getAddSkillAndHurtProp() / 100 * g),\n                l = {\n                    id: o[a],\n                    weight: g\n                }\n            }\n            l && (e += l.weight),\n            l && t.push(l)\n        }\n        return i.Utils.weight_randSingle(e) ? i.Utils.weight_rand(t).id: 0\n    },\n    t.isOverLevelForSkillBook = function(t) {\n        var e = n.DataMgr.getInstance().getSkillBook(t),\n        o = n.DataMgr.getInstance().getSkillQuality(e.qualityId),\n        s = i.Utils.getTabelArr(o.FullGradeCompensate);\n        u.PlayerMgr.getInstance().geUserData().getSkillBookForId(t).level >= e.MaxLevel && (u.PlayerMgr.getInstance().geUserData().subSkillBookCount(e.id), l.default.getInstance().getRewardForType(Number(s[0]), Number(s[1])), a.UIMgr.getInstance().openUI(r.UIID.UITips, -1, \"已达到最大等级，自动转化为 金币x\" + s[1]))\n    },\n    t\n} ();\no.default = p"]}