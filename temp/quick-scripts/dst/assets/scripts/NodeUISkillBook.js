
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/NodeUISkillBook.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '55432Px/zxLJ6wfB9h1wDt1', 'NodeUISkillBook');
// scripts/NodeUISkillBook.js

"use strict";

var t = require;
var e = module;
var o = exports;

var _a,
    i = void 0 && (void 0).__extends || (_a = function a(t, e) {
  return (_a = Object.setPrototypeOf || {
    __proto__: []
  } instanceof Array && function (t, e) {
    t.__proto__ = e;
  } || function (t, e) {
    for (var o in e) {
      Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
    }
  })(t, e);
}, function (t, e) {
  function o() {
    this.constructor = t;
  }

  _a(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o());
}),
    r = void 0 && (void 0).__decorate || function (t, e, o, a) {
  var i,
      r = arguments.length,
      n = r < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, o) : a;
  if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) n = Reflect.decorate(t, e, o, a);else for (var s = t.length - 1; s >= 0; s--) {
    (i = t[s]) && (n = (r < 3 ? i(n) : r > 3 ? i(e, o, n) : i(e, o)) || n);
  }
  return r > 3 && n && Object.defineProperty(e, o, n), n;
};

Object.defineProperty(o, "__esModule", {
  value: !0
});

var n = t("EventMgr"),
    s = t("TweenMgr"),
    c = t("UIMgr"),
    l = t("Utils"),
    u = t("Config"),
    p = t("TrackDataEvent"),
    g = t("DataMgr"),
    d = t("PlayerMgr"),
    h = cc._decorator,
    f = h.ccclass,
    m = h.property,
    y = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    return e.SpBar = null, e.SpUp = null, e.LabLv = null, e.LabBar = null, e.SpBarBg = null, e.SpSkillBook = null, e.LabSkilllName = null, e.SpFetter1 = null, e.SpFetter2 = null, e.LabFetter1 = null, e.LabFetter2 = null, e.curWindow = null, e.skillBookId = 1, e;
  }

  return i(e, t), e.prototype.onLoad = function () {}, e.prototype.start = function () {
    s.TweenMgr.getInstance().animUpLv(this.SpUp);
  }, e.prototype.registerEvent = function () {
    n.EventMgr.getInstance().on(u.EventName.RefreshUISkillBookShow, this, this.refreshSkillBookShow);
  }, e.prototype.registerBtnEvent = function () {
    var t = this;
    this.node.on(cc.Node.EventType.TOUCH_END, function () {
      d.PlayerMgr.getInstance().getTrackData().youmengTrack(p.TrackId.guide13);
      var e = l.Utils.posTransform(t.node.parent, t.node.getPosition(), c.UIMgr.getInstance().getUIRoot(u.UIID.UISkillBook));
      c.UIMgr.getInstance().openUI(u.UIID.UISkillBookInfo, -1, t.skillBookId, e, t.curWindow);
    });
  }, e.prototype.initData = function (t, e) {
    this.skillBookId = t, this.curWindow = e, this.registerEvent(), this.registerBtnEvent(), this.playEnterAnim();
  }, e.prototype.refreshSkillBookShow = function (t) {
    this.skillBookId === t && this.refreshSkillBookLvInfo();
  }, e.prototype.refreshSkillBookLvInfo = function () {
    var t = d.PlayerMgr.getInstance().geUserData().getSkillBookForId(this.skillBookId),
        e = g.DataMgr.getInstance().getSkillBook(this.skillBookId),
        o = g.DataMgr.getInstance().getSkillBookLevelCfg1(e.StartLevelID, t.level);
    this.SpBar.fillRange = t.iCount / o.ConsumeSkillBookNum, this.SpUp.active = t.iCount >= o.ConsumeSkillBookNum, this.LabLv.string = "Lv." + t.level, t.level >= e.MaxLevel ? this.LabBar.string = "MAX" : this.LabBar.string = t.iCount + "/" + o.ConsumeSkillBookNum;
  }, e.prototype.playEnterAnim = function () {}, e.prototype.showAnim = function (t, e) {
    void 0 === e && (e = function e() {}), cc.isValid(t) && cc.tween(t).to(.1, {
      opacity: 255
    }).call(function () {
      e && e();
    }).start();
  }, e.prototype.onDestroy = function () {
    n.EventMgr.getInstance().off(u.EventName.RefreshUISkillBookShow, this, this.refreshSkillBookShow);
  }, r([m(cc.Sprite)], e.prototype, "SpBar", void 0), r([m(cc.Node)], e.prototype, "SpUp", void 0), r([m(cc.Label)], e.prototype, "LabLv", void 0), r([m(cc.Label)], e.prototype, "LabBar", void 0), r([m(cc.Node)], e.prototype, "SpBarBg", void 0), r([m(cc.Node)], e.prototype, "SpSkillBook", void 0), r([m(cc.Node)], e.prototype, "LabSkilllName", void 0), r([m(cc.Node)], e.prototype, "SpFetter1", void 0), r([m(cc.Node)], e.prototype, "SpFetter2", void 0), r([m(cc.Node)], e.prototype, "LabFetter1", void 0), r([m(cc.Node)], e.prototype, "LabFetter2", void 0), r([f], e);
}(cc.Component);

o["default"] = y;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcTm9kZVVJU2tpbGxCb29rLmpzIl0sIm5hbWVzIjpbInQiLCJyZXF1aXJlIiwiZSIsIm1vZHVsZSIsIm8iLCJleHBvcnRzIiwiYSIsImkiLCJfX2V4dGVuZHMiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJyIiwiX19kZWNvcmF0ZSIsImFyZ3VtZW50cyIsImxlbmd0aCIsIm4iLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJzIiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsImMiLCJsIiwidSIsInAiLCJnIiwiZCIsImgiLCJjYyIsIl9kZWNvcmF0b3IiLCJmIiwiY2NjbGFzcyIsIm0iLCJwcm9wZXJ0eSIsInkiLCJhcHBseSIsIlNwQmFyIiwiU3BVcCIsIkxhYkx2IiwiTGFiQmFyIiwiU3BCYXJCZyIsIlNwU2tpbGxCb29rIiwiTGFiU2tpbGxsTmFtZSIsIlNwRmV0dGVyMSIsIlNwRmV0dGVyMiIsIkxhYkZldHRlcjEiLCJMYWJGZXR0ZXIyIiwiY3VyV2luZG93Iiwic2tpbGxCb29rSWQiLCJvbkxvYWQiLCJzdGFydCIsIlR3ZWVuTWdyIiwiZ2V0SW5zdGFuY2UiLCJhbmltVXBMdiIsInJlZ2lzdGVyRXZlbnQiLCJFdmVudE1nciIsIm9uIiwiRXZlbnROYW1lIiwiUmVmcmVzaFVJU2tpbGxCb29rU2hvdyIsInJlZnJlc2hTa2lsbEJvb2tTaG93IiwicmVnaXN0ZXJCdG5FdmVudCIsIm5vZGUiLCJOb2RlIiwiRXZlbnRUeXBlIiwiVE9VQ0hfRU5EIiwiUGxheWVyTWdyIiwiZ2V0VHJhY2tEYXRhIiwieW91bWVuZ1RyYWNrIiwiVHJhY2tJZCIsImd1aWRlMTMiLCJVdGlscyIsInBvc1RyYW5zZm9ybSIsInBhcmVudCIsImdldFBvc2l0aW9uIiwiVUlNZ3IiLCJnZXRVSVJvb3QiLCJVSUlEIiwiVUlTa2lsbEJvb2siLCJvcGVuVUkiLCJVSVNraWxsQm9va0luZm8iLCJpbml0RGF0YSIsInBsYXlFbnRlckFuaW0iLCJyZWZyZXNoU2tpbGxCb29rTHZJbmZvIiwiZ2VVc2VyRGF0YSIsImdldFNraWxsQm9va0ZvcklkIiwiRGF0YU1nciIsImdldFNraWxsQm9vayIsImdldFNraWxsQm9va0xldmVsQ2ZnMSIsIlN0YXJ0TGV2ZWxJRCIsImxldmVsIiwiZmlsbFJhbmdlIiwiaUNvdW50IiwiQ29uc3VtZVNraWxsQm9va051bSIsImFjdGl2ZSIsInN0cmluZyIsIk1heExldmVsIiwic2hvd0FuaW0iLCJpc1ZhbGlkIiwidHdlZW4iLCJ0byIsIm9wYWNpdHkiLCJvbkRlc3Ryb3kiLCJvZmYiLCJTcHJpdGUiLCJMYWJlbCIsIkNvbXBvbmVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxDQUFDLEdBQUdDLE9BQVI7QUFDQSxJQUFJQyxDQUFDLEdBQUdDLE1BQVI7QUFDQSxJQUFJQyxDQUFDLEdBQUdDLE9BQVI7O0FBQ0EsSUFBSUMsRUFBSjtBQUFBLElBQU9DLENBQUMsR0FBRyxVQUFRLFNBQUtDLFNBQWIsS0FBMkJGLEVBQUMsR0FBRyxXQUFTTixDQUFULEVBQVlFLENBQVosRUFBZTtFQUNyRCxPQUFPLENBQUNJLEVBQUMsR0FBR0csTUFBTSxDQUFDQyxjQUFQLElBQXlCO0lBQ2pDQyxTQUFTLEVBQUU7RUFEc0IsYUFHMUJDLEtBSDBCLElBSXJDLFVBQVNaLENBQVQsRUFBWUUsQ0FBWixFQUFlO0lBQ1hGLENBQUMsQ0FBQ1csU0FBRixHQUFjVCxDQUFkO0VBQ0gsQ0FOVyxJQU9aLFVBQVNGLENBQVQsRUFBWUUsQ0FBWixFQUFlO0lBQ1gsS0FBSyxJQUFJRSxDQUFULElBQWNGLENBQWQ7TUFBaUJPLE1BQU0sQ0FBQ0ksU0FBUCxDQUFpQkMsY0FBakIsQ0FBZ0NDLElBQWhDLENBQXFDYixDQUFyQyxFQUF3Q0UsQ0FBeEMs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RSxDQUFDa0MsSUFBSixDQUFGLENBQUQsRUFBZXBFLENBQUMsQ0FBQ1csU0FBakIsRUFBNEIsV0FBNUIsRUFBeUMsS0FBSyxDQUE5QyxDQXhETSxFQXlEUEssQ0FBQyxDQUFDLENBQUNzQixDQUFDLENBQUNKLEVBQUUsQ0FBQ2tDLElBQUosQ0FBRixDQUFELEVBQWVwRSxDQUFDLENBQUNXLFNBQWpCLEVBQTRCLFlBQTVCLEVBQTBDLEtBQUssQ0FBL0MsQ0F6RE0sRUEwRFBLLENBQUMsQ0FBQyxDQUFDc0IsQ0FBQyxDQUFDSixFQUFFLENBQUNrQyxJQUFKLENBQUYsQ0FBRCxFQUFlcEUsQ0FBQyxDQUFDVyxTQUFqQixFQUE0QixZQUE1QixFQUEwQyxLQUFLLENBQS9DLENBMURNLEVBMkRQSyxDQUFDLENBQUMsQ0FBQ29CLENBQUQsQ0FBRCxFQUFNcEMsQ0FBTixDQTNERDtBQTRESCxDQTlFRyxDQThFRGtDLEVBQUUsQ0FBQzZFLFNBOUVGLENBWEo7O0FBMEZBN0csQ0FBQyxXQUFELEdBQVlzQyxDQUFaIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdCA9IHJlcXVpcmU7XG52YXIgZSA9IG1vZHVsZTtcbnZhciBvID0gZXhwb3J0cztcbnZhciBhLCBpID0gdGhpcyAmJiB0aGlzLl9fZXh0ZW5kcyB8fCAoYSA9IGZ1bmN0aW9uKHQsIGUpIHtcbiAgICByZXR1cm4gKGEgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwge1xuICAgICAgICBfX3Byb3RvX186IFtdXG4gICAgfVxuICAgIGluc3RhbmNlb2YgQXJyYXkgJiZcbiAgICBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIHQuX19wcm90b19fID0gZVxuICAgIH0gfHxcbiAgICBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIGZvciAodmFyIG8gaW4gZSkgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsIG8pICYmICh0W29dID0gZVtvXSlcbiAgICB9KSh0LCBlKVxufSxcbmZ1bmN0aW9uKHQsIGUpIHtcbiAgICBmdW5jdGlvbiBvKCkge1xuICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gdFxuICAgIH1cbiAgICBhKHQsIGUpLFxuICAgIHQucHJvdG90eXBlID0gbnVsbCA9PT0gZSA/IE9iamVjdC5jcmVhdGUoZSkgOiAoby5wcm90b3R5cGUgPSBlLnByb3RvdHlwZSwgbmV3IG8pXG59KSxcbnIgPSB0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSB8fFxuZnVuY3Rpb24odCwgZSwgbywgYSkge1xuICAgIHZhciBpLCByID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICBuID0gciA8IDMgPyBlOiBudWxsID09PSBhID8gYSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgbykgOiBhO1xuICAgIGlmIChcIm9iamVjdFwiID09IHR5cGVvZiBSZWZsZWN0ICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSkgbiA9IFJlZmxlY3QuZGVjb3JhdGUodCwgZSwgbywgYSk7XG4gICAgZWxzZSBmb3IgKHZhciBzID0gdC5sZW5ndGggLSAxOyBzID49IDA7IHMtLSkoaSA9IHRbc10pICYmIChuID0gKHIgPCAzID8gaShuKSA6IHIgPiAzID8gaShlLCBvLCBuKSA6IGkoZSwgbykpIHx8IG4pO1xuICAgIHJldHVybiByID4gMyAmJiBuICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBvLCBuKSxcbiAgICBuXG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6ICEwXG59KTtcbnZhciBuID0gdChcIkV2ZW50TWdyXCIpLFxucyA9IHQoXCJUd2Vlbk1nclwiKSxcbmMgPSB0KFwiVUlNZ3JcIiksXG5sID0gdChcIlV0aWxzXCIpLFxudSA9IHQoXCJDb25maWdcIiksXG5wID0gdChcIlRyYWNrRGF0YUV2ZW50XCIpLFxuZyA9IHQoXCJEYXRhTWdyXCIpLFxuZCA9IHQoXCJQbGF5ZXJNZ3JcIiksXG5oID0gY2MuX2RlY29yYXRvcixcbmYgPSBoLmNjY2xhc3MsXG5tID0gaC5wcm9wZXJ0eSxcbnkgPSBmdW5jdGlvbih0KSB7XG4gICAgZnVuY3Rpb24gZSgpIHtcbiAgICAgICAgdmFyIGUgPSBudWxsICE9PSB0ICYmIHQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICByZXR1cm4gZS5TcEJhciA9IG51bGwsXG4gICAgICAgIGUuU3BVcCA9IG51bGwsXG4gICAgICAgIGUuTGFiTHYgPSBudWxsLFxuICAgICAgICBlLkxhYkJhciA9IG51bGwsXG4gICAgICAgIGUuU3BCYXJCZyA9IG51bGwsXG4gICAgICAgIGUuU3BTa2lsbEJvb2sgPSBudWxsLFxuICAgICAgICBlLkxhYlNraWxsbE5hbWUgPSBudWxsLFxuICAgICAgICBlLlNwRmV0dGVyMSA9IG51bGwsXG4gICAgICAgIGUuU3BGZXR0ZXIyID0gbnVsbCxcbiAgICAgICAgZS5MYWJGZXR0ZXIxID0gbnVsbCxcbiAgICAgICAgZS5MYWJGZXR0ZXIyID0gbnVsbCxcbiAgICAgICAgZS5jdXJXaW5kb3cgPSBudWxsLFxuICAgICAgICBlLnNraWxsQm9va0lkID0gMSxcbiAgICAgICAgZVxuICAgIH1cbiAgICByZXR1cm4gaShlLCB0KSxcbiAgICBlLnByb3RvdHlwZS5vbkxvYWQgPSBmdW5jdGlvbigpIHt9LFxuICAgIGUucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHMuVHdlZW5NZ3IuZ2V0SW5zdGFuY2UoKS5hbmltVXBMdih0aGlzLlNwVXApXG4gICAgfSxcbiAgICBlLnByb3RvdHlwZS5yZWdpc3RlckV2ZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIG4uRXZlbnRNZ3IuZ2V0SW5zdGFuY2UoKS5vbih1LkV2ZW50TmFtZS5SZWZyZXNoVUlTa2lsbEJvb2tTaG93LCB0aGlzLCB0aGlzLnJlZnJlc2hTa2lsbEJvb2tTaG93KVxuICAgIH0sXG4gICAgZS5wcm90b3R5cGUucmVnaXN0ZXJCdG5FdmVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdCA9IHRoaXM7XG4gICAgICAgIHRoaXMubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsXG4gICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZC5QbGF5ZXJNZ3IuZ2V0SW5zdGFuY2UoKS5nZXRUcmFja0RhdGEoKS55b3VtZW5nVHJhY2socC5UcmFja0lkLmd1aWRlMTMpO1xuICAgICAgICAgICAgdmFyIGUgPSBsLlV0aWxzLnBvc1RyYW5zZm9ybSh0Lm5vZGUucGFyZW50LCB0Lm5vZGUuZ2V0UG9zaXRpb24oKSwgYy5VSU1nci5nZXRJbnN0YW5jZSgpLmdldFVJUm9vdCh1LlVJSUQuVUlTa2lsbEJvb2spKTtcbiAgICAgICAgICAgIGMuVUlNZ3IuZ2V0SW5zdGFuY2UoKS5vcGVuVUkodS5VSUlELlVJU2tpbGxCb29rSW5mbywgLTEsIHQuc2tpbGxCb29rSWQsIGUsIHQuY3VyV2luZG93KVxuICAgICAgICB9KVxuICAgIH0sXG4gICAgZS5wcm90b3R5cGUuaW5pdERhdGEgPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIHRoaXMuc2tpbGxCb29rSWQgPSB0LFxuICAgICAgICB0aGlzLmN1cldpbmRvdyA9IGUsXG4gICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudCgpLFxuICAgICAgICB0aGlzLnJlZ2lzdGVyQnRuRXZlbnQoKSxcbiAgICAgICAgdGhpcy5wbGF5RW50ZXJBbmltKClcbiAgICB9LFxuICAgIGUucHJvdG90eXBlLnJlZnJlc2hTa2lsbEJvb2tTaG93ID0gZnVuY3Rpb24odCkge1xuICAgICAgICB0aGlzLnNraWxsQm9va0lkID09PSB0ICYmIHRoaXMucmVmcmVzaFNraWxsQm9va0x2SW5mbygpXG4gICAgfSxcbiAgICBlLnByb3RvdHlwZS5yZWZyZXNoU2tpbGxCb29rTHZJbmZvID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0ID0gZC5QbGF5ZXJNZ3IuZ2V0SW5zdGFuY2UoKS5nZVVzZXJEYXRhKCkuZ2V0U2tpbGxCb29rRm9ySWQodGhpcy5za2lsbEJvb2tJZCksXG4gICAgICAgIGUgPSBnLkRhdGFNZ3IuZ2V0SW5zdGFuY2UoKS5nZXRTa2lsbEJvb2sodGhpcy5za2lsbEJvb2tJZCksXG4gICAgICAgIG8gPSBnLkRhdGFNZ3IuZ2V0SW5zdGFuY2UoKS5nZXRTa2lsbEJvb2tMZXZlbENmZzEoZS5TdGFydExldmVsSUQsIHQubGV2ZWwpO1xuICAgICAgICB0aGlzLlNwQmFyLmZpbGxSYW5nZSA9IHQuaUNvdW50IC8gby5Db25zdW1lU2tpbGxCb29rTnVtLFxuICAgICAgICB0aGlzLlNwVXAuYWN0aXZlID0gdC5pQ291bnQgPj0gby5Db25zdW1lU2tpbGxCb29rTnVtLFxuICAgICAgICB0aGlzLkxhYkx2LnN0cmluZyA9IFwiTHYuXCIgKyB0LmxldmVsLFxuICAgICAgICB0LmxldmVsID49IGUuTWF4TGV2ZWwgPyB0aGlzLkxhYkJhci5zdHJpbmcgPSBcIk1BWFwiOiB0aGlzLkxhYkJhci5zdHJpbmcgPSB0LmlDb3VudCArIFwiL1wiICsgby5Db25zdW1lU2tpbGxCb29rTnVtXG4gICAgfSxcbiAgICBlLnByb3RvdHlwZS5wbGF5RW50ZXJBbmltID0gZnVuY3Rpb24oKSB7fSxcbiAgICBlLnByb3RvdHlwZS5zaG93QW5pbSA9IGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgdm9pZCAwID09PSBlICYmIChlID0gZnVuY3Rpb24oKSB7fSksXG4gICAgICAgIGNjLmlzVmFsaWQodCkgJiYgY2MudHdlZW4odCkudG8oLjEsIHtcbiAgICAgICAgICAgIG9wYWNpdHk6IDI1NVxuICAgICAgICB9KS5jYWxsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZSAmJiBlKClcbiAgICAgICAgfSkuc3RhcnQoKVxuICAgIH0sXG4gICAgZS5wcm90b3R5cGUub25EZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIG4uRXZlbnRNZ3IuZ2V0SW5zdGFuY2UoKS5vZmYodS5FdmVudE5hbWUuUmVmcmVzaFVJU2tpbGxCb29rU2hvdywgdGhpcywgdGhpcy5yZWZyZXNoU2tpbGxCb29rU2hvdylcbiAgICB9LFxuICAgIHIoW20oY2MuU3ByaXRlKV0sIGUucHJvdG90eXBlLCBcIlNwQmFyXCIsIHZvaWQgMCksXG4gICAgcihbbShjYy5Ob2RlKV0sIGUucHJvdG90eXBlLCBcIlNwVXBcIiwgdm9pZCAwKSxcbiAgICByKFttKGNjLkxhYmVsKV0sIGUucHJvdG90eXBlLCBcIkxhYkx2XCIsIHZvaWQgMCksXG4gICAgcihbbShjYy5MYWJlbCldLCBlLnByb3RvdHlwZSwgXCJMYWJCYXJcIiwgdm9pZCAwKSxcbiAgICByKFttKGNjLk5vZGUpXSwgZS5wcm90b3R5cGUsIFwiU3BCYXJCZ1wiLCB2b2lkIDApLFxuICAgIHIoW20oY2MuTm9kZSldLCBlLnByb3RvdHlwZSwgXCJTcFNraWxsQm9va1wiLCB2b2lkIDApLFxuICAgIHIoW20oY2MuTm9kZSldLCBlLnByb3RvdHlwZSwgXCJMYWJTa2lsbGxOYW1lXCIsIHZvaWQgMCksXG4gICAgcihbbShjYy5Ob2RlKV0sIGUucHJvdG90eXBlLCBcIlNwRmV0dGVyMVwiLCB2b2lkIDApLFxuICAgIHIoW20oY2MuTm9kZSldLCBlLnByb3RvdHlwZSwgXCJTcEZldHRlcjJcIiwgdm9pZCAwKSxcbiAgICByKFttKGNjLk5vZGUpXSwgZS5wcm90b3R5cGUsIFwiTGFiRmV0dGVyMVwiLCB2b2lkIDApLFxuICAgIHIoW20oY2MuTm9kZSldLCBlLnByb3RvdHlwZSwgXCJMYWJGZXR0ZXIyXCIsIHZvaWQgMCksXG4gICAgcihbZl0sIGUpXG59IChjYy5Db21wb25lbnQpO1xuby5kZWZhdWx0ID0geSJdfQ==