
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/KSManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd401aN+AipKmZRsb6z0GhKk', 'KSManager');
// scripts/KSManager.js

"use strict";

var t = require;
var e = module;
var o = exports;
Object.defineProperty(o, "__esModule", {
  value: !0
}), o.KSManager = void 0;

var a = function () {
  function t() {
    this.hasAd = !0, this.hasBanner = !0, this.hasInsertAd = !0, this.hasVideoAd = !0;
  }

  return t.prototype.closeNativeAd = function () {}, t.prototype.hasVerify = function () {
    return !1;
  }, t.prototype.toAppStore = function () {}, t.prototype.addNotify = function () {}, t.prototype.needDouyVefiy = function () {}, t.prototype.interVefiy = function () {}, t.prototype.showNative = function () {}, t.prototype.hideNative = function () {}, t.prototype.showInterNative = function () {}, t.prototype.hideInterNative = function () {}, t.prototype.canShowBtnMore = function () {
    return !1;
  }, t.prototype.canShowEnergyForverVersion = function () {
    return !0;
  }, t.prototype.shareVideo = function () {}, t.prototype.showFloatIconAd = function () {}, t.prototype.hideFloatIconAd = function () {}, t.prototype.canCare = function () {
    return !1;
  }, t.prototype.canShare = function () {
    return !0;
  }, t.prototype.initTrack = function () {}, t.prototype.getUserInfo = function (t) {
    ks.login({
      success: function success(e) {
        console.log("登录成功:" + JSON.stringify(e)), ks.authorize({
          scope: "scope.userInfo",
          success: function success() {
            ks.getUserInfo({
              success: function success(e) {
                e ? t(e.userName, e.userHead) : t(null, null), console.log("head" + JSON.stringify(e.userHead));
              },
              fail: function fail(e) {
                t(null, null), console.log("获取用户信息失败: " + JSON.stringify(e));
              },
              complete: function complete() {}
            });
          },
          fail: function fail(e) {
            t(null, null), console.log("授权获取用户信息失败: " + JSON.stringify(e));
          },
          complete: function complete() {}
        });
      },
      fail: function fail(e) {
        console.log("登录失败:" + JSON.stringify(e)), t(null, null);
      }
    });
  }, t.prototype.shareImg = function (t) {
    console.log("分享"), ks.shareAppMessage({
      success: function success(e) {
        console.log("分享成功", e), t && t();
      },
      fail: function fail() {},
      complete: function complete() {}
    });
  }, t.prototype.follow = function () {}, t.prototype.showGamePortalAd = function () {}, t.prototype.addShortcut = function (t, e) {
    ks.saveAPKShortcut(function (t) {
      -10005 === t.code ? e("暂不支持该功能") : 1 === t.code ? e("桌面图标添加成功") : e("暂不支持该功能");
    });
  }, t.prototype.checkShortcut = function (t, e) {
    e && e(!0);
  }, t.prototype.gameVersion = function () {
    return "1.0.3";
  }, t.prototype.insertAdSwitchVersion = function () {
    return 7;
  }, t.prototype.caidanSwitchVersion = function () {
    return 2;
  }, t.prototype.initNativeAd = function () {}, t.prototype.showNativeAd = function () {}, t.prototype.youmengTrack = function (t, e, o) {
    ks.uma && (e && o ? "userA" == e ? ks.uma.trackEvent(t, {
      userA: o
    }) : "userB" == e ? ks.uma.trackEvent(t, {
      userB: o
    }) : "userC" == e ? ks.uma.trackEvent(t, {
      userC: o
    }) : "userD" == e && ks.uma.trackEvent(t, {
      userD: o
    }) : ks.uma.trackEvent(t));
  }, t.prototype.goToSuperXiuXian = function () {}, t.prototype.showBlockAd = function () {}, t.prototype.hideBlockAd = function () {}, t.prototype.initSdk = function () {
    this.rewardedVideoAd = ks.createRewardedVideoAd({
      adUnitId: "2300001143_01"
    });
  }, t.prototype.login = function () {}, t.prototype.pay = function () {}, t.prototype.share = function (t, e) {
    var o = cc.sys.localStorage.getItem("sfkqlhgvideoId");
    null != o && "" !== o && null != o ? this.recorder.publishVideo({
      video: o,
      callback: function callback(t) {
        null != t && null != t || e && (cc.sys.localStorage.setItem("sfkqlhgvideoId", ""), e());
      }
    }) : e("还没有分享的内容");
  }, t.prototype.showBanner = function () {}, t.prototype.hideBanner = function () {}, t.prototype.showInsertAd = function (t, e) {
    e && e();
  }, t.prototype.showVideoAd = function (t, e, o) {
    var a = this,
        i = function i(t) {
      console.log(t), o && o();
    },
        r = function r(t) {
      t && t.isEnded || void 0 === t ? e && e() : o && o(), a.rewardedVideoAd.offError(i), a.rewardedVideoAd.offClose(r);
    };

    this.rewardedVideoAd.onError(i), this.rewardedVideoAd.onClose(r), this.rewardedVideoAd.show().then(function () {
      return console.log("激励视频 广告显示");
    });
  }, t.prototype.otherFun = function () {}, t.prototype.homeToBackgroud = function () {}, t.prototype.backgroudToHome = function () {}, t.prototype.openNotify = function () {}, t.prototype.registerNotify = function () {}, t.prototype.deleteNotify = function () {}, t.prototype.shark = function () {}, t.prototype.openShare = function () {}, t.prototype.recordVideo = function () {
    this.recorder = ks.getGameRecorder(), this.recorder.on("start", function () {}), this.recorder.on("error", function () {}), this.recorder.start();
  }, t.prototype.stopRecorderManager = function (t, e) {
    this.recorder.on("stop", function (t) {
      t && t.videoID && (cc.sys.localStorage.setItem("sfkqlhgvideoId", t.videoID), e && e(t.videoID));
    }), this.recorder.stop();
  }, t.prototype.setLanguage = function () {
    return "CN";
  }, t.prototype.exit = function () {}, t;
}();

o.KSManager = a;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcS1NNYW5hZ2VyLmpzIl0sIm5hbWVzIjpbInQiLCJyZXF1aXJlIiwiZSIsIm1vZHVsZSIsIm8iLCJleHBvcnRzIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIktTTWFuYWdlciIsImEiLCJoYXNBZCIsImhhc0Jhbm5lciIsImhhc0luc2VydEFkIiwiaGFzVmlkZW9BZCIsInByb3RvdHlwZSIsImNsb3NlTmF0aXZlQWQiLCJoYXNWZXJpZnkiLCJ0b0FwcFN0b3JlIiwiYWRkTm90aWZ5IiwibmVlZERvdXlWZWZpeSIsImludGVyVmVmaXkiLCJzaG93TmF0aXZlIiwiaGlkZU5hdGl2ZSIsInNob3dJbnRlck5hdGl2ZSIsImhpZGVJbnRlck5hdGl2ZSIsImNhblNob3dCdG5Nb3JlIiwiY2FuU2hvd0VuZXJneUZvcnZlclZlcnNpb24iLCJzaGFyZVZpZGVvIiwic2hvd0Zsb2F0SWNvbkFkIiwiaGlkZUZsb2F0SWNvbkFkIiwiY2FuQ2FyZSIsImNhblNoYXJlIiwiaW5pdFRyYWNrIiwiZ2V0VXNlckluZm8iLCJrcyIsImxvZ2luIiwic3VjY2VzcyIsImNvbnNvbGUiLCJsb2ciLCJKU09OIiwic3RyaW5naWZ5IiwiYXV0aG9yaXplIiwic2NvcGUiLCJ1c2VyTmFtZSIsInVzZXJIZWFkIiwiZmFpbCIsImNvbXBsZXRlIiwic2hhcmVJbWciLCJzaGFyZUFwcE1lc3NhZ2UiLCJmb2xsb3ciLCJzaG93R2FtZVBvcnRhbEFkIiwiYWRkU2hvcnRjdXQiLCJzYXZlQVBLU2hvcnRjdXQiLCJjb2RlIiwiY2hlY2tTaG9ydGN1dCIsImdhbWVWZXJzaW9uIiwiaW5zZXJ0QWRTd2l0Y2hWZXJzaW9uIiwiY2FpZGFuU3dpdGNoVmVyc2lvbiIsImluaXROYXRpdmVBZCIsInNob3dOYXRpdmVBZCIsInlvdW1lbmdUcmFjayIsInVtYSIsInRyYWNrRXZlbnQiLCJ1c2VyQSIsInVzZXJCIiwidXNlckMiLCJ1c2VyRCIsImdvVG9TdXBlclhpdVhpYW4iLCJzaG93QmxvY2tBZCIsImhpZGVCbG9ja0FkIiwiaW5pdFNkayIsInJld2FyZGVkVmlkZW9BZCIsImNyZWF0ZVJld2FyZGVkVmlkZW9BZCIsImFkVW5pdElkIiwicGF5Iiwic2hhcmUiLCJjYyIsInN5cyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJyZWNvcmRlciIsInB1Ymxpc2hWaWRlbyIsInZpZGVvIiwiY2FsbGJhY2siLCJzZXRJdGVtIiwic2hvd0Jhbm5lciIsImhpZGVCYW5uZXIiLCJzaG93SW5zZXJ0QWQiLCJzaG93VmlkZW9BZCIsImkiLCJyIiwiaXNFbmRlZCIsIm9mZkVycm9yIiwib2ZmQ2xvc2UiLCJvbkVycm9yIiwib25DbG9zZSIsInNob3ciLCJ0aGVuIiwib3RoZXJGdW4iLCJob21lVG9CYWNrZ3JvdWQiLCJiYWNrZ3JvdWRUb0hvbWUiLCJvcGVuTm90aWZ5IiwicmVnaXN0ZXJOb3RpZnkiLCJkZWxldGVOb3RpZnkiLCJzaGFyayIsIm9wZW5TaGFyZSIsInJlY29yZFZpZGVvIiwiZ2V0R2FtZVJlY29yZGVyIiwib24iLCJzdGFydCIsInN0b3BSZWNvcmRlck1hbmFnZXIiLCJ2aWRlb0lEIiwic3RvcCIsInNldExhbmd1YWdlIiwiZXhpdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxDQUFDLEdBQUdDLE9BQVI7QUFDQSxJQUFJQyxDQUFDLEdBQUdDLE1BQVI7QUFDQSxJQUFJQyxDQUFDLEdBQUdDLE9BQVI7QUFDQUMsTUFBTSxDQUFDQyxjQUFQLENBQXNCSCxDQUF0QixFQUF5QixZQUF6QixFQUF1QztFQUNuQ0ksS0FBSyxFQUFFLENBQUM7QUFEMkIsQ0FBdkMsR0FHQUosQ0FBQyxDQUFDSyxTQUFGLEdBQWMsS0FBSyxDQUhuQjs7QUFJQSxJQUFJQyxDQUFDLEdBQUcsWUFBVztFQUNmLFNBQVNWLENBQVQsR0FBYTtJQUNULEtBQUtXLEtBQUwsR0FBYSxDQUFDLENBQWQsRUFDQSxLQUFLQyxTQUFMLEdBQWlCLENBQUMsQ0FEbEIsRUFF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WUFBVztJQUNqQyxPQUFPLElBQVA7RUFDSCxDQXhLTSxFQXlLUGxILENBQUMsQ0FBQ2UsU0FBRixDQUFZb0csSUFBWixHQUFtQixZQUFXLENBQUUsQ0F6S3pCLEVBMEtQbkgsQ0ExS0E7QUEyS0gsQ0FsTE8sRUFBUjs7QUFtTEFJLENBQUMsQ0FBQ0ssU0FBRixHQUFjQyxDQUFkIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdCA9IHJlcXVpcmU7XG52YXIgZSA9IG1vZHVsZTtcbnZhciBvID0gZXhwb3J0cztcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiAhMFxufSksXG5vLktTTWFuYWdlciA9IHZvaWQgMDtcbnZhciBhID0gZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gdCgpIHtcbiAgICAgICAgdGhpcy5oYXNBZCA9ICEwLFxuICAgICAgICB0aGlzLmhhc0Jhbm5lciA9ICEwLFxuICAgICAgICB0aGlzLmhhc0luc2VydEFkID0gITAsXG4gICAgICAgIHRoaXMuaGFzVmlkZW9BZCA9ICEwXG4gICAgfVxuICAgIHJldHVybiB0LnByb3RvdHlwZS5jbG9zZU5hdGl2ZUFkID0gZnVuY3Rpb24oKSB7fSxcbiAgICB0LnByb3RvdHlwZS5oYXNWZXJpZnkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICEgMVxuICAgIH0sXG4gICAgdC5wcm90b3R5cGUudG9BcHBTdG9yZSA9IGZ1bmN0aW9uKCkge30sXG4gICAgdC5wcm90b3R5cGUuYWRkTm90aWZ5ID0gZnVuY3Rpb24oKSB7fSxcbiAgICB0LnByb3RvdHlwZS5uZWVkRG91eVZlZml5ID0gZnVuY3Rpb24oKSB7fSxcbiAgICB0LnByb3RvdHlwZS5pbnRlclZlZml5ID0gZnVuY3Rpb24oKSB7fSxcbiAgICB0LnByb3RvdHlwZS5zaG93TmF0aXZlID0gZnVuY3Rpb24oKSB7fSxcbiAgICB0LnByb3RvdHlwZS5oaWRlTmF0aXZlID0gZnVuY3Rpb24oKSB7fSxcbiAgICB0LnByb3RvdHlwZS5zaG93SW50ZXJOYXRpdmUgPSBmdW5jdGlvbigpIHt9LFxuICAgIHQucHJvdG90eXBlLmhpZGVJbnRlck5hdGl2ZSA9IGZ1bmN0aW9uKCkge30sXG4gICAgdC5wcm90b3R5cGUuY2FuU2hvd0J0bk1vcmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICEgMVxuICAgIH0sXG4gICAgdC5wcm90b3R5cGUuY2FuU2hvd0VuZXJneUZvcnZlclZlcnNpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICEgMFxuICAgIH0sXG4gICAgdC5wcm90b3R5cGUuc2hhcmVWaWRlbyA9IGZ1bmN0aW9uKCkge30sXG4gICAgdC5wcm90b3R5cGUuc2hvd0Zsb2F0SWNvbkFkID0gZnVuY3Rpb24oKSB7fSxcbiAgICB0LnByb3RvdHlwZS5oaWRlRmxvYXRJY29uQWQgPSBmdW5jdGlvbigpIHt9LFxuICAgIHQucHJvdG90eXBlLmNhbkNhcmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICEgMVxuICAgIH0sXG4gICAgdC5wcm90b3R5cGUuY2FuU2hhcmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICEgMFxuICAgIH0sXG4gICAgdC5wcm90b3R5cGUuaW5pdFRyYWNrID0gZnVuY3Rpb24oKSB7fSxcbiAgICB0LnByb3RvdHlwZS5nZXRVc2VySW5mbyA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAga3MubG9naW4oe1xuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi55m75b2V5oiQ5YqfOlwiICsgSlNPTi5zdHJpbmdpZnkoZSkpLFxuICAgICAgICAgICAgICAgIGtzLmF1dGhvcml6ZSh7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlOiBcInNjb3BlLnVzZXJJbmZvXCIsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAga3MuZ2V0VXNlckluZm8oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZSA/IHQoZS51c2VyTmFtZSwgZS51c2VySGVhZCkgOiB0KG51bGwsIG51bGwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImhlYWRcIiArIEpTT04uc3RyaW5naWZ5KGUudXNlckhlYWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFpbDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0KG51bGwsIG51bGwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuiOt+WPlueUqOaIt+S/oeaBr+Wksei0pTogXCIgKyBKU09OLnN0cmluZ2lmeShlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpIHt9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmYWlsOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0KG51bGwsIG51bGwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLmjojmnYPojrflj5bnlKjmiLfkv6Hmga/lpLHotKU6IFwiICsgSlNPTi5zdHJpbmdpZnkoZSkpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpIHt9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmYWlsOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLnmbvlvZXlpLHotKU6XCIgKyBKU09OLnN0cmluZ2lmeShlKSksXG4gICAgICAgICAgICAgICAgdChudWxsLCBudWxsKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH0sXG4gICAgdC5wcm90b3R5cGUuc2hhcmVJbWcgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi5YiG5LqrXCIpLFxuICAgICAgICBrcy5zaGFyZUFwcE1lc3NhZ2Uoe1xuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5YiG5Lqr5oiQ5YqfXCIsIGUpLFxuICAgICAgICAgICAgICAgIHQgJiYgdCgpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmFpbDogZnVuY3Rpb24oKSB7fSxcbiAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpIHt9XG4gICAgICAgIH0pXG4gICAgfSxcbiAgICB0LnByb3RvdHlwZS5mb2xsb3cgPSBmdW5jdGlvbigpIHt9LFxuICAgIHQucHJvdG90eXBlLnNob3dHYW1lUG9ydGFsQWQgPSBmdW5jdGlvbigpIHt9LFxuICAgIHQucHJvdG90eXBlLmFkZFNob3J0Y3V0ID0gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICBrcy5zYXZlQVBLU2hvcnRjdXQoZnVuY3Rpb24odCkgeyAtIDEwMDA1ID09PSB0LmNvZGUgPyBlKFwi5pqC5LiN5pSv5oyB6K+l5Yqf6IO9XCIpIDogMSA9PT0gdC5jb2RlID8gZShcIuahjOmdouWbvuagh+a3u+WKoOaIkOWKn1wiKSA6IGUoXCLmmoLkuI3mlK/mjIHor6Xlip/og71cIilcbiAgICAgICAgfSlcbiAgICB9LFxuICAgIHQucHJvdG90eXBlLmNoZWNrU2hvcnRjdXQgPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIGUgJiYgZSghMClcbiAgICB9LFxuICAgIHQucHJvdG90eXBlLmdhbWVWZXJzaW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBcIjEuMC4zXCJcbiAgICB9LFxuICAgIHQucHJvdG90eXBlLmluc2VydEFkU3dpdGNoVmVyc2lvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gN1xuICAgIH0sXG4gICAgdC5wcm90b3R5cGUuY2FpZGFuU3dpdGNoVmVyc2lvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gMlxuICAgIH0sXG4gICAgdC5wcm90b3R5cGUuaW5pdE5hdGl2ZUFkID0gZnVuY3Rpb24oKSB7fSxcbiAgICB0LnByb3RvdHlwZS5zaG93TmF0aXZlQWQgPSBmdW5jdGlvbigpIHt9LFxuICAgIHQucHJvdG90eXBlLnlvdW1lbmdUcmFjayA9IGZ1bmN0aW9uKHQsIGUsIG8pIHtcbiAgICAgICAga3MudW1hICYmIChlICYmIG8gPyBcInVzZXJBXCIgPT0gZSA/IGtzLnVtYS50cmFja0V2ZW50KHQsIHtcbiAgICAgICAgICAgIHVzZXJBOiBvXG4gICAgICAgIH0pIDogXCJ1c2VyQlwiID09IGUgPyBrcy51bWEudHJhY2tFdmVudCh0LCB7XG4gICAgICAgICAgICB1c2VyQjogb1xuICAgICAgICB9KSA6IFwidXNlckNcIiA9PSBlID8ga3MudW1hLnRyYWNrRXZlbnQodCwge1xuICAgICAgICAgICAgdXNlckM6IG9cbiAgICAgICAgfSkgOiBcInVzZXJEXCIgPT0gZSAmJiBrcy51bWEudHJhY2tFdmVudCh0LCB7XG4gICAgICAgICAgICB1c2VyRDogb1xuICAgICAgICB9KSA6IGtzLnVtYS50cmFja0V2ZW50KHQpKVxuICAgIH0sXG4gICAgdC5wcm90b3R5cGUuZ29Ub1N1cGVyWGl1WGlhbiA9IGZ1bmN0aW9uKCkge30sXG4gICAgdC5wcm90b3R5cGUuc2hvd0Jsb2NrQWQgPSBmdW5jdGlvbigpIHt9LFxuICAgIHQucHJvdG90eXBlLmhpZGVCbG9ja0FkID0gZnVuY3Rpb24oKSB7fSxcbiAgICB0LnByb3RvdHlwZS5pbml0U2RrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucmV3YXJkZWRWaWRlb0FkID0ga3MuY3JlYXRlUmV3YXJkZWRWaWRlb0FkKHtcbiAgICAgICAgICAgIGFkVW5pdElkOiBcIjIzMDAwMDExNDNfMDFcIlxuICAgICAgICB9KVxuICAgIH0sXG4gICAgdC5wcm90b3R5cGUubG9naW4gPSBmdW5jdGlvbigpIHt9LFxuICAgIHQucHJvdG90eXBlLnBheSA9IGZ1bmN0aW9uKCkge30sXG4gICAgdC5wcm90b3R5cGUuc2hhcmUgPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIHZhciBvID0gY2Muc3lzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2ZrcWxoZ3ZpZGVvSWRcIik7XG4gICAgICAgIG51bGwgIT0gbyAmJiBcIlwiICE9PSBvICYmIG51bGwgIT0gbyA/IHRoaXMucmVjb3JkZXIucHVibGlzaFZpZGVvKHtcbiAgICAgICAgICAgIHZpZGVvOiBvLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICBudWxsICE9IHQgJiYgbnVsbCAhPSB0IHx8IGUgJiYgKGNjLnN5cy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInNma3FsaGd2aWRlb0lkXCIsIFwiXCIpLCBlKCkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pIDogZShcIui/mOayoeacieWIhuS6q+eahOWGheWuuVwiKVxuICAgIH0sXG4gICAgdC5wcm90b3R5cGUuc2hvd0Jhbm5lciA9IGZ1bmN0aW9uKCkge30sXG4gICAgdC5wcm90b3R5cGUuaGlkZUJhbm5lciA9IGZ1bmN0aW9uKCkge30sXG4gICAgdC5wcm90b3R5cGUuc2hvd0luc2VydEFkID0gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICBlICYmIGUoKVxuICAgIH0sXG4gICAgdC5wcm90b3R5cGUuc2hvd1ZpZGVvQWQgPSBmdW5jdGlvbih0LCBlLCBvKSB7XG4gICAgICAgIHZhciBhID0gdGhpcyxcbiAgICAgICAgaSA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHQpLFxuICAgICAgICAgICAgbyAmJiBvKClcbiAgICAgICAgfSxcbiAgICAgICAgciA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgIHQgJiYgdC5pc0VuZGVkIHx8IHZvaWQgMCA9PT0gdCA/IGUgJiYgZSgpIDogbyAmJiBvKCksXG4gICAgICAgICAgICBhLnJld2FyZGVkVmlkZW9BZC5vZmZFcnJvcihpKSxcbiAgICAgICAgICAgIGEucmV3YXJkZWRWaWRlb0FkLm9mZkNsb3NlKHIpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmV3YXJkZWRWaWRlb0FkLm9uRXJyb3IoaSksXG4gICAgICAgIHRoaXMucmV3YXJkZWRWaWRlb0FkLm9uQ2xvc2UociksXG4gICAgICAgIHRoaXMucmV3YXJkZWRWaWRlb0FkLnNob3coKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKFwi5r+A5Yqx6KeG6aKRIOW5v+WRiuaYvuekulwiKVxuICAgICAgICB9KVxuICAgIH0sXG4gICAgdC5wcm90b3R5cGUub3RoZXJGdW4gPSBmdW5jdGlvbigpIHt9LFxuICAgIHQucHJvdG90eXBlLmhvbWVUb0JhY2tncm91ZCA9IGZ1bmN0aW9uKCkge30sXG4gICAgdC5wcm90b3R5cGUuYmFja2dyb3VkVG9Ib21lID0gZnVuY3Rpb24oKSB7fSxcbiAgICB0LnByb3RvdHlwZS5vcGVuTm90aWZ5ID0gZnVuY3Rpb24oKSB7fSxcbiAgICB0LnByb3RvdHlwZS5yZWdpc3Rlck5vdGlmeSA9IGZ1bmN0aW9uKCkge30sXG4gICAgdC5wcm90b3R5cGUuZGVsZXRlTm90aWZ5ID0gZnVuY3Rpb24oKSB7fSxcbiAgICB0LnByb3RvdHlwZS5zaGFyayA9IGZ1bmN0aW9uKCkge30sXG4gICAgdC5wcm90b3R5cGUub3BlblNoYXJlID0gZnVuY3Rpb24oKSB7fSxcbiAgICB0LnByb3RvdHlwZS5yZWNvcmRWaWRlbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnJlY29yZGVyID0ga3MuZ2V0R2FtZVJlY29yZGVyKCksXG4gICAgICAgIHRoaXMucmVjb3JkZXIub24oXCJzdGFydFwiLFxuICAgICAgICBmdW5jdGlvbigpIHt9KSxcbiAgICAgICAgdGhpcy5yZWNvcmRlci5vbihcImVycm9yXCIsXG4gICAgICAgIGZ1bmN0aW9uKCkge30pLFxuICAgICAgICB0aGlzLnJlY29yZGVyLnN0YXJ0KClcbiAgICB9LFxuICAgIHQucHJvdG90eXBlLnN0b3BSZWNvcmRlck1hbmFnZXIgPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIHRoaXMucmVjb3JkZXIub24oXCJzdG9wXCIsXG4gICAgICAgIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgIHQgJiYgdC52aWRlb0lEICYmIChjYy5zeXMubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJzZmtxbGhndmlkZW9JZFwiLCB0LnZpZGVvSUQpLCBlICYmIGUodC52aWRlb0lEKSlcbiAgICAgICAgfSksXG4gICAgICAgIHRoaXMucmVjb3JkZXIuc3RvcCgpXG4gICAgfSxcbiAgICB0LnByb3RvdHlwZS5zZXRMYW5ndWFnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gXCJDTlwiXG4gICAgfSxcbiAgICB0LnByb3RvdHlwZS5leGl0ID0gZnVuY3Rpb24oKSB7fSxcbiAgICB0XG59ICgpO1xuby5LU01hbmFnZXIgPSBhIl19