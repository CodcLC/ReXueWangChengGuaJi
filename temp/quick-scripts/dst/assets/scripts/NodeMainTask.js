
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/NodeMainTask.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '607ccTssERB0qPl9TOa6ZiP', 'NodeMainTask');
// scripts/NodeMainTask.js

"use strict";

var t = require;
var e = module;
var o = exports;

var _a,
    i = void 0 && (void 0).__extends || (_a = function a(t, e) {
  return (_a = Object.setPrototypeOf || {
    __proto__: []
  } instanceof Array && function (t, e) {
    t.__proto__ = e;
  } || function (t, e) {
    for (var o in e) {
      Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
    }
  })(t, e);
}, function (t, e) {
  function o() {
    this.constructor = t;
  }

  _a(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o());
}),
    r = void 0 && (void 0).__decorate || function (t, e, o, a) {
  var i,
      r = arguments.length,
      n = r < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, o) : a;
  if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) n = Reflect.decorate(t, e, o, a);else for (var s = t.length - 1; s >= 0; s--) {
    (i = t[s]) && (n = (r < 3 ? i(n) : r > 3 ? i(e, o, n) : i(e, o)) || n);
  }
  return r > 3 && n && Object.defineProperty(e, o, n), n;
};

Object.defineProperty(o, "__esModule", {
  value: !0
}), o.NodeMainTask = void 0;

var n = t("EventMgr"),
    s = t("Config"),
    c = t("DataMgr"),
    l = t("PlayerMgr"),
    u = cc._decorator,
    p = u.ccclass,
    g = u.property,
    d = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    return e.spFinished1 = null, e.spFinished = null, e.labDec = null, e;
  }

  return i(e, t), e.prototype.start = function () {
    this.registerEvent(), this.initView();
  }, e.prototype.registerEvent = function () {
    n.EventMgr.getInstance().on(s.EventName.RefreshMainTask, this, this.refreshTask), n.EventMgr.getInstance().on(s.EventName.RefreshMainTaskDec, this, this.refreshTaskDec), n.EventMgr.getInstance().on(s.EventName.RefreshMainTaskFinished, this, this.refreshTaskFinished);
  }, e.prototype.initView = function () {
    this.initTask(), this.playAnim();
  }, e.prototype.playAnim = function () {}, e.prototype.initTask = function () {
    var t = l.PlayerMgr.getInstance().getMainTaskData(),
        e = c.DataMgr.getInstance().getMission(t.getCurrentId());
    e ? (this.labDec.string = "<outline color=#000000 width = 3><color=#ffffff>" + e.Desc1 + e.TaskParameter + e.Desc2 + "</c><color=#42FF61>  " + t.getCurrentParameter() + "/" + e.TaskParameter + "</color></outline>", this.spFinished.active = t.getCurrentState(), t.getCurrentState() || t.carrayTaskForType(t.getCurrentId(), e.Type)) : this.node.destroy();
  }, e.prototype.refreshTask = function (t) {
    void 0 === t && (t = !1), this.refreshTaskFinished(t), this.refreshTaskDec();
  }, e.prototype.refreshTaskFinished = function (t) {
    this.spFinished.active = t;
  }, e.prototype.refreshTaskDec = function () {
    var t = l.PlayerMgr.getInstance().getMainTaskData(),
        e = c.DataMgr.getInstance().getMission(t.getCurrentId());
    e ? this.labDec.string = "<outline color=#000000 width = 3><color=#ffffff>" + e.Desc1 + e.TaskParameter + e.Desc2 + "</c><color=#42FF61>  " + t.getCurrentParameter() + "/" + e.TaskParameter + "</color></outline>" : this.node.destroy();
  }, e.prototype.update = function () {}, e.prototype.onDestroy = function () {
    n.EventMgr.getInstance().off(s.EventName.RefreshMainTask, this, this.refreshTask), n.EventMgr.getInstance().off(s.EventName.RefreshMainTaskDec, this, this.refreshTaskDec), n.EventMgr.getInstance().off(s.EventName.RefreshMainTaskFinished, this, this.refreshTaskFinished);
  }, r([g({
    type: cc.Node,
    displayName: ""
  })], e.prototype, "spFinished1", void 0), r([g({
    type: cc.Node,
    displayName: ""
  })], e.prototype, "spFinished", void 0), r([g({
    type: cc.RichText,
    displayName: ""
  })], e.prototype, "labDec", void 0), r([p("NodeMainTask")], e);
}(cc.Component);

o.NodeMainTask = d;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcTm9kZU1haW5UYXNrLmpzIl0sIm5hbWVzIjpbInQiLCJyZXF1aXJlIiwiZSIsIm1vZHVsZSIsIm8iLCJleHBvcnRzIiwiYSIsImkiLCJfX2V4dGVuZHMiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJyIiwiX19kZWNvcmF0ZSIsImFyZ3VtZW50cyIsImxlbmd0aCIsIm4iLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJzIiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIk5vZGVNYWluVGFzayIsImMiLCJsIiwidSIsImNjIiwiX2RlY29yYXRvciIsInAiLCJjY2NsYXNzIiwiZyIsInByb3BlcnR5IiwiZCIsImFwcGx5Iiwic3BGaW5pc2hlZDEiLCJzcEZpbmlzaGVkIiwibGFiRGVjIiwic3RhcnQiLCJyZWdpc3RlckV2ZW50IiwiaW5pdFZpZXciLCJFdmVudE1nciIsImdldEluc3RhbmNlIiwib24iLCJFdmVudE5hbWUiLCJSZWZyZXNoTWFpblRhc2siLCJyZWZyZXNoVGFzayIsIlJlZnJlc2hNYWluVGFza0RlYyIsInJlZnJlc2hUYXNrRGVjIiwiUmVmcmVzaE1haW5UYXNrRmluaXNoZWQiLCJyZWZyZXNoVGFza0ZpbmlzaGVkIiwiaW5pdFRhc2siLCJwbGF5QW5pbSIsIlBsYXllck1nciIsImdldE1haW5UYXNrRGF0YSIsIkRhdGFNZ3IiLCJnZXRNaXNzaW9uIiwiZ2V0Q3VycmVudElkIiwic3RyaW5nIiwiRGVzYzEiLCJUYXNrUGFyYW1ldGVyIiwiRGVzYzIiLCJnZXRDdXJyZW50UGFyYW1ldGVyIiwiYWN0aXZlIiwiZ2V0Q3VycmVudFN0YXRlIiwiY2FycmF5VGFza0ZvclR5cGUiLCJUeXBlIiwibm9kZSIsImRlc3Ryb3kiLCJ1cGRhdGUiLCJvbkRlc3Ryb3kiLCJvZmYiLCJ0eXBlIiwiTm9kZSIsImRpc3BsYXlOYW1lIiwiUmljaFRleHQiLCJDb21wb25lbnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsQ0FBQyxHQUFHQyxPQUFSO0FBQ0EsSUFBSUMsQ0FBQyxHQUFHQyxNQUFSO0FBQ0EsSUFBSUMsQ0FBQyxHQUFHQyxPQUFSOztBQUNBLElBQUlDLEVBQUo7QUFBQSxJQUFPQyxDQUFDLEdBQUcsVUFBUSxTQUFLQyxTQUFiLEtBQTJCRixFQUFDLEdBQUcsV0FBU04sQ0FBVCxFQUFZRSxDQUFaLEVBQWU7RUFDckQsT0FBTyxDQUFDSSxFQUFDLEdBQUdHLE1BQU0sQ0FBQ0MsY0FBUCxJQUF5QjtJQUNqQ0MsU0FBUyxFQUFFO0VBRHNCLGFBRzFCQyxLQUgwQixJQUlyQyxVQUFTWixDQUFULEVBQVlFLENBQVosRUFBZTtJQUNYRixDQUFDLENBQUNXLFNBQUYsR0FBY1QsQ0FBZDtFQUNILENBTlcsSUFPWixVQUFTRixDQUFULEVBQVlFLENBQVosRUFBZTtJQUNYLEtBQUssSUFBSUUsQ0FBVCxJQUFjRixDQUFkO01BQWlCTyxNQUFNLENBQUNJLFNBQVAsQ0FBaUJDLGNBQWpCLENBQWdDQyxJQUFoQyxDQUFxQ2IsQ0FBckMsRUFBd0NFLENBQXhDLE1BQStDSixDQUFDLENBQUNJLENBQUQsQ0FBRCxHQUFPRixDQUFDLENBQUNFLENBQUQsQ0FBdkQ7SUFBakI7RUFDSCxDQVRNLEVBU0pKLENBVEksRUFTREUsQ0FUQyxDQUFQO0FBVUgsQ0FYcUMsRUFZdEMsVUFBU0YsQ0FBVCxFQUFZRSxDQUFaLEVBQWU7RUFDWCxTQUFTRSxDQUFULEdBQWE7SUFDVCxLQUFLWSxXQUFMLEdBQW1CaEIsQ0FBbkI7RUFDSDs7RUFDRE0sRUFBQyxDQUFDTixDQUFELEVBQUlFLENBQUosQ0FBRCxFQUNBRixDQUFDLENBQUNhLFNBQUYsR0FBYyxTQUFTWCxDQUFULEdBQWFPLE1BQU0sQ0FBQ1EsTUFBUCxDQUFjZixDQUFkLENBQWIsSUFB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ckMsQ0F2Q00sRUEyQ1BLLENBQUMsQ0FBQyxDQUFDbUIsQ0FBQyxDQUFDO0lBQ0R5QyxJQUFJLEVBQUU3QyxFQUFFLENBQUM4QyxJQURSO0lBRURDLFdBQVcsRUFBRTtFQUZaLENBQUQsQ0FBRixDQUFELEVBR0k5RSxDQUFDLENBQUNXLFNBSE4sRUFHaUIsWUFIakIsRUFHK0IsS0FBSyxDQUhwQyxDQTNDTSxFQStDUEssQ0FBQyxDQUFDLENBQUNtQixDQUFDLENBQUM7SUFDRHlDLElBQUksRUFBRTdDLEVBQUUsQ0FBQ2dELFFBRFI7SUFFREQsV0FBVyxFQUFFO0VBRlosQ0FBRCxDQUFGLENBQUQsRUFHSTlFLENBQUMsQ0FBQ1csU0FITixFQUdpQixRQUhqQixFQUcyQixLQUFLLENBSGhDLENBL0NNLEVBbURQSyxDQUFDLENBQUMsQ0FBQ2lCLENBQUMsQ0FBQyxjQUFELENBQUYsQ0FBRCxFQUFzQmpDLENBQXRCLENBbkREO0FBb0RILENBNURHLENBNEREK0IsRUFBRSxDQUFDaUQsU0E1REYsQ0FQSjs7QUFvRUE5RSxDQUFDLENBQUN5QixZQUFGLEdBQWlCVSxDQUFqQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHQgPSByZXF1aXJlO1xudmFyIGUgPSBtb2R1bGU7XG52YXIgbyA9IGV4cG9ydHM7XG52YXIgYSwgaSA9IHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMgfHwgKGEgPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgcmV0dXJuIChhID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IHtcbiAgICAgICAgX19wcm90b19fOiBbXVxuICAgIH1cbiAgICBpbnN0YW5jZW9mIEFycmF5ICYmXG4gICAgZnVuY3Rpb24odCwgZSkge1xuICAgICAgICB0Ll9fcHJvdG9fXyA9IGVcbiAgICB9IHx8XG4gICAgZnVuY3Rpb24odCwgZSkge1xuICAgICAgICBmb3IgKHZhciBvIGluIGUpIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLCBvKSAmJiAodFtvXSA9IGVbb10pXG4gICAgfSkodCwgZSlcbn0sXG5mdW5jdGlvbih0LCBlKSB7XG4gICAgZnVuY3Rpb24gbygpIHtcbiAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IHRcbiAgICB9XG4gICAgYSh0LCBlKSxcbiAgICB0LnByb3RvdHlwZSA9IG51bGwgPT09IGUgPyBPYmplY3QuY3JlYXRlKGUpIDogKG8ucHJvdG90eXBlID0gZS5wcm90b3R5cGUsIG5ldyBvKVxufSksXG5yID0gdGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUgfHxcbmZ1bmN0aW9uKHQsIGUsIG8sIGEpIHtcbiAgICB2YXIgaSwgciA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgbiA9IHIgPCAzID8gZTogbnVsbCA9PT0gYSA/IGEgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIG8pIDogYTtcbiAgICBpZiAoXCJvYmplY3RcIiA9PSB0eXBlb2YgUmVmbGVjdCAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpIG4gPSBSZWZsZWN0LmRlY29yYXRlKHQsIGUsIG8sIGEpO1xuICAgIGVsc2UgZm9yICh2YXIgcyA9IHQubGVuZ3RoIC0gMTsgcyA+PSAwOyBzLS0pKGkgPSB0W3NdKSAmJiAobiA9IChyIDwgMyA/IGkobikgOiByID4gMyA/IGkoZSwgbywgbikgOiBpKGUsIG8pKSB8fCBuKTtcbiAgICByZXR1cm4gciA+IDMgJiYgbiAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgbywgbiksXG4gICAgblxufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiAhMFxufSksXG5vLk5vZGVNYWluVGFzayA9IHZvaWQgMDtcbnZhciBuID0gdChcIkV2ZW50TWdyXCIpLFxucyA9IHQoXCJDb25maWdcIiksXG5jID0gdChcIkRhdGFNZ3JcIiksXG5sID0gdChcIlBsYXllck1nclwiKSxcbnUgPSBjYy5fZGVjb3JhdG9yLFxucCA9IHUuY2NjbGFzcyxcbmcgPSB1LnByb3BlcnR5LFxuZCA9IGZ1bmN0aW9uKHQpIHtcbiAgICBmdW5jdGlvbiBlKCkge1xuICAgICAgICB2YXIgZSA9IG51bGwgIT09IHQgJiYgdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIHJldHVybiBlLnNwRmluaXNoZWQxID0gbnVsbCxcbiAgICAgICAgZS5zcEZpbmlzaGVkID0gbnVsbCxcbiAgICAgICAgZS5sYWJEZWMgPSBudWxsLFxuICAgICAgICBlXG4gICAgfVxuICAgIHJldHVybiBpKGUsIHQpLFxuICAgIGUucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJFdmVudCgpLFxuICAgICAgICB0aGlzLmluaXRWaWV3KClcbiAgICB9LFxuICAgIGUucHJvdG90eXBlLnJlZ2lzdGVyRXZlbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgbi5FdmVudE1nci5nZXRJbnN0YW5jZSgpLm9uKHMuRXZlbnROYW1lLlJlZnJlc2hNYWluVGFzaywgdGhpcywgdGhpcy5yZWZyZXNoVGFzayksXG4gICAgICAgIG4uRXZlbnRNZ3IuZ2V0SW5zdGFuY2UoKS5vbihzLkV2ZW50TmFtZS5SZWZyZXNoTWFpblRhc2tEZWMsIHRoaXMsIHRoaXMucmVmcmVzaFRhc2tEZWMpLFxuICAgICAgICBuLkV2ZW50TWdyLmdldEluc3RhbmNlKCkub24ocy5FdmVudE5hbWUuUmVmcmVzaE1haW5UYXNrRmluaXNoZWQsIHRoaXMsIHRoaXMucmVmcmVzaFRhc2tGaW5pc2hlZClcbiAgICB9LFxuICAgIGUucHJvdG90eXBlLmluaXRWaWV3ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuaW5pdFRhc2soKSxcbiAgICAgICAgdGhpcy5wbGF5QW5pbSgpXG4gICAgfSxcbiAgICBlLnByb3RvdHlwZS5wbGF5QW5pbSA9IGZ1bmN0aW9uKCkge30sXG4gICAgZS5wcm90b3R5cGUuaW5pdFRhc2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHQgPSBsLlBsYXllck1nci5nZXRJbnN0YW5jZSgpLmdldE1haW5UYXNrRGF0YSgpLFxuICAgICAgICBlID0gYy5EYXRhTWdyLmdldEluc3RhbmNlKCkuZ2V0TWlzc2lvbih0LmdldEN1cnJlbnRJZCgpKTtcbiAgICAgICAgZSA/ICh0aGlzLmxhYkRlYy5zdHJpbmcgPSBcIjxvdXRsaW5lIGNvbG9yPSMwMDAwMDAgd2lkdGggPSAzPjxjb2xvcj0jZmZmZmZmPlwiICsgZS5EZXNjMSArIGUuVGFza1BhcmFtZXRlciArIGUuRGVzYzIgKyBcIjwvYz48Y29sb3I9IzQyRkY2MT4gIFwiICsgdC5nZXRDdXJyZW50UGFyYW1ldGVyKCkgKyBcIi9cIiArIGUuVGFza1BhcmFtZXRlciArIFwiPC9jb2xvcj48L291dGxpbmU+XCIsIHRoaXMuc3BGaW5pc2hlZC5hY3RpdmUgPSB0LmdldEN1cnJlbnRTdGF0ZSgpLCB0LmdldEN1cnJlbnRTdGF0ZSgpIHx8IHQuY2FycmF5VGFza0ZvclR5cGUodC5nZXRDdXJyZW50SWQoKSwgZS5UeXBlKSkgOiB0aGlzLm5vZGUuZGVzdHJveSgpXG4gICAgfSxcbiAgICBlLnByb3RvdHlwZS5yZWZyZXNoVGFzayA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgdm9pZCAwID09PSB0ICYmICh0ID0gITEpLFxuICAgICAgICB0aGlzLnJlZnJlc2hUYXNrRmluaXNoZWQodCksXG4gICAgICAgIHRoaXMucmVmcmVzaFRhc2tEZWMoKVxuICAgIH0sXG4gICAgZS5wcm90b3R5cGUucmVmcmVzaFRhc2tGaW5pc2hlZCA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgdGhpcy5zcEZpbmlzaGVkLmFjdGl2ZSA9IHRcbiAgICB9LFxuICAgIGUucHJvdG90eXBlLnJlZnJlc2hUYXNrRGVjID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0ID0gbC5QbGF5ZXJNZ3IuZ2V0SW5zdGFuY2UoKS5nZXRNYWluVGFza0RhdGEoKSxcbiAgICAgICAgZSA9IGMuRGF0YU1nci5nZXRJbnN0YW5jZSgpLmdldE1pc3Npb24odC5nZXRDdXJyZW50SWQoKSk7XG4gICAgICAgIGUgPyB0aGlzLmxhYkRlYy5zdHJpbmcgPSBcIjxvdXRsaW5lIGNvbG9yPSMwMDAwMDAgd2lkdGggPSAzPjxjb2xvcj0jZmZmZmZmPlwiICsgZS5EZXNjMSArIGUuVGFza1BhcmFtZXRlciArIGUuRGVzYzIgKyBcIjwvYz48Y29sb3I9IzQyRkY2MT4gIFwiICsgdC5nZXRDdXJyZW50UGFyYW1ldGVyKCkgKyBcIi9cIiArIGUuVGFza1BhcmFtZXRlciArIFwiPC9jb2xvcj48L291dGxpbmU+XCI6IHRoaXMubm9kZS5kZXN0cm95KClcbiAgICB9LFxuICAgIGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge30sXG4gICAgZS5wcm90b3R5cGUub25EZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIG4uRXZlbnRNZ3IuZ2V0SW5zdGFuY2UoKS5vZmYocy5FdmVudE5hbWUuUmVmcmVzaE1haW5UYXNrLCB0aGlzLCB0aGlzLnJlZnJlc2hUYXNrKSxcbiAgICAgICAgbi5FdmVudE1nci5nZXRJbnN0YW5jZSgpLm9mZihzLkV2ZW50TmFtZS5SZWZyZXNoTWFpblRhc2tEZWMsIHRoaXMsIHRoaXMucmVmcmVzaFRhc2tEZWMpLFxuICAgICAgICBuLkV2ZW50TWdyLmdldEluc3RhbmNlKCkub2ZmKHMuRXZlbnROYW1lLlJlZnJlc2hNYWluVGFza0ZpbmlzaGVkLCB0aGlzLCB0aGlzLnJlZnJlc2hUYXNrRmluaXNoZWQpXG4gICAgfSxcbiAgICByKFtnKHtcbiAgICAgICAgdHlwZTogY2MuTm9kZSxcbiAgICAgICAgZGlzcGxheU5hbWU6IFwiXCJcbiAgICB9KV0sIGUucHJvdG90eXBlLCBcInNwRmluaXNoZWQxXCIsIHZvaWQgMCksXG4gICAgcihbZyh7XG4gICAgICAgIHR5cGU6IGNjLk5vZGUsXG4gICAgICAgIGRpc3BsYXlOYW1lOiBcIlwiXG4gICAgfSldLCBlLnByb3RvdHlwZSwgXCJzcEZpbmlzaGVkXCIsIHZvaWQgMCksXG4gICAgcihbZyh7XG4gICAgICAgIHR5cGU6IGNjLlJpY2hUZXh0LFxuICAgICAgICBkaXNwbGF5TmFtZTogXCJcIlxuICAgIH0pXSwgZS5wcm90b3R5cGUsIFwibGFiRGVjXCIsIHZvaWQgMCksXG4gICAgcihbcChcIk5vZGVNYWluVGFza1wiKV0sIGUpXG59IChjYy5Db21wb25lbnQpO1xuby5Ob2RlTWFpblRhc2sgPSBkIl19