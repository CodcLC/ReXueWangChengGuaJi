
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/UISkillInfo.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '7e5aabTr7NFSrgUmQutQQeE', 'UISkillInfo');
// scripts/UISkillInfo.js

"use strict";

var t = require;
var e = module;
var o = exports;

var _a,
    i = void 0 && (void 0).__extends || (_a = function a(t, e) {
  return (_a = Object.setPrototypeOf || {
    __proto__: []
  } instanceof Array && function (t, e) {
    t.__proto__ = e;
  } || function (t, e) {
    for (var o in e) {
      Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
    }
  })(t, e);
}, function (t, e) {
  function o() {
    this.constructor = t;
  }

  _a(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o());
}),
    r = void 0 && (void 0).__decorate || function (t, e, o, a) {
  var i,
      r = arguments.length,
      n = r < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, o) : a;
  if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) n = Reflect.decorate(t, e, o, a);else for (var s = t.length - 1; s >= 0; s--) {
    (i = t[s]) && (n = (r < 3 ? i(n) : r > 3 ? i(e, o, n) : i(e, o)) || n);
  }
  return r > 3 && n && Object.defineProperty(e, o, n), n;
};

Object.defineProperty(o, "__esModule", {
  value: !0
});

var n = t("BaseUI"),
    s = t("PoolMgr"),
    c = t("Main"),
    l = t("Config"),
    u = t("DataMgr"),
    p = t("EffectMgr"),
    g = t("PlayerMgr"),
    d = t("UIGuide"),
    h = cc._decorator,
    f = h.ccclass,
    m = h.property,
    y = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    return e.NodePlayer = null, e.Player = null, e.NodeGuide = null, e.BtnClose = null, e.SpSkillIcon = null, e.LabSkillName = null, e.LabSkillDec = null, e.curSkillId = 1, e.curSkillData = null, e;
  }

  return i(e, t), e.prototype.init = function (t) {
    this.curSkillId = t || 1;
  }, e.prototype.onLoad = function () {}, e.prototype.start = function () {
    this.registerBtnEvent(), c["default"].instance.controlObjectsAnim(!0), this.initData(), this.initView(), this.guideShow();
  }, e.prototype.guideShow = function () {
    var t = g.PlayerMgr.getInstance().geUserData();

    if (1 == t.getCurSec() && 1 == t.getEnterFirstSecCount()) {
      var e = g.PlayerMgr.getInstance().getGuideData();

      if (!e.getGuideEnd()) {
        var o = e.getCurrentId();
        if (o == 9 + e.putGuideNum) (a = new d.GuildCfg()).distNode = this.NodeGuide, a.tipstring = "部分技能<color=#fce445>升至2星</color>后，可获得<color=#fce445>额外技能效果</color>噢", a.handIndex = cc.v2(200, -200), this.openUICallBack(l.UIID.UIGuide, function () {
          e.addCurrentId();
        }, a);else if (o == 10 + e.putGuideNum) {
          var a;
          (a = new d.GuildCfg()).distNode = this.BtnClose, this.openUICallBack(l.UIID.UIGuide, function () {
            e.addCurrentId();
          }, a);
        }
      }
    }
  }, e.prototype.registerBtnEvent = function () {
    var t = this;
    this.BtnClose.on(cc.Node.EventType.TOUCH_END, function () {
      t.closeView(), c["default"].instance.controlObjectsAnim(!1);
    }), this.NodeGuide.on(cc.Node.EventType.TOUCH_END, function () {
      t.guideShow();
    });
  }, e.prototype.initData = function () {
    this.curSkillData = u.DataMgr.getInstance().getSkill(this.curSkillId);
  }, e.prototype.initView = function () {
    this.initSkillInfo(), this.playSkillAnim();
  }, e.prototype.initSkillInfo = function () {
    var t = this;
    this.loadSpriteFrame(this.curSkillData.bundle, this.curSkillData.skillIcon, function (e) {
      t.SpSkillIcon.spriteFrame = e;
    }), this.LabSkillName.string = this.curSkillData.skillName;
    var e = "";
    -1 == this.curSkillData.damageType ? e = "<color=#1425ff>" + this.curSkillData.skillWeight + "%</color>概率使<color = #d000dd>玩家</color>恢复<color = #f60a0a>" + this.curSkillData.damageValue + "%</color>血量" : 0 == this.curSkillData.damageType ? e = "<color=#1425ff>" + this.curSkillData.skillWeight + "%</color>概率对<color = #d000dd>前方单体</color>目标造成<color = #f60a0a>" + this.curSkillData.damageValue + "%</color>伤害" : 1 == this.curSkillData.damageType ? e = "<color=#1425ff>" + this.curSkillData.skillWeight + "%</color>概率对<color = #d000dd>前方敌人</color>目标造成<color = #f60a0a>" + this.curSkillData.damageValue + "%</color>伤害" : 1 == this.curSkillData.damageType && (e = "<color=#1425ff>" + this.curSkillData.skillWeight + "%</color>概率对<color = #d000dd>全体敌人</color>目标造成<color = #f60a0a>" + this.curSkillData.damageValue + "%</color>伤害"), this.LabSkillDec.string = e;
  }, e.prototype.playSkillAnim = function () {
    var t = this,
        e = this.Player.getComponent(sp.Skeleton);
    e && e.findAnimation(this.curSkillData.skillAnimName) ? (e.setAnimation(0, this.curSkillData.skillAnimName, !0), this.curSkillData.skillEffName && (e.setEventListener(function (e, o) {
      "start" == o.data.name && p["default"].playEff("prefabs", "effect/EffSkill", "EffSkill", t.curSkillData.skillEffName, t.Player, cc.v2(150, 0));
    }), e.setCompleteListener(function () {
      t.recycleNodeEff();
    }))) : console.log("技能不存在！");
  }, e.prototype.recycleNodeEff = function () {
    var t = this.Player.getChildByName("EffSkill");
    cc.isValid(t) && s.PoolMgr.getInstance().freeNode("EffSkill", t);
  }, e.prototype.closeView = function () {
    this.closeUI();
  }, r([m(cc.Node)], e.prototype, "NodePlayer", void 0), r([m(cc.Node)], e.prototype, "Player", void 0), r([m(cc.Node)], e.prototype, "NodeGuide", void 0), r([m(cc.Node)], e.prototype, "BtnClose", void 0), r([m(cc.Sprite)], e.prototype, "SpSkillIcon", void 0), r([m(cc.Label)], e.prototype, "LabSkillName", void 0), r([m(cc.RichText)], e.prototype, "LabSkillDec", void 0), r([f], e);
}(n["default"]);

o["default"] = y;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcVUlTa2lsbEluZm8uanMiXSwibmFtZXMiOlsidCIsInJlcXVpcmUiLCJlIiwibW9kdWxlIiwibyIsImV4cG9ydHMiLCJhIiwiaSIsIl9fZXh0ZW5kcyIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJjb25zdHJ1Y3RvciIsImNyZWF0ZSIsInIiLCJfX2RlY29yYXRlIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwibiIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIlJlZmxlY3QiLCJkZWNvcmF0ZSIsInMiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiYyIsImwiLCJ1IiwicCIsImciLCJkIiwiaCIsImNjIiwiX2RlY29yYXRvciIsImYiLCJjY2NsYXNzIiwibSIsInByb3BlcnR5IiwieSIsImFwcGx5IiwiTm9kZVBsYXllciIsIlBsYXllciIsIk5vZGVHdWlkZSIsIkJ0bkNsb3NlIiwiU3BTa2lsbEljb24iLCJMYWJTa2lsbE5hbWUiLCJMYWJTa2lsbERlYyIsImN1clNraWxsSWQiLCJjdXJTa2lsbERhdGEiLCJpbml0Iiwib25Mb2FkIiwic3RhcnQiLCJyZWdpc3RlckJ0bkV2ZW50IiwiaW5zdGFuY2UiLCJjb250cm9sT2JqZWN0c0FuaW0iLCJpbml0RGF0YSIsImluaXRWaWV3IiwiZ3VpZGVTaG93IiwiUGxheWVyTWdyIiwiZ2V0SW5zdGFuY2UiLCJnZVVzZXJEYXRhIiwiZ2V0Q3VyU2VjIiwiZ2V0RW50ZXJGaXJzdFNlY0NvdW50IiwiZ2V0R3VpZGVEYXRhIiwiZ2V0R3VpZGVFbmQiLCJnZXRDdXJyZW50SWQiLCJwdXRHdWlkZU51bSIsIkd1aWxkQ2ZnIiwiZGlzdE5vZGUiLCJ0aXBzdHJpbmciLCJoYW5kSW5kZXgiLCJ2MiIsIm9wZW5VSUNhbGxCYWNrIiwiVUlJRCIsIlVJR3VpZGUiLCJhZGRDdXJyZW50SWQiLCJvbiIsIk5vZGUiLCJFdmVudFR5cGUiLCJUT1VDSF9FTkQiLCJjbG9zZVZpZXciLCJEYXRhTWdyIiwiZ2V0U2tpbGwiLCJpbml0U2tpbGxJbmZvIiwicGxheVNraWxsQW5pbSIsImxvYWRTcHJpdGVGcmFtZSIsImJ1bmRsZSIsInNraWxsSWNvbiIsInNwcml0ZUZyYW1lIiwic3RyaW5nIiwic2tpbGxOYW1lIiwiZGFtYWdlVHlwZSIsInNraWxsV2VpZ2h0IiwiZGFtYWdlVmFsdWUiLCJnZXRDb21wb25lbnQiLCJzcCIsIlNrZWxldG9uIiwiZmluZEFuaW1hdGlvbiIsInNraWxsQW5pbU5hbWUiLCJzZXRBbmltYXRpb24iLCJza2lsbEVmZk5hbWUiLCJzZXRFdmVudExpc3RlbmVyIiwiZGF0YSIsIm5hbWUiLCJwbGF5RWZmIiwic2V0Q29tcGxldGVMaXN0ZW5lciIsInJlY3ljbGVOb2RlRWZmIiwiY29uc29sZSIsImxvZyIsImdldENoaWxkQnlOYW1lIiwiaXNWYWxpZCIsIlBvb2xNZ3IiLCJmcmVlTm9kZSIsImNsb3NlVUkiLCJTcHJpdGUiLCJMYWJlbCIsIlJpY2hUZXh0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLENBQUMsR0FBR0MsT0FBUjtBQUNBLElBQUlDLENBQUMsR0FBR0MsTUFBUjtBQUNBLElBQUlDLENBQUMsR0FBR0MsT0FBUjs7QUFDQSxJQUFJQyxFQUFKO0FBQUEsSUFBT0MsQ0FBQyxHQUFHLFVBQVEsU0FBS0MsU0FBYixLQUEyQkYsRUFBQyxHQUFHLFdBQVNOLENBQVQsRUFBWUUsQ0FBWixFQUFlO0VBQ3JELE9BQU8sQ0FBQ0ksRUFBQyxHQUFHRyxNQUFNLENBQUNDLGNBQVAsSUFBeUI7SUFDakNDLFNBQVMsRUFBRTtFQURzQixhQUcxQkMsS0FIMEIsSUFJckMsVUFBU1osQ0FBVCxFQUFZRSxDQUFaLEVBQWU7SUFDWEYsQ0FBQyxDQUFDVyxTQUFGLEdBQWNULENBQWQ7RUFDSCxDQU5XLElBT1osVUFBU0YsQ0FBVCxFQUFZRSxDQUFaLEVBQWU7SUFDWCxL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NkMsS0FBSyxDQUFsRCxDQXRGTSxFQXVGUEssQ0FBQyxDQUFDLENBQUNzQixDQUFDLENBQUNKLEVBQUUsQ0FBQ21GLEtBQUosQ0FBRixDQUFELEVBQWdCckgsQ0FBQyxDQUFDVyxTQUFsQixFQUE2QixjQUE3QixFQUE2QyxLQUFLLENBQWxELENBdkZNLEVBd0ZQSyxDQUFDLENBQUMsQ0FBQ3NCLENBQUMsQ0FBQ0osRUFBRSxDQUFDb0YsUUFBSixDQUFGLENBQUQsRUFBbUJ0SCxDQUFDLENBQUNXLFNBQXJCLEVBQWdDLGFBQWhDLEVBQStDLEtBQUssQ0FBcEQsQ0F4Rk0sRUF5RlBLLENBQUMsQ0FBQyxDQUFDb0IsQ0FBRCxDQUFELEVBQU1wQyxDQUFOLENBekZEO0FBMEZILENBeEdHLENBd0dEb0IsQ0FBQyxXQXhHQSxDQVhKOztBQW9IQWxCLENBQUMsV0FBRCxHQUFZc0MsQ0FBWiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHQgPSByZXF1aXJlO1xudmFyIGUgPSBtb2R1bGU7XG52YXIgbyA9IGV4cG9ydHM7XG52YXIgYSwgaSA9IHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMgfHwgKGEgPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgcmV0dXJuIChhID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IHtcbiAgICAgICAgX19wcm90b19fOiBbXVxuICAgIH1cbiAgICBpbnN0YW5jZW9mIEFycmF5ICYmXG4gICAgZnVuY3Rpb24odCwgZSkge1xuICAgICAgICB0Ll9fcHJvdG9fXyA9IGVcbiAgICB9IHx8XG4gICAgZnVuY3Rpb24odCwgZSkge1xuICAgICAgICBmb3IgKHZhciBvIGluIGUpIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLCBvKSAmJiAodFtvXSA9IGVbb10pXG4gICAgfSkodCwgZSlcbn0sXG5mdW5jdGlvbih0LCBlKSB7XG4gICAgZnVuY3Rpb24gbygpIHtcbiAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IHRcbiAgICB9XG4gICAgYSh0LCBlKSxcbiAgICB0LnByb3RvdHlwZSA9IG51bGwgPT09IGUgPyBPYmplY3QuY3JlYXRlKGUpIDogKG8ucHJvdG90eXBlID0gZS5wcm90b3R5cGUsIG5ldyBvKVxufSksXG5yID0gdGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUgfHxcbmZ1bmN0aW9uKHQsIGUsIG8sIGEpIHtcbiAgICB2YXIgaSwgciA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgbiA9IHIgPCAzID8gZTogbnVsbCA9PT0gYSA/IGEgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIG8pIDogYTtcbiAgICBpZiAoXCJvYmplY3RcIiA9PSB0eXBlb2YgUmVmbGVjdCAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpIG4gPSBSZWZsZWN0LmRlY29yYXRlKHQsIGUsIG8sIGEpO1xuICAgIGVsc2UgZm9yICh2YXIgcyA9IHQubGVuZ3RoIC0gMTsgcyA+PSAwOyBzLS0pKGkgPSB0W3NdKSAmJiAobiA9IChyIDwgMyA/IGkobikgOiByID4gMyA/IGkoZSwgbywgbikgOiBpKGUsIG8pKSB8fCBuKTtcbiAgICByZXR1cm4gciA+IDMgJiYgbiAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgbywgbiksXG4gICAgblxufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiAhMFxufSk7XG52YXIgbiA9IHQoXCJCYXNlVUlcIiksXG5zID0gdChcIlBvb2xNZ3JcIiksXG5jID0gdChcIk1haW5cIiksXG5sID0gdChcIkNvbmZpZ1wiKSxcbnUgPSB0KFwiRGF0YU1nclwiKSxcbnAgPSB0KFwiRWZmZWN0TWdyXCIpLFxuZyA9IHQoXCJQbGF5ZXJNZ3JcIiksXG5kID0gdChcIlVJR3VpZGVcIiksXG5oID0gY2MuX2RlY29yYXRvcixcbmYgPSBoLmNjY2xhc3MsXG5tID0gaC5wcm9wZXJ0eSxcbnkgPSBmdW5jdGlvbih0KSB7XG4gICAgZnVuY3Rpb24gZSgpIHtcbiAgICAgICAgdmFyIGUgPSBudWxsICE9PSB0ICYmIHQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICByZXR1cm4gZS5Ob2RlUGxheWVyID0gbnVsbCxcbiAgICAgICAgZS5QbGF5ZXIgPSBudWxsLFxuICAgICAgICBlLk5vZGVHdWlkZSA9IG51bGwsXG4gICAgICAgIGUuQnRuQ2xvc2UgPSBudWxsLFxuICAgICAgICBlLlNwU2tpbGxJY29uID0gbnVsbCxcbiAgICAgICAgZS5MYWJTa2lsbE5hbWUgPSBudWxsLFxuICAgICAgICBlLkxhYlNraWxsRGVjID0gbnVsbCxcbiAgICAgICAgZS5jdXJTa2lsbElkID0gMSxcbiAgICAgICAgZS5jdXJTa2lsbERhdGEgPSBudWxsLFxuICAgICAgICBlXG4gICAgfVxuICAgIHJldHVybiBpKGUsIHQpLFxuICAgIGUucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgIHRoaXMuY3VyU2tpbGxJZCA9IHQgfHwgMVxuICAgIH0sXG4gICAgZS5wcm90b3R5cGUub25Mb2FkID0gZnVuY3Rpb24oKSB7fSxcbiAgICBlLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQnRuRXZlbnQoKSxcbiAgICAgICAgYy5kZWZhdWx0Lmluc3RhbmNlLmNvbnRyb2xPYmplY3RzQW5pbSghMCksXG4gICAgICAgIHRoaXMuaW5pdERhdGEoKSxcbiAgICAgICAgdGhpcy5pbml0VmlldygpLFxuICAgICAgICB0aGlzLmd1aWRlU2hvdygpXG4gICAgfSxcbiAgICBlLnByb3RvdHlwZS5ndWlkZVNob3cgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHQgPSBnLlBsYXllck1nci5nZXRJbnN0YW5jZSgpLmdlVXNlckRhdGEoKTtcbiAgICAgICAgaWYgKDEgPT0gdC5nZXRDdXJTZWMoKSAmJiAxID09IHQuZ2V0RW50ZXJGaXJzdFNlY0NvdW50KCkpIHtcbiAgICAgICAgICAgIHZhciBlID0gZy5QbGF5ZXJNZ3IuZ2V0SW5zdGFuY2UoKS5nZXRHdWlkZURhdGEoKTtcbiAgICAgICAgICAgIGlmICghZS5nZXRHdWlkZUVuZCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG8gPSBlLmdldEN1cnJlbnRJZCgpO1xuICAgICAgICAgICAgICAgIGlmIChvID09IDkgKyBlLnB1dEd1aWRlTnVtKShhID0gbmV3IGQuR3VpbGRDZmcpLmRpc3ROb2RlID0gdGhpcy5Ob2RlR3VpZGUsXG4gICAgICAgICAgICAgICAgYS50aXBzdHJpbmcgPSBcIumDqOWIhuaKgOiDvTxjb2xvcj0jZmNlNDQ1PuWNh+iHszLmmJ88L2NvbG9yPuWQju+8jOWPr+iOt+W+lzxjb2xvcj0jZmNlNDQ1PumineWkluaKgOiDveaViOaenDwvY29sb3I+5ZmiXCIsXG4gICAgICAgICAgICAgICAgYS5oYW5kSW5kZXggPSBjYy52MigyMDAsIC0yMDApLFxuICAgICAgICAgICAgICAgIHRoaXMub3BlblVJQ2FsbEJhY2sobC5VSUlELlVJR3VpZGUsXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGUuYWRkQ3VycmVudElkKClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGEpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG8gPT0gMTAgKyBlLnB1dEd1aWRlTnVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhOyAoYSA9IG5ldyBkLkd1aWxkQ2ZnKS5kaXN0Tm9kZSA9IHRoaXMuQnRuQ2xvc2UsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3BlblVJQ2FsbEJhY2sobC5VSUlELlVJR3VpZGUsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5hZGRDdXJyZW50SWQoKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgZS5wcm90b3R5cGUucmVnaXN0ZXJCdG5FdmVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdCA9IHRoaXM7XG4gICAgICAgIHRoaXMuQnRuQ2xvc2Uub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELFxuICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHQuY2xvc2VWaWV3KCksXG4gICAgICAgICAgICBjLmRlZmF1bHQuaW5zdGFuY2UuY29udHJvbE9iamVjdHNBbmltKCExKVxuICAgICAgICB9KSxcbiAgICAgICAgdGhpcy5Ob2RlR3VpZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELFxuICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHQuZ3VpZGVTaG93KClcbiAgICAgICAgfSlcbiAgICB9LFxuICAgIGUucHJvdG90eXBlLmluaXREYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuY3VyU2tpbGxEYXRhID0gdS5EYXRhTWdyLmdldEluc3RhbmNlKCkuZ2V0U2tpbGwodGhpcy5jdXJTa2lsbElkKVxuICAgIH0sXG4gICAgZS5wcm90b3R5cGUuaW5pdFZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5pbml0U2tpbGxJbmZvKCksXG4gICAgICAgIHRoaXMucGxheVNraWxsQW5pbSgpXG4gICAgfSxcbiAgICBlLnByb3RvdHlwZS5pbml0U2tpbGxJbmZvID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcztcbiAgICAgICAgdGhpcy5sb2FkU3ByaXRlRnJhbWUodGhpcy5jdXJTa2lsbERhdGEuYnVuZGxlLCB0aGlzLmN1clNraWxsRGF0YS5za2lsbEljb24sXG4gICAgICAgIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHQuU3BTa2lsbEljb24uc3ByaXRlRnJhbWUgPSBlXG4gICAgICAgIH0pLFxuICAgICAgICB0aGlzLkxhYlNraWxsTmFtZS5zdHJpbmcgPSB0aGlzLmN1clNraWxsRGF0YS5za2lsbE5hbWU7XG4gICAgICAgIHZhciBlID0gXCJcIjsgLSAxID09IHRoaXMuY3VyU2tpbGxEYXRhLmRhbWFnZVR5cGUgPyBlID0gXCI8Y29sb3I9IzE0MjVmZj5cIiArIHRoaXMuY3VyU2tpbGxEYXRhLnNraWxsV2VpZ2h0ICsgXCIlPC9jb2xvcj7mpoLnjofkvb88Y29sb3IgPSAjZDAwMGRkPueOqeWutjwvY29sb3I+5oGi5aSNPGNvbG9yID0gI2Y2MGEwYT5cIiArIHRoaXMuY3VyU2tpbGxEYXRhLmRhbWFnZVZhbHVlICsgXCIlPC9jb2xvcj7ooYDph49cIjogMCA9PSB0aGlzLmN1clNraWxsRGF0YS5kYW1hZ2VUeXBlID8gZSA9IFwiPGNvbG9yPSMxNDI1ZmY+XCIgKyB0aGlzLmN1clNraWxsRGF0YS5za2lsbFdlaWdodCArIFwiJTwvY29sb3I+5qaC546H5a+5PGNvbG9yID0gI2QwMDBkZD7liY3mlrnljZXkvZM8L2NvbG9yPuebruagh+mAoOaIkDxjb2xvciA9ICNmNjBhMGE+XCIgKyB0aGlzLmN1clNraWxsRGF0YS5kYW1hZ2VWYWx1ZSArIFwiJTwvY29sb3I+5Lyk5a6zXCI6IDEgPT0gdGhpcy5jdXJTa2lsbERhdGEuZGFtYWdlVHlwZSA/IGUgPSBcIjxjb2xvcj0jMTQyNWZmPlwiICsgdGhpcy5jdXJTa2lsbERhdGEuc2tpbGxXZWlnaHQgKyBcIiU8L2NvbG9yPuamgueOh+WvuTxjb2xvciA9ICNkMDAwZGQ+5YmN5pa55pWM5Lq6PC9jb2xvcj7nm67moIfpgKDmiJA8Y29sb3IgPSAjZjYwYTBhPlwiICsgdGhpcy5jdXJTa2lsbERhdGEuZGFtYWdlVmFsdWUgKyBcIiU8L2NvbG9yPuS8pOWus1wiOiAxID09IHRoaXMuY3VyU2tpbGxEYXRhLmRhbWFnZVR5cGUgJiYgKGUgPSBcIjxjb2xvcj0jMTQyNWZmPlwiICsgdGhpcy5jdXJTa2lsbERhdGEuc2tpbGxXZWlnaHQgKyBcIiU8L2NvbG9yPuamgueOh+WvuTxjb2xvciA9ICNkMDAwZGQ+5YWo5L2T5pWM5Lq6PC9jb2xvcj7nm67moIfpgKDmiJA8Y29sb3IgPSAjZjYwYTBhPlwiICsgdGhpcy5jdXJTa2lsbERhdGEuZGFtYWdlVmFsdWUgKyBcIiU8L2NvbG9yPuS8pOWus1wiKSxcbiAgICAgICAgdGhpcy5MYWJTa2lsbERlYy5zdHJpbmcgPSBlXG4gICAgfSxcbiAgICBlLnByb3RvdHlwZS5wbGF5U2tpbGxBbmltID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcyxcbiAgICAgICAgZSA9IHRoaXMuUGxheWVyLmdldENvbXBvbmVudChzcC5Ta2VsZXRvbik7XG4gICAgICAgIGUgJiYgZS5maW5kQW5pbWF0aW9uKHRoaXMuY3VyU2tpbGxEYXRhLnNraWxsQW5pbU5hbWUpID8gKGUuc2V0QW5pbWF0aW9uKDAsIHRoaXMuY3VyU2tpbGxEYXRhLnNraWxsQW5pbU5hbWUsICEwKSwgdGhpcy5jdXJTa2lsbERhdGEuc2tpbGxFZmZOYW1lICYmIChlLnNldEV2ZW50TGlzdGVuZXIoZnVuY3Rpb24oZSwgbykge1xuICAgICAgICAgICAgXCJzdGFydFwiID09IG8uZGF0YS5uYW1lICYmIHAuZGVmYXVsdC5wbGF5RWZmKFwicHJlZmFic1wiLCBcImVmZmVjdC9FZmZTa2lsbFwiLCBcIkVmZlNraWxsXCIsIHQuY3VyU2tpbGxEYXRhLnNraWxsRWZmTmFtZSwgdC5QbGF5ZXIsIGNjLnYyKDE1MCwgMCkpXG4gICAgICAgIH0pLCBlLnNldENvbXBsZXRlTGlzdGVuZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0LnJlY3ljbGVOb2RlRWZmKClcbiAgICAgICAgfSkpKSA6IGNvbnNvbGUubG9nKFwi5oqA6IO95LiN5a2Y5Zyo77yBXCIpXG4gICAgfSxcbiAgICBlLnByb3RvdHlwZS5yZWN5Y2xlTm9kZUVmZiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdCA9IHRoaXMuUGxheWVyLmdldENoaWxkQnlOYW1lKFwiRWZmU2tpbGxcIik7XG4gICAgICAgIGNjLmlzVmFsaWQodCkgJiYgcy5Qb29sTWdyLmdldEluc3RhbmNlKCkuZnJlZU5vZGUoXCJFZmZTa2lsbFwiLCB0KVxuICAgIH0sXG4gICAgZS5wcm90b3R5cGUuY2xvc2VWaWV3ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuY2xvc2VVSSgpXG4gICAgfSxcbiAgICByKFttKGNjLk5vZGUpXSwgZS5wcm90b3R5cGUsIFwiTm9kZVBsYXllclwiLCB2b2lkIDApLFxuICAgIHIoW20oY2MuTm9kZSldLCBlLnByb3RvdHlwZSwgXCJQbGF5ZXJcIiwgdm9pZCAwKSxcbiAgICByKFttKGNjLk5vZGUpXSwgZS5wcm90b3R5cGUsIFwiTm9kZUd1aWRlXCIsIHZvaWQgMCksXG4gICAgcihbbShjYy5Ob2RlKV0sIGUucHJvdG90eXBlLCBcIkJ0bkNsb3NlXCIsIHZvaWQgMCksXG4gICAgcihbbShjYy5TcHJpdGUpXSwgZS5wcm90b3R5cGUsIFwiU3BTa2lsbEljb25cIiwgdm9pZCAwKSxcbiAgICByKFttKGNjLkxhYmVsKV0sIGUucHJvdG90eXBlLCBcIkxhYlNraWxsTmFtZVwiLCB2b2lkIDApLFxuICAgIHIoW20oY2MuUmljaFRleHQpXSwgZS5wcm90b3R5cGUsIFwiTGFiU2tpbGxEZWNcIiwgdm9pZCAwKSxcbiAgICByKFtmXSwgZSlcbn0gKG4uZGVmYXVsdCk7XG5vLmRlZmF1bHQgPSB5Il19