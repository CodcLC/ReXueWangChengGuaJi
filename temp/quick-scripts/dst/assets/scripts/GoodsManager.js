
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/GoodsManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6a0a0RQ/opOB5RtMd1Qpx1a', 'GoodsManager');
// scripts/GoodsManager.js

"use strict";

var t = require;
var e = module;
var o = exports;
Object.defineProperty(o, "__esModule", {
  value: !0
});

var a = t("UIMgr"),
    i = t("Utils"),
    r = t("Config"),
    n = t("DataMgr"),
    s = t("EquipMgr"),
    c = t("PlayerMgr"),
    l = t("TaskMgr"),
    u = function () {
  function t() {
    this.equipClassForQuality = [[], [], [], [], []], this.equipClassForType = [[], [], [], [], [], []], this.skillBookClassForQuality = [[], [], [], [], []], this.skillBookOwned = [[], [], [], [], []], this.skillBookNotGet = [[], [], [], [], []], this.skillBookOwnedForQuality = [], this.skillBookNotGetForQuality = [];
  }

  return t.getInstance = function () {
    return null == this.instance && (this.instance = new t()), this.instance;
  }, t.prototype.getGoodsCfgForGoodsType = function (t) {
    var e = n.DataMgr.getInstance().getGoodsCfg(t);

    if ("equip" == e.goodsType) {
      var o = this.equipClassForQuality[e.goodsQualityId - 1];
      if (!o || o.length <= 0) return null;
      var a = i.Utils.randomRang(0, o.length);
      return [e.goodsType, o[a]];
    }

    if ("skillBook" == e.goodsType) {
      var r = this.skillBookClassForQuality[e.goodsQualityId - 1];
      if (!r || r.length <= 0) return null;
      var s = i.Utils.randomRang(0, r.length);
      return [e.goodsType, r[s]];
    }

    return [e.goodsType, t];
  }, t.prototype.seleCfg = function (t, e) {
    e && e[0];
  }, t.prototype.initClassData = function () {
    this.classifyEquipForQuality(), this.classifyEquipForType(), this.classifySkillBookForQuality();
  }, t.prototype.classifyEquipForQuality = function () {
    for (var t = n.DataMgr.getInstance().getAllEquipCfg(), e = 0; e < t.length; e++) {
      var o = t[e].qualityId;
      this.equipClassForQuality[o - 1].push(t[e].id);
    }
  }, t.prototype.classifyEquipForType = function () {
    for (var t = n.DataMgr.getInstance().getAllEquipCfg(), e = 0; e < t.length; e++) {
      var o = t[e].equipType;
      this.equipClassForType[o - 1].push(t[e].id);
    }
  }, t.prototype.classifySkillBookForQuality = function () {
    for (var t = n.DataMgr.getInstance().getSkillBookCfg(), e = 0; e < t.length; e++) {
      var o = t[e].qualityId;
      this.skillBookClassForQuality[o - 1].push(t[e].id);
    }
  }, t.prototype.classifySkillBookForQualityAndIsOwn = function () {
    for (var t = c.PlayerMgr.getInstance().geUserData().getSkillBookArr(), e = 0; e < t.length; e++) {
      var o = n.DataMgr.getInstance().getSkillBook(t[e].id);
      this.skillBookOwned[o.qualityId - 1].push(t[e].id);
    }

    var a = n.DataMgr.getInstance().getSkillBookCfg();

    for (e = 0; e < a.length; e++) {
      var i = a[e].qualityId;
      this.isExistSkillBookForId(i, a[e].id) || this.skillBookNotGet[i - 1].push(a[e].id);
    }

    this.classifyAllSkillBookForQuality();
  }, t.prototype.classifyAllSkillBookForQuality = function () {
    for (var t = this.skillBookOwned.length - 1; t >= 0; t--) {
      for (var e = 0; e < this.skillBookOwned[t].length; e++) {
        this.skillBookOwnedForQuality.push(this.skillBookOwned[t][e]);
      }
    }

    for (t = this.skillBookNotGet.length - 1; t >= 0; t--) {
      for (e = 0; e < this.skillBookNotGet[t].length; e++) {
        this.skillBookNotGetForQuality.push(this.skillBookNotGet[t][e]);
      }
    }
  }, t.prototype.isExistSkillBookForId = function (t, e) {
    if (!this.skillBookOwned || !this.skillBookOwned[t - 1] || this.skillBookOwned[t - 1].length <= 0) return !1;

    for (var o = 0; o < this.skillBookOwned[t - 1].length; o++) {
      if (this.skillBookOwned[t - 1][o] == e) return !0;
    }

    return !1;
  }, t.prototype.initOwnedSkillBookData = function () {
    this.skillBookOwned = [[], [], [], [], []], this.skillBookNotGet = [[], [], [], [], []], this.skillBookOwnedForQuality = [], this.skillBookNotGetForQuality = [], this.classifySkillBookForQualityAndIsOwn();
  }, t.prototype.getColorForQuality = function (t) {
    var e = "ffffff";

    switch (t) {
      case 1:
        e = "c0bebe";
        break;

      case 2:
        e = "a3ec19";
        break;

      case 3:
        e = "21f9eb";
        break;

      case 4:
        e = "cd3dfd";
        break;

      case 5:
        e = "ffd722";
    }

    return e;
  }, t.prototype.seleColor = function (t) {
    var e = cc.color();

    switch (t) {
      case 1:
        e = cc.color(192, 190, 190);
        break;

      case 2:
        e = cc.color(163, 236, 25);
        break;

      case 3:
        e = cc.color(33, 249, 235);
        break;

      case 4:
        e = cc.color(205, 61, 253);
        break;

      case 5:
        e = cc.color(255, 215, 34);
    }

    return e;
  }, t.prototype.getRewardForType = function (t, e) {
    var o = c.PlayerMgr.getInstance().geUserData();

    switch (t) {
      case 1:
        o.addGoldNum(e);
        break;

      case 2:
        o.addInGotNum(e);
        break;

      case 3:
        o.addPowerNum(e);
    }
  }, t.prototype.getReward = function (e) {
    if (e) {
      for (var o = 0, s = "金币", u = c.PlayerMgr.getInstance().geUserData(), p = 0; p < e.length; p++) {
        switch (e[p].goodsType) {
          case "gold":
            u.addGoldNum(e[p].iCount);
            break;

          case "inGot":
            u.addInGotNum(e[p].iCount);
            break;

          case "power":
            u.addPowerNum(e[p].iCount);
            break;

          case "equip":
            u.addEquipForId(e[p].goodsId), l["default"].getInstance().addEquipCountForTask();
            break;

          case "skillBook":
            u.addSkillBookId(e[p].goodsId), l["default"].getInstance().addSkillBookCountForTask();
            var g = n.DataMgr.getInstance().getSkillBook(e[p].goodsId);

            if (c.PlayerMgr.getInstance().geUserData().getSkillBookForId(e[p].goodsId).level >= g.MaxLevel) {
              var d = n.DataMgr.getInstance().getSkillQuality(g.qualityId),
                  h = i.Utils.getTabelArr(d.FullGradeCompensate);
              c.PlayerMgr.getInstance().geUserData().subSkillBookCount(g.id), t.getInstance().getRewardForType(Number(h[0]), Number(h[1])), o += Number(h[1]), s = n.DataMgr.getInstance().getGoodsCfg(Number(h[0])).goodsName;
            }

        }
      }

      this.isOverEquipBagForIndex() ? a.UIMgr.getInstance().openUI(r.UIID.UINotBagIndex, -1) : a.UIMgr.getInstance().openUI(r.UIID.UITips, -1, "领取成功"), o > 0 && a.UIMgr.getInstance().openUI(r.UIID.UITips, -1, "部分技能书已达到最大等级，自动转化为 " + s + "x" + o);
    }
  }, t.prototype.getRewardDouble = function (e) {
    if (e) {
      for (var o = 0, s = "金币", u = c.PlayerMgr.getInstance().geUserData(), p = 0; p < e.length; p++) {
        switch (e[p].goodsType) {
          case "gold":
            u.addGoldNum(2 * e[p].iCount);
            break;

          case "inGot":
            u.addInGotNum(2 * e[p].iCount);
            break;

          case "power":
            u.addPowerNum(2 * e[p].iCount);
            break;

          case "equip":
            u.addEquipForId(e[p].goodsId), u.addEquipForId(e[p].goodsId), l["default"].getInstance().addEquipCountForTask(2);
            break;

          case "skillBook":
            u.addSkillBookId(e[p].goodsId, 2), l["default"].getInstance().addSkillBookCountForTask(2);
            var g = n.DataMgr.getInstance().getSkillBook(e[p].goodsId);

            if (c.PlayerMgr.getInstance().geUserData().getSkillBookForId(e[p].goodsId).level >= g.MaxLevel) {
              var d = n.DataMgr.getInstance().getSkillQuality(g.qualityId),
                  h = i.Utils.getTabelArr(d.FullGradeCompensate);
              c.PlayerMgr.getInstance().geUserData().subSkillBookCount(g.id, 2), t.getInstance().getRewardForType(Number(h[0]), Number(h[1])), o += 2 * Number(h[1]), s = n.DataMgr.getInstance().getGoodsCfg(Number(h[0])).goodsName;
            }

        }
      }

      this.isOverEquipBagForIndex() ? a.UIMgr.getInstance().openUI(r.UIID.UINotBagIndex, -1) : a.UIMgr.getInstance().openUI(r.UIID.UITips, -1, "领取成功"), o > 0 && a.UIMgr.getInstance().openUI(r.UIID.UITips, -1, "部分技能书已达到最大等级，自动转化为 " + s + "x" + o);
    }
  }, t.prototype.isOverEquipBagForIndex = function (t) {
    void 0 === t && (t = function t() {});
    var e = c.PlayerMgr.getInstance().geUserData().getBagIndexCount();
    return s["default"].getInstance().getOwnedEquipCount() > e;
  }, t;
}();

o["default"] = u;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcR29vZHNNYW5hZ2VyLmpzIl0sIm5hbWVzIjpbInQiLCJyZXF1aXJlIiwiZSIsIm1vZHVsZSIsIm8iLCJleHBvcnRzIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsImEiLCJpIiwiciIsIm4iLCJzIiwiYyIsImwiLCJ1IiwiZXF1aXBDbGFzc0ZvclF1YWxpdHkiLCJlcXVpcENsYXNzRm9yVHlwZSIsInNraWxsQm9va0NsYXNzRm9yUXVhbGl0eSIsInNraWxsQm9va093bmVkIiwic2tpbGxCb29rTm90R2V0Iiwic2tpbGxCb29rT3duZWRGb3JRdWFsaXR5Iiwic2tpbGxCb29rTm90R2V0Rm9yUXVhbGl0eSIsImdldEluc3RhbmNlIiwiaW5zdGFuY2UiLCJwcm90b3R5cGUiLCJnZXRHb29kc0NmZ0Zvckdvb2RzVHlwZSIsIkRhdGFNZ3IiLCJnZXRHb29kc0NmZyIsImdvb2RzVHlwZSIsImdvb2RzUXVhbGl0eUlkIiwibGVuZ3RoIiwiVXRpbHMiLCJyYW5kb21SYW5nIiwic2VsZUNmZyIsImluaXRDbGFzc0RhdGEiLCJjbGFzc2lmeUVxdWlwRm9yUXVhbGl0eSIsImNsYXNzaWZ5RXF1aXBGb3JUeXBlIiwiY2xhc3NpZnlTa2lsbEJvb2tGb3JRdWFsaXR5IiwiZ2V0QWxsRXF1aXBDZmciLCJxdWFsaXR5SWQiLCJwdXNoIiwiaWQiLCJlcXVpcFR5cGUiLCJnZXRTa2lsbEJvb2tDZmciLCJjbGFzc2lmeVNraWxsQm9va0ZvclF1YWxpdHlBbmRJc093biIsIlBsYXllck1nciIsImdlVXNlckRhdGEiLCJnZXRTa2lsbEJvb2tBcnIiLCJnZXRTa2lsbEJvb2siLCJpc0V4aXN0U2tpbGxCb29rRm9ySWQiLCJjbGFzc2lmeUFsbFNraWxsQm9va0ZvclF1YWxpdHkiLCJpbml0T3duZWRTa2lsbEJvb2tEYXRhIiwiZ2V0Q29sb3JGb3JRdWFsaXR5Iiwic2VsZUNvbG9yIiwiY2MiLCJjb2xvciIsImdldFJld2FyZEZvclR5cGUiLCJhZGRHb2xkTnVtIiwiYWRkSW5Hb3ROdW0iLCJhZGRQb3dlck51bSIsImdldFJld2FyZCIsInAiLCJpQ291bnQiLCJhZGRFcXVpcEZvcklkIiwiZ29vZHNJZCIsImFkZEVxdWlwQ291bnRGb3JUYXNrIiwiYWRkU2tpbGxCb29rSWQiLCJhZGRTa2lsbEJvb2tDb3VudEZvclRhc2siLCJnIiwiZ2V0U2tpbGxCb29rRm9ySWQiLCJsZXZlbCIsIk1heExldmVsIiwiZCIsImdldFNraWxsUXVhbGl0eSIsImgiLCJnZXRUYWJlbEFyciIsIkZ1bGxHcmFkZUNvbXBlbnNhdGUiLCJzdWJTa2lsbEJvb2tDb3VudCIsIk51bWJlciIsImdvb2RzTmFtZSIsImlzT3ZlckVxdWlwQmFnRm9ySW5kZXgiLCJVSU1nciIsIm9wZW5VSSIsIlVJSUQiLCJVSU5vdEJhZ0luZGV4IiwiVUlUaXBzIiwiZ2V0UmV3YXJkRG91YmxlIiwiZ2V0QmFnSW5kZXhDb3VudCIsImdldE93bmVkRXF1aXBDb3VudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxDQUFDLEdBQUdDLE9BQVI7QUFDQSxJQUFJQyxDQUFDLEdBQUdDLE1BQVI7QUFDQSxJQUFJQyxDQUFDLEdBQUdDLE9BQVI7QUFDQUMsTUFBTSxDQUFDQyxjQUFQLENBQXNCSCxDQUF0QixFQUF5QixZQUF6QixFQUF1QztFQUNuQ0ksS0FBSyxFQUFFLENBQUM7QUFEMkIsQ0FBdkM7O0FBR0EsSUFBSUMsQ0FBQyxHQUFHVCxDQUFDLENBQUMsT0FBRCxDQUFUO0FBQUEsSUFDQVUsQ0FBQyxHQUFHVixDQUFDLENBQUMsT0FBRCxDQURMO0FBQUEsSUFFQVcsQ0FBQyxHQUFHWCxDQUFDLENBQUMsUUFBRCxDQUZMO0FBQUEsSUFHQVksQ0FBQyxHQUFHWixDQUFDLENBQUMsU0FBRCxDQUhMO0FBQUEsSUFJQWEsQ0FBQyxHQUFHYixDQUFDLENBQUMsVUFBRCxDQUpMO0FBQUEsSUFLQWMsQ0FBQyxHQUFHZCxDQUFDLENBQUMsV0FBRCxDQUxMO0FBQUEsSUFNQWUs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ekUsQ0FBQyxDQUFDMEUsSUFBRixDQUFPRSxNQUFwQyxFQUE0QyxDQUFDLENBQTdDLEVBQWdELE1BQWhELENBQXpGLEVBQ0FuRixDQUFDLEdBQUcsQ0FBSixJQUFTSyxDQUFDLENBQUMwRSxLQUFGLENBQVEzRCxXQUFSLEdBQXNCNEQsTUFBdEIsQ0FBNkJ6RSxDQUFDLENBQUMwRSxJQUFGLENBQU9FLE1BQXBDLEVBQTRDLENBQUMsQ0FBN0MsRUFBZ0Qsd0JBQXdCMUUsQ0FBeEIsR0FBNEIsR0FBNUIsR0FBa0NULENBQWxGLENBRFQ7SUFFSDtFQUNKLENBck1NLEVBc01QSixDQUFDLENBQUMwQixTQUFGLENBQVl3RCxzQkFBWixHQUFxQyxVQUFTbEYsQ0FBVCxFQUFZO0lBQzdDLEtBQUssQ0FBTCxLQUFXQSxDQUFYLEtBQWlCQSxDQUFDLEdBQUcsYUFBVyxDQUFFLENBQWxDO0lBQ0EsSUFBSUUsQ0FBQyxHQUFHWSxDQUFDLENBQUNpQyxTQUFGLENBQVl2QixXQUFaLEdBQTBCd0IsVUFBMUIsR0FBdUN5QyxnQkFBdkMsRUFBUjtJQUNBLE9BQU81RSxDQUFDLFdBQUQsQ0FBVVcsV0FBVixHQUF3QmtFLGtCQUF4QixLQUErQ3hGLENBQXREO0VBQ0gsQ0ExTU0sRUEyTVBGLENBM01BO0FBNE1ILENBdE5HLEVBUEo7O0FBOE5BSSxDQUFDLFdBQUQsR0FBWVksQ0FBWiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHQgPSByZXF1aXJlO1xudmFyIGUgPSBtb2R1bGU7XG52YXIgbyA9IGV4cG9ydHM7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogITBcbn0pO1xudmFyIGEgPSB0KFwiVUlNZ3JcIiksXG5pID0gdChcIlV0aWxzXCIpLFxuciA9IHQoXCJDb25maWdcIiksXG5uID0gdChcIkRhdGFNZ3JcIiksXG5zID0gdChcIkVxdWlwTWdyXCIpLFxuYyA9IHQoXCJQbGF5ZXJNZ3JcIiksXG5sID0gdChcIlRhc2tNZ3JcIiksXG51ID0gZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gdCgpIHtcbiAgICAgICAgdGhpcy5lcXVpcENsYXNzRm9yUXVhbGl0eSA9IFtbXSwgW10sIFtdLCBbXSwgW11dLFxuICAgICAgICB0aGlzLmVxdWlwQ2xhc3NGb3JUeXBlID0gW1tdLCBbXSwgW10sIFtdLCBbXSwgW11dLFxuICAgICAgICB0aGlzLnNraWxsQm9va0NsYXNzRm9yUXVhbGl0eSA9IFtbXSwgW10sIFtdLCBbXSwgW11dLFxuICAgICAgICB0aGlzLnNraWxsQm9va093bmVkID0gW1tdLCBbXSwgW10sIFtdLCBbXV0sXG4gICAgICAgIHRoaXMuc2tpbGxCb29rTm90R2V0ID0gW1tdLCBbXSwgW10sIFtdLCBbXV0sXG4gICAgICAgIHRoaXMuc2tpbGxCb29rT3duZWRGb3JRdWFsaXR5ID0gW10sXG4gICAgICAgIHRoaXMuc2tpbGxCb29rTm90R2V0Rm9yUXVhbGl0eSA9IFtdXG4gICAgfVxuICAgIHJldHVybiB0LmdldEluc3RhbmNlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBudWxsID09IHRoaXMuaW5zdGFuY2UgJiYgKHRoaXMuaW5zdGFuY2UgPSBuZXcgdCksXG4gICAgICAgIHRoaXMuaW5zdGFuY2VcbiAgICB9LFxuICAgIHQucHJvdG90eXBlLmdldEdvb2RzQ2ZnRm9yR29vZHNUeXBlID0gZnVuY3Rpb24odCkge1xuICAgICAgICB2YXIgZSA9IG4uRGF0YU1nci5nZXRJbnN0YW5jZSgpLmdldEdvb2RzQ2ZnKHQpO1xuICAgICAgICBpZiAoXCJlcXVpcFwiID09IGUuZ29vZHNUeXBlKSB7XG4gICAgICAgICAgICB2YXIgbyA9IHRoaXMuZXF1aXBDbGFzc0ZvclF1YWxpdHlbZS5nb29kc1F1YWxpdHlJZCAtIDFdO1xuICAgICAgICAgICAgaWYgKCFvIHx8IG8ubGVuZ3RoIDw9IDApIHJldHVybiBudWxsO1xuICAgICAgICAgICAgdmFyIGEgPSBpLlV0aWxzLnJhbmRvbVJhbmcoMCwgby5sZW5ndGgpO1xuICAgICAgICAgICAgcmV0dXJuIFtlLmdvb2RzVHlwZSwgb1thXV1cbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJza2lsbEJvb2tcIiA9PSBlLmdvb2RzVHlwZSkge1xuICAgICAgICAgICAgdmFyIHIgPSB0aGlzLnNraWxsQm9va0NsYXNzRm9yUXVhbGl0eVtlLmdvb2RzUXVhbGl0eUlkIC0gMV07XG4gICAgICAgICAgICBpZiAoIXIgfHwgci5sZW5ndGggPD0gMCkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB2YXIgcyA9IGkuVXRpbHMucmFuZG9tUmFuZygwLCByLmxlbmd0aCk7XG4gICAgICAgICAgICByZXR1cm4gW2UuZ29vZHNUeXBlLCByW3NdXVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbZS5nb29kc1R5cGUsIHRdXG4gICAgfSxcbiAgICB0LnByb3RvdHlwZS5zZWxlQ2ZnID0gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICBlICYmIGVbMF1cbiAgICB9LFxuICAgIHQucHJvdG90eXBlLmluaXRDbGFzc0RhdGEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5jbGFzc2lmeUVxdWlwRm9yUXVhbGl0eSgpLFxuICAgICAgICB0aGlzLmNsYXNzaWZ5RXF1aXBGb3JUeXBlKCksXG4gICAgICAgIHRoaXMuY2xhc3NpZnlTa2lsbEJvb2tGb3JRdWFsaXR5KClcbiAgICB9LFxuICAgIHQucHJvdG90eXBlLmNsYXNzaWZ5RXF1aXBGb3JRdWFsaXR5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGZvciAodmFyIHQgPSBuLkRhdGFNZ3IuZ2V0SW5zdGFuY2UoKS5nZXRBbGxFcXVpcENmZygpLCBlID0gMDsgZSA8IHQubGVuZ3RoOyBlKyspIHtcbiAgICAgICAgICAgIHZhciBvID0gdFtlXS5xdWFsaXR5SWQ7XG4gICAgICAgICAgICB0aGlzLmVxdWlwQ2xhc3NGb3JRdWFsaXR5W28gLSAxXS5wdXNoKHRbZV0uaWQpXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHQucHJvdG90eXBlLmNsYXNzaWZ5RXF1aXBGb3JUeXBlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGZvciAodmFyIHQgPSBuLkRhdGFNZ3IuZ2V0SW5zdGFuY2UoKS5nZXRBbGxFcXVpcENmZygpLCBlID0gMDsgZSA8IHQubGVuZ3RoOyBlKyspIHtcbiAgICAgICAgICAgIHZhciBvID0gdFtlXS5lcXVpcFR5cGU7XG4gICAgICAgICAgICB0aGlzLmVxdWlwQ2xhc3NGb3JUeXBlW28gLSAxXS5wdXNoKHRbZV0uaWQpXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHQucHJvdG90eXBlLmNsYXNzaWZ5U2tpbGxCb29rRm9yUXVhbGl0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBmb3IgKHZhciB0ID0gbi5EYXRhTWdyLmdldEluc3RhbmNlKCkuZ2V0U2tpbGxCb29rQ2ZnKCksIGUgPSAwOyBlIDwgdC5sZW5ndGg7IGUrKykge1xuICAgICAgICAgICAgdmFyIG8gPSB0W2VdLnF1YWxpdHlJZDtcbiAgICAgICAgICAgIHRoaXMuc2tpbGxCb29rQ2xhc3NGb3JRdWFsaXR5W28gLSAxXS5wdXNoKHRbZV0uaWQpXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHQucHJvdG90eXBlLmNsYXNzaWZ5U2tpbGxCb29rRm9yUXVhbGl0eUFuZElzT3duID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGZvciAodmFyIHQgPSBjLlBsYXllck1nci5nZXRJbnN0YW5jZSgpLmdlVXNlckRhdGEoKS5nZXRTa2lsbEJvb2tBcnIoKSwgZSA9IDA7IGUgPCB0Lmxlbmd0aDsgZSsrKSB7XG4gICAgICAgICAgICB2YXIgbyA9IG4uRGF0YU1nci5nZXRJbnN0YW5jZSgpLmdldFNraWxsQm9vayh0W2VdLmlkKTtcbiAgICAgICAgICAgIHRoaXMuc2tpbGxCb29rT3duZWRbby5xdWFsaXR5SWQgLSAxXS5wdXNoKHRbZV0uaWQpXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGEgPSBuLkRhdGFNZ3IuZ2V0SW5zdGFuY2UoKS5nZXRTa2lsbEJvb2tDZmcoKTtcbiAgICAgICAgZm9yIChlID0gMDsgZSA8IGEubGVuZ3RoOyBlKyspIHtcbiAgICAgICAgICAgIHZhciBpID0gYVtlXS5xdWFsaXR5SWQ7XG4gICAgICAgICAgICB0aGlzLmlzRXhpc3RTa2lsbEJvb2tGb3JJZChpLCBhW2VdLmlkKSB8fCB0aGlzLnNraWxsQm9va05vdEdldFtpIC0gMV0ucHVzaChhW2VdLmlkKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xhc3NpZnlBbGxTa2lsbEJvb2tGb3JRdWFsaXR5KClcbiAgICB9LFxuICAgIHQucHJvdG90eXBlLmNsYXNzaWZ5QWxsU2tpbGxCb29rRm9yUXVhbGl0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBmb3IgKHZhciB0ID0gdGhpcy5za2lsbEJvb2tPd25lZC5sZW5ndGggLSAxOyB0ID49IDA7IHQtLSkgZm9yICh2YXIgZSA9IDA7IGUgPCB0aGlzLnNraWxsQm9va093bmVkW3RdLmxlbmd0aDsgZSsrKSB0aGlzLnNraWxsQm9va093bmVkRm9yUXVhbGl0eS5wdXNoKHRoaXMuc2tpbGxCb29rT3duZWRbdF1bZV0pO1xuICAgICAgICBmb3IgKHQgPSB0aGlzLnNraWxsQm9va05vdEdldC5sZW5ndGggLSAxOyB0ID49IDA7IHQtLSkgZm9yIChlID0gMDsgZSA8IHRoaXMuc2tpbGxCb29rTm90R2V0W3RdLmxlbmd0aDsgZSsrKSB0aGlzLnNraWxsQm9va05vdEdldEZvclF1YWxpdHkucHVzaCh0aGlzLnNraWxsQm9va05vdEdldFt0XVtlXSlcbiAgICB9LFxuICAgIHQucHJvdG90eXBlLmlzRXhpc3RTa2lsbEJvb2tGb3JJZCA9IGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNraWxsQm9va093bmVkIHx8ICF0aGlzLnNraWxsQm9va093bmVkW3QgLSAxXSB8fCB0aGlzLnNraWxsQm9va093bmVkW3QgLSAxXS5sZW5ndGggPD0gMCkgcmV0dXJuICEgMTtcbiAgICAgICAgZm9yICh2YXIgbyA9IDA7IG8gPCB0aGlzLnNraWxsQm9va093bmVkW3QgLSAxXS5sZW5ndGg7IG8rKykgaWYgKHRoaXMuc2tpbGxCb29rT3duZWRbdCAtIDFdW29dID09IGUpIHJldHVybiAhIDA7XG4gICAgICAgIHJldHVybiAhIDFcbiAgICB9LFxuICAgIHQucHJvdG90eXBlLmluaXRPd25lZFNraWxsQm9va0RhdGEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5za2lsbEJvb2tPd25lZCA9IFtbXSwgW10sIFtdLCBbXSwgW11dLFxuICAgICAgICB0aGlzLnNraWxsQm9va05vdEdldCA9IFtbXSwgW10sIFtdLCBbXSwgW11dLFxuICAgICAgICB0aGlzLnNraWxsQm9va093bmVkRm9yUXVhbGl0eSA9IFtdLFxuICAgICAgICB0aGlzLnNraWxsQm9va05vdEdldEZvclF1YWxpdHkgPSBbXSxcbiAgICAgICAgdGhpcy5jbGFzc2lmeVNraWxsQm9va0ZvclF1YWxpdHlBbmRJc093bigpXG4gICAgfSxcbiAgICB0LnByb3RvdHlwZS5nZXRDb2xvckZvclF1YWxpdHkgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgIHZhciBlID0gXCJmZmZmZmZcIjtcbiAgICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgZSA9IFwiYzBiZWJlXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBlID0gXCJhM2VjMTlcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGUgPSBcIjIxZjllYlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgZSA9IFwiY2QzZGZkXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICBlID0gXCJmZmQ3MjJcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZVxuICAgIH0sXG4gICAgdC5wcm90b3R5cGUuc2VsZUNvbG9yID0gZnVuY3Rpb24odCkge1xuICAgICAgICB2YXIgZSA9IGNjLmNvbG9yKCk7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGUgPSBjYy5jb2xvcigxOTIsIDE5MCwgMTkwKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGUgPSBjYy5jb2xvcigxNjMsIDIzNiwgMjUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgZSA9IGNjLmNvbG9yKDMzLCAyNDksIDIzNSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBlID0gY2MuY29sb3IoMjA1LCA2MSwgMjUzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIGUgPSBjYy5jb2xvcigyNTUsIDIxNSwgMzQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlXG4gICAgfSxcbiAgICB0LnByb3RvdHlwZS5nZXRSZXdhcmRGb3JUeXBlID0gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICB2YXIgbyA9IGMuUGxheWVyTWdyLmdldEluc3RhbmNlKCkuZ2VVc2VyRGF0YSgpO1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBvLmFkZEdvbGROdW0oZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBvLmFkZEluR290TnVtKGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgby5hZGRQb3dlck51bShlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgdC5wcm90b3R5cGUuZ2V0UmV3YXJkID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoZSkge1xuICAgICAgICAgICAgZm9yICh2YXIgbyA9IDAsXG4gICAgICAgICAgICBzID0gXCLph5HluIFcIixcbiAgICAgICAgICAgIHUgPSBjLlBsYXllck1nci5nZXRJbnN0YW5jZSgpLmdlVXNlckRhdGEoKSwgcCA9IDA7IHAgPCBlLmxlbmd0aDsgcCsrKSBzd2l0Y2ggKGVbcF0uZ29vZHNUeXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImdvbGRcIjpcbiAgICAgICAgICAgICAgICAgICAgdS5hZGRHb2xkTnVtKGVbcF0uaUNvdW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiaW5Hb3RcIjpcbiAgICAgICAgICAgICAgICAgICAgdS5hZGRJbkdvdE51bShlW3BdLmlDb3VudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInBvd2VyXCI6XG4gICAgICAgICAgICAgICAgICAgIHUuYWRkUG93ZXJOdW0oZVtwXS5pQ291bnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJlcXVpcFwiOlxuICAgICAgICAgICAgICAgICAgICB1LmFkZEVxdWlwRm9ySWQoZVtwXS5nb29kc0lkKSxcbiAgICAgICAgICAgICAgICBsLmRlZmF1bHQuZ2V0SW5zdGFuY2UoKS5hZGRFcXVpcENvdW50Rm9yVGFzaygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJza2lsbEJvb2tcIjpcbiAgICAgICAgICAgICAgICAgICAgdS5hZGRTa2lsbEJvb2tJZChlW3BdLmdvb2RzSWQpLFxuICAgICAgICAgICAgICAgIGwuZGVmYXVsdC5nZXRJbnN0YW5jZSgpLmFkZFNraWxsQm9va0NvdW50Rm9yVGFzaygpO1xuICAgICAgICAgICAgICAgIHZhciBnID0gbi5EYXRhTWdyLmdldEluc3RhbmNlKCkuZ2V0U2tpbGxCb29rKGVbcF0uZ29vZHNJZCk7XG4gICAgICAgICAgICAgICAgaWYgKGMuUGxheWVyTWdyLmdldEluc3RhbmNlKCkuZ2VVc2VyRGF0YSgpLmdldFNraWxsQm9va0ZvcklkKGVbcF0uZ29vZHNJZCkubGV2ZWwgPj0gZy5NYXhMZXZlbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IG4uRGF0YU1nci5nZXRJbnN0YW5jZSgpLmdldFNraWxsUXVhbGl0eShnLnF1YWxpdHlJZCksXG4gICAgICAgICAgICAgICAgICAgIGggPSBpLlV0aWxzLmdldFRhYmVsQXJyKGQuRnVsbEdyYWRlQ29tcGVuc2F0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGMuUGxheWVyTWdyLmdldEluc3RhbmNlKCkuZ2VVc2VyRGF0YSgpLnN1YlNraWxsQm9va0NvdW50KGcuaWQpLFxuICAgICAgICAgICAgICAgICAgICB0LmdldEluc3RhbmNlKCkuZ2V0UmV3YXJkRm9yVHlwZShOdW1iZXIoaFswXSksIE51bWJlcihoWzFdKSksXG4gICAgICAgICAgICAgICAgICAgIG8gKz0gTnVtYmVyKGhbMV0pLFxuICAgICAgICAgICAgICAgICAgICBzID0gbi5EYXRhTWdyLmdldEluc3RhbmNlKCkuZ2V0R29vZHNDZmcoTnVtYmVyKGhbMF0pKS5nb29kc05hbWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmlzT3ZlckVxdWlwQmFnRm9ySW5kZXgoKSA/IGEuVUlNZ3IuZ2V0SW5zdGFuY2UoKS5vcGVuVUkoci5VSUlELlVJTm90QmFnSW5kZXgsIC0xKSA6IGEuVUlNZ3IuZ2V0SW5zdGFuY2UoKS5vcGVuVUkoci5VSUlELlVJVGlwcywgLTEsIFwi6aKG5Y+W5oiQ5YqfXCIpLFxuICAgICAgICAgICAgbyA+IDAgJiYgYS5VSU1nci5nZXRJbnN0YW5jZSgpLm9wZW5VSShyLlVJSUQuVUlUaXBzLCAtMSwgXCLpg6jliIbmioDog73kuablt7Lovr7liLDmnIDlpKfnrYnnuqfvvIzoh6rliqjovazljJbkuLogXCIgKyBzICsgXCJ4XCIgKyBvKVxuICAgICAgICB9XG4gICAgfSxcbiAgICB0LnByb3RvdHlwZS5nZXRSZXdhcmREb3VibGUgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBvID0gMCxcbiAgICAgICAgICAgIHMgPSBcIumHkeW4gVwiLFxuICAgICAgICAgICAgdSA9IGMuUGxheWVyTWdyLmdldEluc3RhbmNlKCkuZ2VVc2VyRGF0YSgpLCBwID0gMDsgcCA8IGUubGVuZ3RoOyBwKyspIHN3aXRjaCAoZVtwXS5nb29kc1R5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiZ29sZFwiOlxuICAgICAgICAgICAgICAgICAgICB1LmFkZEdvbGROdW0oMiAqIGVbcF0uaUNvdW50KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiaW5Hb3RcIjpcbiAgICAgICAgICAgICAgICAgICAgdS5hZGRJbkdvdE51bSgyICogZVtwXS5pQ291bnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJwb3dlclwiOlxuICAgICAgICAgICAgICAgICAgICB1LmFkZFBvd2VyTnVtKDIgKiBlW3BdLmlDb3VudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImVxdWlwXCI6XG4gICAgICAgICAgICAgICAgICAgIHUuYWRkRXF1aXBGb3JJZChlW3BdLmdvb2RzSWQpLFxuICAgICAgICAgICAgICAgIHUuYWRkRXF1aXBGb3JJZChlW3BdLmdvb2RzSWQpLFxuICAgICAgICAgICAgICAgIGwuZGVmYXVsdC5nZXRJbnN0YW5jZSgpLmFkZEVxdWlwQ291bnRGb3JUYXNrKDIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJza2lsbEJvb2tcIjpcbiAgICAgICAgICAgICAgICAgICAgdS5hZGRTa2lsbEJvb2tJZChlW3BdLmdvb2RzSWQsIDIpLFxuICAgICAgICAgICAgICAgIGwuZGVmYXVsdC5nZXRJbnN0YW5jZSgpLmFkZFNraWxsQm9va0NvdW50Rm9yVGFzaygyKTtcbiAgICAgICAgICAgICAgICB2YXIgZyA9IG4uRGF0YU1nci5nZXRJbnN0YW5jZSgpLmdldFNraWxsQm9vayhlW3BdLmdvb2RzSWQpO1xuICAgICAgICAgICAgICAgIGlmIChjLlBsYXllck1nci5nZXRJbnN0YW5jZSgpLmdlVXNlckRhdGEoKS5nZXRTa2lsbEJvb2tGb3JJZChlW3BdLmdvb2RzSWQpLmxldmVsID49IGcuTWF4TGV2ZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSBuLkRhdGFNZ3IuZ2V0SW5zdGFuY2UoKS5nZXRTa2lsbFF1YWxpdHkoZy5xdWFsaXR5SWQpLFxuICAgICAgICAgICAgICAgICAgICBoID0gaS5VdGlscy5nZXRUYWJlbEFycihkLkZ1bGxHcmFkZUNvbXBlbnNhdGUpO1xuICAgICAgICAgICAgICAgICAgICBjLlBsYXllck1nci5nZXRJbnN0YW5jZSgpLmdlVXNlckRhdGEoKS5zdWJTa2lsbEJvb2tDb3VudChnLmlkLCAyKSxcbiAgICAgICAgICAgICAgICAgICAgdC5nZXRJbnN0YW5jZSgpLmdldFJld2FyZEZvclR5cGUoTnVtYmVyKGhbMF0pLCBOdW1iZXIoaFsxXSkpLFxuICAgICAgICAgICAgICAgICAgICBvICs9IDIgKiBOdW1iZXIoaFsxXSksXG4gICAgICAgICAgICAgICAgICAgIHMgPSBuLkRhdGFNZ3IuZ2V0SW5zdGFuY2UoKS5nZXRHb29kc0NmZyhOdW1iZXIoaFswXSkpLmdvb2RzTmFtZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaXNPdmVyRXF1aXBCYWdGb3JJbmRleCgpID8gYS5VSU1nci5nZXRJbnN0YW5jZSgpLm9wZW5VSShyLlVJSUQuVUlOb3RCYWdJbmRleCwgLTEpIDogYS5VSU1nci5nZXRJbnN0YW5jZSgpLm9wZW5VSShyLlVJSUQuVUlUaXBzLCAtMSwgXCLpooblj5bmiJDlip9cIiksXG4gICAgICAgICAgICBvID4gMCAmJiBhLlVJTWdyLmdldEluc3RhbmNlKCkub3BlblVJKHIuVUlJRC5VSVRpcHMsIC0xLCBcIumDqOWIhuaKgOiDveS5puW3sui+vuWIsOacgOWkp+etiee6p++8jOiHquWKqOi9rOWMluS4uiBcIiArIHMgKyBcInhcIiArIG8pXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHQucHJvdG90eXBlLmlzT3ZlckVxdWlwQmFnRm9ySW5kZXggPSBmdW5jdGlvbih0KSB7XG4gICAgICAgIHZvaWQgMCA9PT0gdCAmJiAodCA9IGZ1bmN0aW9uKCkge30pO1xuICAgICAgICB2YXIgZSA9IGMuUGxheWVyTWdyLmdldEluc3RhbmNlKCkuZ2VVc2VyRGF0YSgpLmdldEJhZ0luZGV4Q291bnQoKTtcbiAgICAgICAgcmV0dXJuIHMuZGVmYXVsdC5nZXRJbnN0YW5jZSgpLmdldE93bmVkRXF1aXBDb3VudCgpID4gZVxuICAgIH0sXG4gICAgdFxufSAoKTtcbm8uZGVmYXVsdCA9IHUiXX0=