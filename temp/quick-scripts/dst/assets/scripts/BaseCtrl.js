
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/BaseCtrl.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'de51cCKuzdF55057kR0mitQ', 'BaseCtrl');
// scripts/BaseCtrl.js

"use strict";

var t = require;
var e = module;
var o = exports;

var _a,
    i = void 0 && (void 0).__extends || (_a = function a(t, e) {
  return (_a = Object.setPrototypeOf || {
    __proto__: []
  } instanceof Array && function (t, e) {
    t.__proto__ = e;
  } || function (t, e) {
    for (var o in e) {
      Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
    }
  })(t, e);
}, function (t, e) {
  function o() {
    this.constructor = t;
  }

  _a(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o());
}),
    r = void 0 && (void 0).__decorate || function (t, e, o, a) {
  var i,
      r = arguments.length,
      n = r < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, o) : a;
  if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) n = Reflect.decorate(t, e, o, a);else for (var s = t.length - 1; s >= 0; s--) {
    (i = t[s]) && (n = (r < 3 ? i(n) : r > 3 ? i(e, o, n) : i(e, o)) || n);
  }
  return r > 3 && n && Object.defineProperty(e, o, n), n;
};

Object.defineProperty(o, "__esModule", {
  value: !0
});

var n = t("EventMgr"),
    s = t("ResCacheMgr"),
    c = t("ResourceMgr"),
    l = cc._decorator,
    u = l.ccclass,
    p = l.property,
    g = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    return e.cache = !1, e.resArray = [], e.eventList = [], e.isDestroy = !1, e;
  }

  return i(e, t), e.prototype.onLoad = function () {}, e.prototype.addEvent = function (t, e) {
    n.EventMgr.getInstance().on(t, this, e);
    var o = new Map();
    o.set(t, e), this.eventList.push(o);
  }, e.prototype.sendEvent = function (t, e, o, a, i, r) {
    n.EventMgr.getInstance().emit(t, e, o, a, i, r);
  }, e.prototype.loadSpriteFrame = function (t, e, o, a, i) {
    var r = this;
    void 0 === a && (a = !0), void 0 === i && (i = 10), c.ResourceMgr.getInstance().loadSpriteframe(t, e, function (i) {
      a && r.addRes(t, e, cc.SpriteFrame), r.isDestroy || o(i);
    }, a, i);
  }, e.prototype.loadRemoteSpriteFrame = function (t, e, o, a) {
    var i = this;
    void 0 === o && (o = !0), void 0 === a && (a = 10), c.ResourceMgr.getInstance().loadRemoteSpriteFrame(t, function (a) {
      o && i.addRes("", t, cc.SpriteFrame), i.isDestroy || e(a);
    }, o, a);
  }, e.prototype.loadPrefab = function (t, e, o, a, i) {
    var r = this;
    void 0 === a && (a = !0), void 0 === i && (i = 10), c.ResourceMgr.getInstance().loadRes(t, e, cc.Prefab, function (i) {
      a && r.addRes(t, e, cc.Prefab), r.isDestroy || o(i);
    }, a, i);
  }, e.prototype.loadTexture2D = function (t, e, o, a, i) {
    var r = this;
    void 0 === a && (a = !0), void 0 === i && (i = 10), c.ResourceMgr.getInstance().loadRes(t, e, cc.Texture2D, function (i) {
      a && r.addRes(t, e, cc.Texture2D), r.isDestroy || o(i);
    }, a, i);
  }, e.prototype.loadResFromBundle = function (t, e, o, a, i, r) {
    var n = this;
    void 0 === i && (i = !0), void 0 === r && (r = 10), c.ResourceMgr.getInstance().loadRes(t, e, o, function (r) {
      i && n.addRes(t, e, o), n.isDestroy || a(r);
    }, i, r);
  }, e.prototype.loadFromRes = function (t, e, o, a) {
    var i = this;
    void 0 === a && (a = 10), c.ResourceMgr.getInstance().loadFromRes(t, e, function (a) {
      i.addRes("", t, e), i.isDestroy || o(a);
    });
  }, e.prototype.addRes = function (t, e, o) {
    if (this.resArray) {
      var a = s.ResCacheMgr.getInstance().isExistKey(t + "/" + e, o.name, this.resArray);
      if (-1 != a) this.resArray[a].defCount || (this.resArray[a].defCount = 0), this.resArray[a].defCount++;else {
        var i = new c.ResCacheKey(t, e, o);
        this.resArray.push(i);
      }
    }
  }, e.prototype.release = function () {
    !this.cache && this.resArray && (s.ResCacheMgr.getInstance().refreshTime(this.resArray), this.resArray = []);
  }, e.prototype.setListenerUI = function () {}, e.prototype.onDestroy = function () {
    var t = this;

    if (this.eventList && this.eventList.length > 0) {
      for (var e = 0; e < this.eventList.length; e++) {
        this.eventList[e].forEach(function (e, o) {
          n.EventMgr.getInstance().off(o, t, e);
        });
      }

      this.eventList = null;
    }

    this.isDestroy = !0, this.release();
  }, r([p({
    displayName: "是否需要缓存资源"
  })], e.prototype, "cache", void 0), r([u], e);
}(cc.Component);

o["default"] = g;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcQmFzZUN0cmwuanMiXSwibmFtZXMiOlsidCIsInJlcXVpcmUiLCJlIiwibW9kdWxlIiwibyIsImV4cG9ydHMiLCJhIiwiaSIsIl9fZXh0ZW5kcyIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJjb25zdHJ1Y3RvciIsImNyZWF0ZSIsInIiLCJfX2RlY29yYXRlIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwibiIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIlJlZmxlY3QiLCJkZWNvcmF0ZSIsInMiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiYyIsImwiLCJjYyIsIl9kZWNvcmF0b3IiLCJ1IiwiY2NjbGFzcyIsInAiLCJwcm9wZXJ0eSIsImciLCJhcHBseSIsImNhY2hlIiwicmVzQXJyYXkiLCJldmVudExpc3QiLCJpc0Rlc3Ryb3kiLCJvbkxvYWQiLCJhZGRFdmVudCIsIkV2ZW50TWdyIiwiZ2V0SW5zdGFuY2UiLCJvbiIsIk1hcCIsInNldCIsInB1c2giLCJzZW5kRXZlbnQiLCJlbWl0IiwibG9hZFNwcml0ZUZyYW1lIiwiUmVzb3VyY2VNZ3IiLCJsb2FkU3ByaXRlZnJhbWUiLCJhZGRSZXMiLCJTcHJpdGVGcmFtZSIsImxvYWRSZW1vdGVTcHJpdGVGcmFtZSIsImxvYWRQcmVmYWIiLCJsb2FkUmVzIiwiUHJlZmFiIiwibG9hZFRleHR1cmUyRCIsIlRleHR1cmUyRCIsImxvYWRSZXNGcm9tQnVuZGxlIiwibG9hZEZyb21SZXMiLCJSZXNDYWNoZU1nciIsImlzRXhpc3RLZXkiLCJuYW1lIiwiZGVmQ291bnQiLCJSZXNDYWNoZUtleSIsInJlbGVhc2UiLCJyZWZyZXNoVGltZSIsInNldExpc3RlbmVyVUkiLCJvbkRlc3Ryb3kiLCJmb3JFYWNoIiwib2ZmIiwiZGlzcGxheU5hbWUiLCJDb21wb25lbnQiXSwibWFwcGlu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QixNQUFmLEdBQXdCLENBQTlDLEVBQWlEO01BQzdDLEtBQUssSUFBSW5CLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUcsS0FBS3VDLFNBQUwsQ0FBZXBCLE1BQW5DLEVBQTJDbkIsQ0FBQyxFQUE1QztRQUFnRCxLQUFLdUMsU0FBTCxDQUFldkMsQ0FBZixFQUFrQnlFLE9BQWxCLENBQTBCLFVBQVN6RSxDQUFULEVBQVlFLENBQVosRUFBZTtVQUNyRmtCLENBQUMsQ0FBQ3VCLFFBQUYsQ0FBV0MsV0FBWCxHQUF5QjhCLEdBQXpCLENBQTZCeEUsQ0FBN0IsRUFBZ0NKLENBQWhDLEVBQW1DRSxDQUFuQztRQUNILENBRitDO01BQWhEOztNQUdBLEtBQUt1QyxTQUFMLEdBQWlCLElBQWpCO0lBQ0g7O0lBQ0QsS0FBS0MsU0FBTCxHQUFpQixDQUFDLENBQWxCLEVBQ0EsS0FBSzZCLE9BQUwsRUFEQTtFQUVILENBbkdNLEVBb0dQckQsQ0FBQyxDQUFDLENBQUNpQixDQUFDLENBQUM7SUFDRDBDLFdBQVcsRUFBRTtFQURaLENBQUQsQ0FBRixDQUFELEVBRUkzRSxDQUFDLENBQUNXLFNBRk4sRUFFaUIsT0FGakIsRUFFMEIsS0FBSyxDQUYvQixDQXBHTSxFQXVHUEssQ0FBQyxDQUFDLENBQUNlLENBQUQsQ0FBRCxFQUFNL0IsQ0FBTixDQXZHRDtBQXdHSCxDQWpIRyxDQWlIRDZCLEVBQUUsQ0FBQytDLFNBakhGLENBTko7O0FBd0hBMUUsQ0FBQyxXQUFELEdBQVlpQyxDQUFaIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdCA9IHJlcXVpcmU7XG52YXIgZSA9IG1vZHVsZTtcbnZhciBvID0gZXhwb3J0cztcbnZhciBhLCBpID0gdGhpcyAmJiB0aGlzLl9fZXh0ZW5kcyB8fCAoYSA9IGZ1bmN0aW9uKHQsIGUpIHtcbiAgICByZXR1cm4gKGEgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwge1xuICAgICAgICBfX3Byb3RvX186IFtdXG4gICAgfVxuICAgIGluc3RhbmNlb2YgQXJyYXkgJiZcbiAgICBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIHQuX19wcm90b19fID0gZVxuICAgIH0gfHxcbiAgICBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIGZvciAodmFyIG8gaW4gZSkgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsIG8pICYmICh0W29dID0gZVtvXSlcbiAgICB9KSh0LCBlKVxufSxcbmZ1bmN0aW9uKHQsIGUpIHtcbiAgICBmdW5jdGlvbiBvKCkge1xuICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gdFxuICAgIH1cbiAgICBhKHQsIGUpLFxuICAgIHQucHJvdG90eXBlID0gbnVsbCA9PT0gZSA/IE9iamVjdC5jcmVhdGUoZSkgOiAoby5wcm90b3R5cGUgPSBlLnByb3RvdHlwZSwgbmV3IG8pXG59KSxcbnIgPSB0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSB8fFxuZnVuY3Rpb24odCwgZSwgbywgYSkge1xuICAgIHZhciBpLCByID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICBuID0gciA8IDMgPyBlOiBudWxsID09PSBhID8gYSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgbykgOiBhO1xuICAgIGlmIChcIm9iamVjdFwiID09IHR5cGVvZiBSZWZsZWN0ICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSkgbiA9IFJlZmxlY3QuZGVjb3JhdGUodCwgZSwgbywgYSk7XG4gICAgZWxzZSBmb3IgKHZhciBzID0gdC5sZW5ndGggLSAxOyBzID49IDA7IHMtLSkoaSA9IHRbc10pICYmIChuID0gKHIgPCAzID8gaShuKSA6IHIgPiAzID8gaShlLCBvLCBuKSA6IGkoZSwgbykpIHx8IG4pO1xuICAgIHJldHVybiByID4gMyAmJiBuICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBvLCBuKSxcbiAgICBuXG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6ICEwXG59KTtcbnZhciBuID0gdChcIkV2ZW50TWdyXCIpLFxucyA9IHQoXCJSZXNDYWNoZU1nclwiKSxcbmMgPSB0KFwiUmVzb3VyY2VNZ3JcIiksXG5sID0gY2MuX2RlY29yYXRvcixcbnUgPSBsLmNjY2xhc3MsXG5wID0gbC5wcm9wZXJ0eSxcbmcgPSBmdW5jdGlvbih0KSB7XG4gICAgZnVuY3Rpb24gZSgpIHtcbiAgICAgICAgdmFyIGUgPSBudWxsICE9PSB0ICYmIHQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICByZXR1cm4gZS5jYWNoZSA9ICExLFxuICAgICAgICBlLnJlc0FycmF5ID0gW10sXG4gICAgICAgIGUuZXZlbnRMaXN0ID0gW10sXG4gICAgICAgIGUuaXNEZXN0cm95ID0gITEsXG4gICAgICAgIGVcbiAgICB9XG4gICAgcmV0dXJuIGkoZSwgdCksXG4gICAgZS5wcm90b3R5cGUub25Mb2FkID0gZnVuY3Rpb24oKSB7fSxcbiAgICBlLnByb3RvdHlwZS5hZGRFdmVudCA9IGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgbi5FdmVudE1nci5nZXRJbnN0YW5jZSgpLm9uKHQsIHRoaXMsIGUpO1xuICAgICAgICB2YXIgbyA9IG5ldyBNYXA7XG4gICAgICAgIG8uc2V0KHQsIGUpLFxuICAgICAgICB0aGlzLmV2ZW50TGlzdC5wdXNoKG8pXG4gICAgfSxcbiAgICBlLnByb3RvdHlwZS5zZW5kRXZlbnQgPSBmdW5jdGlvbih0LCBlLCBvLCBhLCBpLCByKSB7XG4gICAgICAgIG4uRXZlbnRNZ3IuZ2V0SW5zdGFuY2UoKS5lbWl0KHQsIGUsIG8sIGEsIGksIHIpXG4gICAgfSxcbiAgICBlLnByb3RvdHlwZS5sb2FkU3ByaXRlRnJhbWUgPSBmdW5jdGlvbih0LCBlLCBvLCBhLCBpKSB7XG4gICAgICAgIHZhciByID0gdGhpcztcbiAgICAgICAgdm9pZCAwID09PSBhICYmIChhID0gITApLFxuICAgICAgICB2b2lkIDAgPT09IGkgJiYgKGkgPSAxMCksXG4gICAgICAgIGMuUmVzb3VyY2VNZ3IuZ2V0SW5zdGFuY2UoKS5sb2FkU3ByaXRlZnJhbWUodCwgZSxcbiAgICAgICAgZnVuY3Rpb24oaSkge1xuICAgICAgICAgICAgYSAmJiByLmFkZFJlcyh0LCBlLCBjYy5TcHJpdGVGcmFtZSksXG4gICAgICAgICAgICByLmlzRGVzdHJveSB8fCBvKGkpXG4gICAgICAgIH0sXG4gICAgICAgIGEsIGkpXG4gICAgfSxcbiAgICBlLnByb3RvdHlwZS5sb2FkUmVtb3RlU3ByaXRlRnJhbWUgPSBmdW5jdGlvbih0LCBlLCBvLCBhKSB7XG4gICAgICAgIHZhciBpID0gdGhpcztcbiAgICAgICAgdm9pZCAwID09PSBvICYmIChvID0gITApLFxuICAgICAgICB2b2lkIDAgPT09IGEgJiYgKGEgPSAxMCksXG4gICAgICAgIGMuUmVzb3VyY2VNZ3IuZ2V0SW5zdGFuY2UoKS5sb2FkUmVtb3RlU3ByaXRlRnJhbWUodCxcbiAgICAgICAgZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgbyAmJiBpLmFkZFJlcyhcIlwiLCB0LCBjYy5TcHJpdGVGcmFtZSksXG4gICAgICAgICAgICBpLmlzRGVzdHJveSB8fCBlKGEpXG4gICAgICAgIH0sXG4gICAgICAgIG8sIGEpXG4gICAgfSxcbiAgICBlLnByb3RvdHlwZS5sb2FkUHJlZmFiID0gZnVuY3Rpb24odCwgZSwgbywgYSwgaSkge1xuICAgICAgICB2YXIgciA9IHRoaXM7XG4gICAgICAgIHZvaWQgMCA9PT0gYSAmJiAoYSA9ICEwKSxcbiAgICAgICAgdm9pZCAwID09PSBpICYmIChpID0gMTApLFxuICAgICAgICBjLlJlc291cmNlTWdyLmdldEluc3RhbmNlKCkubG9hZFJlcyh0LCBlLCBjYy5QcmVmYWIsXG4gICAgICAgIGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgICAgIGEgJiYgci5hZGRSZXModCwgZSwgY2MuUHJlZmFiKSxcbiAgICAgICAgICAgIHIuaXNEZXN0cm95IHx8IG8oaSlcbiAgICAgICAgfSxcbiAgICAgICAgYSwgaSlcbiAgICB9LFxuICAgIGUucHJvdG90eXBlLmxvYWRUZXh0dXJlMkQgPSBmdW5jdGlvbih0LCBlLCBvLCBhLCBpKSB7XG4gICAgICAgIHZhciByID0gdGhpcztcbiAgICAgICAgdm9pZCAwID09PSBhICYmIChhID0gITApLFxuICAgICAgICB2b2lkIDAgPT09IGkgJiYgKGkgPSAxMCksXG4gICAgICAgIGMuUmVzb3VyY2VNZ3IuZ2V0SW5zdGFuY2UoKS5sb2FkUmVzKHQsIGUsIGNjLlRleHR1cmUyRCxcbiAgICAgICAgZnVuY3Rpb24oaSkge1xuICAgICAgICAgICAgYSAmJiByLmFkZFJlcyh0LCBlLCBjYy5UZXh0dXJlMkQpLFxuICAgICAgICAgICAgci5pc0Rlc3Ryb3kgfHwgbyhpKVxuICAgICAgICB9LFxuICAgICAgICBhLCBpKVxuICAgIH0sXG4gICAgZS5wcm90b3R5cGUubG9hZFJlc0Zyb21CdW5kbGUgPSBmdW5jdGlvbih0LCBlLCBvLCBhLCBpLCByKSB7XG4gICAgICAgIHZhciBuID0gdGhpcztcbiAgICAgICAgdm9pZCAwID09PSBpICYmIChpID0gITApLFxuICAgICAgICB2b2lkIDAgPT09IHIgJiYgKHIgPSAxMCksXG4gICAgICAgIGMuUmVzb3VyY2VNZ3IuZ2V0SW5zdGFuY2UoKS5sb2FkUmVzKHQsIGUsIG8sXG4gICAgICAgIGZ1bmN0aW9uKHIpIHtcbiAgICAgICAgICAgIGkgJiYgbi5hZGRSZXModCwgZSwgbyksXG4gICAgICAgICAgICBuLmlzRGVzdHJveSB8fCBhKHIpXG4gICAgICAgIH0sXG4gICAgICAgIGksIHIpXG4gICAgfSxcbiAgICBlLnByb3RvdHlwZS5sb2FkRnJvbVJlcyA9IGZ1bmN0aW9uKHQsIGUsIG8sIGEpIHtcbiAgICAgICAgdmFyIGkgPSB0aGlzO1xuICAgICAgICB2b2lkIDAgPT09IGEgJiYgKGEgPSAxMCksXG4gICAgICAgIGMuUmVzb3VyY2VNZ3IuZ2V0SW5zdGFuY2UoKS5sb2FkRnJvbVJlcyh0LCBlLFxuICAgICAgICBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICBpLmFkZFJlcyhcIlwiLCB0LCBlKSxcbiAgICAgICAgICAgIGkuaXNEZXN0cm95IHx8IG8oYSlcbiAgICAgICAgfSlcbiAgICB9LFxuICAgIGUucHJvdG90eXBlLmFkZFJlcyA9IGZ1bmN0aW9uKHQsIGUsIG8pIHtcbiAgICAgICAgaWYgKHRoaXMucmVzQXJyYXkpIHtcbiAgICAgICAgICAgIHZhciBhID0gcy5SZXNDYWNoZU1nci5nZXRJbnN0YW5jZSgpLmlzRXhpc3RLZXkodCArIFwiL1wiICsgZSwgby5uYW1lLCB0aGlzLnJlc0FycmF5KTtcbiAgICAgICAgICAgIGlmICggLSAxICE9IGEpIHRoaXMucmVzQXJyYXlbYV0uZGVmQ291bnQgfHwgKHRoaXMucmVzQXJyYXlbYV0uZGVmQ291bnQgPSAwKSxcbiAgICAgICAgICAgIHRoaXMucmVzQXJyYXlbYV0uZGVmQ291bnQrKztcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBpID0gbmV3IGMuUmVzQ2FjaGVLZXkodCwgZSwgbyk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNBcnJheS5wdXNoKGkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGUucHJvdG90eXBlLnJlbGVhc2UgPSBmdW5jdGlvbigpIHsgISB0aGlzLmNhY2hlICYmIHRoaXMucmVzQXJyYXkgJiYgKHMuUmVzQ2FjaGVNZ3IuZ2V0SW5zdGFuY2UoKS5yZWZyZXNoVGltZSh0aGlzLnJlc0FycmF5KSwgdGhpcy5yZXNBcnJheSA9IFtdKVxuICAgIH0sXG4gICAgZS5wcm90b3R5cGUuc2V0TGlzdGVuZXJVSSA9IGZ1bmN0aW9uKCkge30sXG4gICAgZS5wcm90b3R5cGUub25EZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRMaXN0ICYmIHRoaXMuZXZlbnRMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAodmFyIGUgPSAwOyBlIDwgdGhpcy5ldmVudExpc3QubGVuZ3RoOyBlKyspIHRoaXMuZXZlbnRMaXN0W2VdLmZvckVhY2goZnVuY3Rpb24oZSwgbykge1xuICAgICAgICAgICAgICAgIG4uRXZlbnRNZ3IuZ2V0SW5zdGFuY2UoKS5vZmYobywgdCwgZSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5ldmVudExpc3QgPSBudWxsXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc0Rlc3Ryb3kgPSAhMCxcbiAgICAgICAgdGhpcy5yZWxlYXNlKClcbiAgICB9LFxuICAgIHIoW3Aoe1xuICAgICAgICBkaXNwbGF5TmFtZTogXCLmmK/lkKbpnIDopoHnvJPlrZjotYTmupBcIlxuICAgIH0pXSwgZS5wcm90b3R5cGUsIFwiY2FjaGVcIiwgdm9pZCAwKSxcbiAgICByKFt1XSwgZSlcbn0gKGNjLkNvbXBvbmVudCk7XG5vLmRlZmF1bHQgPSBnIl19