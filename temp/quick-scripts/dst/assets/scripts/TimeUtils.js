
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/TimeUtils.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'cae10zFespM0axe3QtxMfqW', 'TimeUtils');
// scripts/TimeUtils.js

"use strict";

var t = require;
var e = module;
var o = exports;
Object.defineProperty(o, "__esModule", {
  value: !0
}), o.TimeUtils = void 0;

var a = function () {
  function t() {}

  return t.GetTimeBySecond = function () {
    var t = new Date();
    return Math.floor(t.getTime() / 1e3);
  }, t.GetTimeByHours = function () {
    var t = new Date(),
        e = t.getHours(),
        o = Math.floor(e / 10).toString() + e % 10,
        a = t.getMinutes();
    return o + ":" + (Math.floor(a / 10).toString() + a % 10);
  }, t.GetTimeByHours2 = function () {
    var t = new Date(),
        e = t.getHours(),
        o = Math.floor(e / 10).toString() + e % 10,
        a = t.getMinutes(),
        i = Math.floor(a / 10).toString() + a % 10,
        r = t.getSeconds(),
        n = Math.floor(r / 10).toString() + r % 10,
        s = t.getMilliseconds();
    return o + ":" + i + ":" + n + ":" + (Math.floor(s / 10).toString() + s % 10);
  }, t.SecondToHours = function (t) {
    var e = t % 60;
    e = Math.floor(e / 10).toString() + e % 10;
    var o = Math.floor(t / 60) % 60;
    o = Math.floor(o / 10).toString() + o % 10;
    var a = Math.floor(t / 60 / 60);
    return (a = Math.floor(a / 10).toString() + a % 10) + ":" + o + ":" + e;
  }, t.SecondToMinutes = function (t) {
    var e = t % 60;
    e = Math.floor(e / 10).toString() + e % 10;
    var o = Math.floor(t / 60) % 60;
    return (o = Math.floor(o / 10).toString() + o % 10) + ":" + e;
  }, t.FormatDate2 = function (t) {
    var e = new Date(t),
        o = 10 > e.getMonth() + 1 ? "0" + (e.getMonth() + 1) : e.getMonth() + 1,
        a = 10 > e.getDate() ? "0" + e.getDate() : e.getDate();
    return e.getFullYear() + "-" + o + "-" + a;
  }, t.FormatDate1 = function (t, e) {
    void 0 === e && (e = "/");
    var o = new Date(t);
    return o.getFullYear() + e + (o.getUTCMonth() + 1) + e + o.getUTCDate();
  }, t.BeforeTime = function (t) {
    if (null == t) return "";
    var e = new Date(),
        o = Math.floor(e.getTime() / 1e3) - t;
    return o <= 0 && (o = 1), Math.floor(o / 60 / 60 / 24) > 0 ? Math.floor(o / 60 / 60 / 24) + "天前" : Math.floor(o / 60 / 60) > 0 ? Math.floor(o / 60 / 60) + "小时前" : Math.floor(o / 60) > 0 ? Math.floor(o / 60) + "分钟前" : Math.floor(o) + "秒前";
  }, t.compareIsToday = function (t) {
    var e = new Date(1e3 * t),
        o = e.getFullYear(),
        a = e.getUTCMonth(),
        i = e.getUTCDay(),
        r = new Date(1e3 * this.GetTimeBySecond()),
        n = r.getFullYear(),
        s = r.getUTCMonth(),
        c = r.getUTCDay();
    return o == n && a == s && i == c;
  }, t.overDay = function (t) {
    var e = new Date(t),
        o = new Date(this.dayStart());
    return Math.floor((o.getTime() - e.getTime()) / 864e5);
  }, t.dayStart = function () {
    return new Date(new Date(new Date().toLocaleDateString()).getTime()).getTime();
  }, t.dayEnd = function () {
    return new Date(new Date(new Date().toLocaleDateString()).getTime() + 864e5 - 1).getTime();
  }, t.getDiffHours = function (t) {
    return new Date().getHours() - new Date(1e3 * t).getHours();
  }, t.getDiffMins = function (t) {
    return this.GetTimeBySecond() - t;
  }, t.getSplaceTime = function (t, e) {
    var o = new Date();
    return o.getHours() >= t ? o.setHours(t + 24) : o.setHours(t), o.setMinutes(e), o.setSeconds(0), Number((o.getTime() / 1e3).toFixed(0));
  }, t.isLastDayOfMonth = function (t) {
    var e = !1,
        o = new Date(t),
        a = o.getFullYear(),
        i = o.getMonth() + 1,
        r = o.getDate(),
        n = a,
        s = i++;
    i > 12 && (s -= 12, n++);
    var c = new Date(n, s, 1);
    return r == new Date(c.getTime() - 864e5).getDate() && (e = !0), e;
  }, t.timeExchange = function (t, e) {
    return 1 == t ? Math.floor(e / 60) : Math.floor(e / 3600);
  }, t;
}();

o.TimeUtils = a;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcVGltZVV0aWxzLmpzIl0sIm5hbWVzIjpbInQiLCJyZXF1aXJlIiwiZSIsIm1vZHVsZSIsIm8iLCJleHBvcnRzIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIlRpbWVVdGlscyIsImEiLCJHZXRUaW1lQnlTZWNvbmQiLCJEYXRlIiwiTWF0aCIsImZsb29yIiwiZ2V0VGltZSIsIkdldFRpbWVCeUhvdXJzIiwiZ2V0SG91cnMiLCJ0b1N0cmluZyIsImdldE1pbnV0ZXMiLCJHZXRUaW1lQnlIb3VyczIiLCJpIiwiciIsImdldFNlY29uZHMiLCJuIiwicyIsImdldE1pbGxpc2Vjb25kcyIsIlNlY29uZFRvSG91cnMiLCJTZWNvbmRUb01pbnV0ZXMiLCJGb3JtYXREYXRlMiIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsImdldEZ1bGxZZWFyIiwiRm9ybWF0RGF0ZTEiLCJnZXRVVENNb250aCIsImdldFVUQ0RhdGUiLCJCZWZvcmVUaW1lIiwiY29tcGFyZUlzVG9kYXkiLCJnZXRVVENEYXkiLCJjIiwib3ZlckRheSIsImRheVN0YXJ0IiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwiZGF5RW5kIiwiZ2V0RGlmZkhvdXJzIiwiZ2V0RGlmZk1pbnMiLCJnZXRTcGxhY2VUaW1lIiwic2V0SG91cnMiLCJzZXRNaW51dGVzIiwic2V0U2Vjb25kcyIsIk51bWJlciIsInRvRml4ZWQiLCJpc0xhc3REYXlPZk1vbnRoIiwidGltZUV4Y2hhbmdlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLENBQUMsR0FBR0MsT0FBUjtBQUNBLElBQUlDLENBQUMsR0FBR0MsTUFBUjtBQUNBLElBQUlDLENBQUMsR0FBR0MsT0FBUjtBQUNBQyxNQUFNLENBQUNDLGNBQVAsQ0FBc0JILENBQXRCLEVBQXlCLFlBQXpCLEVBQXVDO0VBQ25DSSxLQUFLLEVBQUUsQ0FBQztBQUQyQixDQUF2QyxHQUdBSixDQUFDLENBQUNLLFNBQUYs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QyxDQUFkIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdCA9IHJlcXVpcmU7XG52YXIgZSA9IG1vZHVsZTtcbnZhciBvID0gZXhwb3J0cztcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiAhMFxufSksXG5vLlRpbWVVdGlscyA9IHZvaWQgMDtcbnZhciBhID0gZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gdCgpIHt9XG4gICAgcmV0dXJuIHQuR2V0VGltZUJ5U2Vjb25kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0ID0gbmV3IERhdGU7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHQuZ2V0VGltZSgpIC8gMWUzKVxuICAgIH0sXG4gICAgdC5HZXRUaW1lQnlIb3VycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdCA9IG5ldyBEYXRlLFxuICAgICAgICBlID0gdC5nZXRIb3VycygpLFxuICAgICAgICBvID0gTWF0aC5mbG9vcihlIC8gMTApLnRvU3RyaW5nKCkgKyBlICUgMTAsXG4gICAgICAgIGEgPSB0LmdldE1pbnV0ZXMoKTtcbiAgICAgICAgcmV0dXJuIG8gKyBcIjpcIiArIChNYXRoLmZsb29yKGEgLyAxMCkudG9TdHJpbmcoKSArIGEgJSAxMClcbiAgICB9LFxuICAgIHQuR2V0VGltZUJ5SG91cnMyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0ID0gbmV3IERhdGUsXG4gICAgICAgIGUgPSB0LmdldEhvdXJzKCksXG4gICAgICAgIG8gPSBNYXRoLmZsb29yKGUgLyAxMCkudG9TdHJpbmcoKSArIGUgJSAxMCxcbiAgICAgICAgYSA9IHQuZ2V0TWludXRlcygpLFxuICAgICAgICBpID0gTWF0aC5mbG9vcihhIC8gMTApLnRvU3RyaW5nKCkgKyBhICUgMTAsXG4gICAgICAgIHIgPSB0LmdldFNlY29uZHMoKSxcbiAgICAgICAgbiA9IE1hdGguZmxvb3IociAvIDEwKS50b1N0cmluZygpICsgciAlIDEwLFxuICAgICAgICBzID0gdC5nZXRNaWxsaXNlY29uZHMoKTtcbiAgICAgICAgcmV0dXJuIG8gKyBcIjpcIiArIGkgKyBcIjpcIiArIG4gKyBcIjpcIiArIChNYXRoLmZsb29yKHMgLyAxMCkudG9TdHJpbmcoKSArIHMgJSAxMClcbiAgICB9LFxuICAgIHQuU2Vjb25kVG9Ib3VycyA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgdmFyIGUgPSB0ICUgNjA7XG4gICAgICAgIGUgPSBNYXRoLmZsb29yKGUgLyAxMCkudG9TdHJpbmcoKSArIGUgJSAxMDtcbiAgICAgICAgdmFyIG8gPSBNYXRoLmZsb29yKHQgLyA2MCkgJSA2MDtcbiAgICAgICAgbyA9IE1hdGguZmxvb3IobyAvIDEwKS50b1N0cmluZygpICsgbyAlIDEwO1xuICAgICAgICB2YXIgYSA9IE1hdGguZmxvb3IodCAvIDYwIC8gNjApO1xuICAgICAgICByZXR1cm4gKGEgPSBNYXRoLmZsb29yKGEgLyAxMCkudG9TdHJpbmcoKSArIGEgJSAxMCkgKyBcIjpcIiArIG8gKyBcIjpcIiArIGVcbiAgICB9LFxuICAgIHQuU2Vjb25kVG9NaW51dGVzID0gZnVuY3Rpb24odCkge1xuICAgICAgICB2YXIgZSA9IHQgJSA2MDtcbiAgICAgICAgZSA9IE1hdGguZmxvb3IoZSAvIDEwKS50b1N0cmluZygpICsgZSAlIDEwO1xuICAgICAgICB2YXIgbyA9IE1hdGguZmxvb3IodCAvIDYwKSAlIDYwO1xuICAgICAgICByZXR1cm4gKG8gPSBNYXRoLmZsb29yKG8gLyAxMCkudG9TdHJpbmcoKSArIG8gJSAxMCkgKyBcIjpcIiArIGVcbiAgICB9LFxuICAgIHQuRm9ybWF0RGF0ZTIgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgIHZhciBlID0gbmV3IERhdGUodCksXG4gICAgICAgIG8gPSAxMCA+IGUuZ2V0TW9udGgoKSArIDEgPyBcIjBcIiArIChlLmdldE1vbnRoKCkgKyAxKSA6IGUuZ2V0TW9udGgoKSArIDEsXG4gICAgICAgIGEgPSAxMCA+IGUuZ2V0RGF0ZSgpID8gXCIwXCIgKyBlLmdldERhdGUoKSA6IGUuZ2V0RGF0ZSgpO1xuICAgICAgICByZXR1cm4gZS5nZXRGdWxsWWVhcigpICsgXCItXCIgKyBvICsgXCItXCIgKyBhXG4gICAgfSxcbiAgICB0LkZvcm1hdERhdGUxID0gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICB2b2lkIDAgPT09IGUgJiYgKGUgPSBcIi9cIik7XG4gICAgICAgIHZhciBvID0gbmV3IERhdGUodCk7XG4gICAgICAgIHJldHVybiBvLmdldEZ1bGxZZWFyKCkgKyBlICsgKG8uZ2V0VVRDTW9udGgoKSArIDEpICsgZSArIG8uZ2V0VVRDRGF0ZSgpXG4gICAgfSxcbiAgICB0LkJlZm9yZVRpbWUgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgIGlmIChudWxsID09IHQpIHJldHVybiBcIlwiO1xuICAgICAgICB2YXIgZSA9IG5ldyBEYXRlLFxuICAgICAgICBvID0gTWF0aC5mbG9vcihlLmdldFRpbWUoKSAvIDFlMykgLSB0O1xuICAgICAgICByZXR1cm4gbyA8PSAwICYmIChvID0gMSksXG4gICAgICAgIE1hdGguZmxvb3IobyAvIDYwIC8gNjAgLyAyNCkgPiAwID8gTWF0aC5mbG9vcihvIC8gNjAgLyA2MCAvIDI0KSArIFwi5aSp5YmNXCI6IE1hdGguZmxvb3IobyAvIDYwIC8gNjApID4gMCA/IE1hdGguZmxvb3IobyAvIDYwIC8gNjApICsgXCLlsI/ml7bliY1cIjogTWF0aC5mbG9vcihvIC8gNjApID4gMCA/IE1hdGguZmxvb3IobyAvIDYwKSArIFwi5YiG6ZKf5YmNXCI6IE1hdGguZmxvb3IobykgKyBcIuenkuWJjVwiXG4gICAgfSxcbiAgICB0LmNvbXBhcmVJc1RvZGF5ID0gZnVuY3Rpb24odCkge1xuICAgICAgICB2YXIgZSA9IG5ldyBEYXRlKDFlMyAqIHQpLFxuICAgICAgICBvID0gZS5nZXRGdWxsWWVhcigpLFxuICAgICAgICBhID0gZS5nZXRVVENNb250aCgpLFxuICAgICAgICBpID0gZS5nZXRVVENEYXkoKSxcbiAgICAgICAgciA9IG5ldyBEYXRlKDFlMyAqIHRoaXMuR2V0VGltZUJ5U2Vjb25kKCkpLFxuICAgICAgICBuID0gci5nZXRGdWxsWWVhcigpLFxuICAgICAgICBzID0gci5nZXRVVENNb250aCgpLFxuICAgICAgICBjID0gci5nZXRVVENEYXkoKTtcbiAgICAgICAgcmV0dXJuIG8gPT0gbiAmJiBhID09IHMgJiYgaSA9PSBjXG4gICAgfSxcbiAgICB0Lm92ZXJEYXkgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgIHZhciBlID0gbmV3IERhdGUodCksXG4gICAgICAgIG8gPSBuZXcgRGF0ZSh0aGlzLmRheVN0YXJ0KCkpO1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcigoby5nZXRUaW1lKCkgLSBlLmdldFRpbWUoKSkgLyA4NjRlNSlcbiAgICB9LFxuICAgIHQuZGF5U3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKG5ldyBEYXRlKG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCkpLmdldFRpbWUoKSkuZ2V0VGltZSgpXG4gICAgfSxcbiAgICB0LmRheUVuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUobmV3IERhdGUobmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKSkuZ2V0VGltZSgpICsgODY0ZTUgLSAxKS5nZXRUaW1lKClcbiAgICB9LFxuICAgIHQuZ2V0RGlmZkhvdXJzID0gZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRIb3VycygpIC0gbmV3IERhdGUoMWUzICogdCkuZ2V0SG91cnMoKVxuICAgIH0sXG4gICAgdC5nZXREaWZmTWlucyA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuR2V0VGltZUJ5U2Vjb25kKCkgLSB0XG4gICAgfSxcbiAgICB0LmdldFNwbGFjZVRpbWUgPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIHZhciBvID0gbmV3IERhdGU7XG4gICAgICAgIHJldHVybiBvLmdldEhvdXJzKCkgPj0gdCA/IG8uc2V0SG91cnModCArIDI0KSA6IG8uc2V0SG91cnModCksXG4gICAgICAgIG8uc2V0TWludXRlcyhlKSxcbiAgICAgICAgby5zZXRTZWNvbmRzKDApLFxuICAgICAgICBOdW1iZXIoKG8uZ2V0VGltZSgpIC8gMWUzKS50b0ZpeGVkKDApKVxuICAgIH0sXG4gICAgdC5pc0xhc3REYXlPZk1vbnRoID0gZnVuY3Rpb24odCkge1xuICAgICAgICB2YXIgZSA9ICExLFxuICAgICAgICBvID0gbmV3IERhdGUodCksXG4gICAgICAgIGEgPSBvLmdldEZ1bGxZZWFyKCksXG4gICAgICAgIGkgPSBvLmdldE1vbnRoKCkgKyAxLFxuICAgICAgICByID0gby5nZXREYXRlKCksXG4gICAgICAgIG4gPSBhLFxuICAgICAgICBzID0gaSsrO1xuICAgICAgICBpID4gMTIgJiYgKHMgLT0gMTIsIG4rKyk7XG4gICAgICAgIHZhciBjID0gbmV3IERhdGUobiwgcywgMSk7XG4gICAgICAgIHJldHVybiByID09IG5ldyBEYXRlKGMuZ2V0VGltZSgpIC0gODY0ZTUpLmdldERhdGUoKSAmJiAoZSA9ICEwKSxcbiAgICAgICAgZVxuICAgIH0sXG4gICAgdC50aW1lRXhjaGFuZ2UgPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIHJldHVybiAxID09IHQgPyBNYXRoLmZsb29yKGUgLyA2MCkgOiBNYXRoLmZsb29yKGUgLyAzNjAwKVxuICAgIH0sXG4gICAgdFxufSAoKTtcbm8uVGltZVV0aWxzID0gYSJdfQ==