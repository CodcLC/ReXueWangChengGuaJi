
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/UIGeneralWindow.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '7b79dUsggpEjrkbZYKtndlC', 'UIGeneralWindow');
// scripts/UIGeneralWindow.js

"use strict";

var t = require;
var e = module;
var o = exports;

var _a,
    i = void 0 && (void 0).__extends || (_a = function a(t, e) {
  return (_a = Object.setPrototypeOf || {
    __proto__: []
  } instanceof Array && function (t, e) {
    t.__proto__ = e;
  } || function (t, e) {
    for (var o in e) {
      Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
    }
  })(t, e);
}, function (t, e) {
  function o() {
    this.constructor = t;
  }

  _a(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o());
}),
    r = void 0 && (void 0).__decorate || function (t, e, o, a) {
  var i,
      r = arguments.length,
      n = r < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, o) : a;
  if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) n = Reflect.decorate(t, e, o, a);else for (var s = t.length - 1; s >= 0; s--) {
    (i = t[s]) && (n = (r < 3 ? i(n) : r > 3 ? i(e, o, n) : i(e, o)) || n);
  }
  return r > 3 && n && Object.defineProperty(e, o, n), n;
};

Object.defineProperty(o, "__esModule", {
  value: !0
});

var n = t("BaseUI"),
    s = t("EventMgr"),
    c = t("SdkMgr"),
    l = t("UIMgr"),
    u = t("TimeUtils"),
    p = t("Config"),
    g = t("TrackDataEvent"),
    d = t("DataMgr"),
    h = t("PlayerMgr"),
    f = cc._decorator,
    m = f.ccclass,
    y = f.property,
    v = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    return e.SpPower = null, e.SpGold = null, e.SpInGot = null, e.BtnBack = null, e.BtnFalse = null, e.BtnTrue = null, e.LabTitle = null, e.SpIcon = null, e.LabNum = null, e.LayoutBtn = null, e.curTurnView = p.UIID.UIHome, e.curwindowType = p.GeneralWindowType.GoldWindow, e.curGoodsCount = 100, e.callback = null, e;
  }

  return i(e, t), e.prototype.init = function (t, e) {
    this.curwindowType = t || p.GeneralWindowType.GoldWindow, this.callback = e || function () {};
  }, e.prototype.onLoad = function () {}, e.prototype.start = function () {
    this.registerBtnListener(), this.initView();
  }, e.prototype.onClose = function () {}, e.prototype.initView = function () {
    var t = h.PlayerMgr.getInstance().geUserData().getCurSec();

    switch (this.curwindowType) {
      case p.GeneralWindowType.PowerWindow:
        this.SpIcon.spriteFrame = this.SpPower, this.LabTitle.string = "免费体力", this.curGoodsCount = d.DataMgr.getInstance().getGoodsCountForType(3), this.LabNum.string = "体力x" + this.curGoodsCount;
        break;

      case p.GeneralWindowType.GoldWindow:
        this.SpIcon.spriteFrame = this.SpGold, this.LabTitle.string = "免费金币", this.curGoodsCount = d.DataMgr.getInstance().getGoodsCountForTypeAndSec(1, t), this.LabNum.string = "金币x" + this.curGoodsCount;
        break;

      case p.GeneralWindowType.InGotWindow:
        this.SpIcon.spriteFrame = this.SpInGot, this.LabTitle.string = "免费元宝";
        var e = h.PlayerMgr.getInstance().geUserData().getInGotGetCount();
        this.curGoodsCount = d.DataMgr.getInstance().getGoodsCountForTypeAndSec(2, e), this.LabNum.string = "元宝x" + this.curGoodsCount;
    }
  }, e.prototype.registerBtnListener = function () {
    var t = this;
    this.BtnBack.on(cc.Node.EventType.TOUCH_END, function () {
      t.closeView();
    }), this.BtnFalse.on(cc.Node.EventType.TOUCH_END, function () {
      t.closeView();
    }), this.BtnTrue.on(cc.Node.EventType.TOUCH_END, function () {
      var e = u.TimeUtils.GetTimeBySecond(),
          o = u.TimeUtils.GetTimeByHours2();
      c.SdkMgr.getInstance().playVideo(1, function () {
        t.getReward(e, o), t.callback && t.callback(), t.closeView();
      });
    });
  }, e.prototype.getReward = function (t, e) {
    var o = u.TimeUtils.GetTimeBySecond(),
        a = u.TimeUtils.GetTimeByHours2();

    switch (this.curwindowType) {
      case p.GeneralWindowType.PowerWindow:
        h.PlayerMgr.getInstance().getTrackData().testTrackTime("strength", e, a, t, o), h.PlayerMgr.getInstance().geUserData().addPowerNum(this.curGoodsCount), l.UIMgr.getInstance().openUI(p.UIID.UITips, -1, "成功领取 体力x" + this.curGoodsCount), h.PlayerMgr.getInstance().getTrackData().youmengTrack(g.TrackId.strength), h.PlayerMgr.getInstance().getTrackData().youmengTrackNew("strength_b");
        break;

      case p.GeneralWindowType.GoldWindow:
        h.PlayerMgr.getInstance().getTrackData().testTrackTime("coin", e, a, t, o), h.PlayerMgr.getInstance().geUserData().addGoldNum(this.curGoodsCount), l.UIMgr.getInstance().openUI(p.UIID.UITips, -1, "成功领取 金币x" + this.curGoodsCount), h.PlayerMgr.getInstance().getTrackData().youmengTrack(g.TrackId.coin), h.PlayerMgr.getInstance().getTrackData().youmengTrackNew("coin_b");
        break;

      case p.GeneralWindowType.InGotWindow:
        h.PlayerMgr.getInstance().getTrackData().testTrackTime("ingot", e, a, t, o), h.PlayerMgr.getInstance().geUserData().addInGotNum(this.curGoodsCount), l.UIMgr.getInstance().openUI(p.UIID.UITips, -1, "成功领取 元宝x" + this.curGoodsCount), h.PlayerMgr.getInstance().getTrackData().youmengTrack(g.TrackId.ingot), h.PlayerMgr.getInstance().getTrackData().youmengTrackNew("ingot_b"), h.PlayerMgr.getInstance().geUserData().addInGotGetCount();
    }

    s.EventMgr.getInstance().emit(p.EventName.RefreshStrengthenLv), s.EventMgr.getInstance().emit(p.EventName.RefreshShopRedDot);
  }, e.prototype.closeView = function () {
    this.closeUI();
  }, r([y(cc.SpriteFrame)], e.prototype, "SpPower", void 0), r([y(cc.SpriteFrame)], e.prototype, "SpGold", void 0), r([y(cc.SpriteFrame)], e.prototype, "SpInGot", void 0), r([y(cc.Node)], e.prototype, "BtnBack", void 0), r([y(cc.Node)], e.prototype, "BtnFalse", void 0), r([y(cc.Node)], e.prototype, "BtnTrue", void 0), r([y(cc.Label)], e.prototype, "LabTitle", void 0), r([y(cc.Sprite)], e.prototype, "SpIcon", void 0), r([y(cc.Label)], e.prototype, "LabNum", void 0), r([y(cc.Node)], e.prototype, "LayoutBtn", void 0), r([m], e);
}(n["default"]);

o["default"] = v;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcVUlHZW5lcmFsV2luZG93LmpzIl0sIm5hbWVzIjpbInQiLCJyZXF1aXJlIiwiZSIsIm1vZHVsZSIsIm8iLCJleHBvcnRzIiwiYSIsImkiLCJfX2V4dGVuZHMiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJyIiwiX19kZWNvcmF0ZSIsImFyZ3VtZW50cyIsImxlbmd0aCIsIm4iLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJzIiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsImMiLCJsIiwidSIsInAiLCJnIiwiZCIsImgiLCJmIiwiY2MiLCJfZGVjb3JhdG9yIiwibSIsImNjY2xhc3MiLCJ5IiwicHJvcGVydHkiLCJ2IiwiYXBwbHkiLCJTcFBvd2VyIiwiU3BHb2xkIiwiU3BJbkdvdCIsIkJ0bkJhY2siLCJCdG5GYWxzZSIsIkJ0blRydWUiLCJMYWJUaXRsZSIsIlNwSWNvbiIsIkxhYk51bSIsIkxheW91dEJ0biIsImN1clR1cm5WaWV3IiwiVUlJRCIsIlVJSG9tZSIsImN1cndpbmRvd1R5cGUiLCJHZW5lcmFsV2luZG93VHlwZSIsIkdvbGRXaW5kb3ciLCJjdXJHb29kc0NvdW50IiwiY2FsbGJhY2siLCJpbml0Iiwib25Mb2FkIiwic3RhcnQiLCJyZWdpc3RlckJ0bkxpc3RlbmVyIiwiaW5pdFZpZXciLCJvbkNsb3NlIiwiUGxheWVyTWdyIiwiZ2V0SW5zdGFuY2UiLCJnZVVzZXJEYXRhIiwiZ2V0Q3VyU2VjIiwiUG93ZXJXaW5kb3ciLCJzcHJpdGVGcmFtZSIsInN0cmluZyIsIkRhdGFNZ3IiLCJnZXRHb29kc0NvdW50Rm9yVHlwZSIsImdldEdvb2RzQ291bnRGb3JUeXBlQW5kU2VjIiwiSW5Hb3RXaW5kb3ciLCJnZXRJbkdvdEdldENvdW50Iiwib24iLCJOb2RlIiwiRXZlbnRUeXBlIiwiVE9VQ0hfRU5EIiwiY2xvc2VWaWV3IiwiVGltZVV0aWxzIiwiR2V0VGltZUJ5U2Vjb25kIiwiR2V0VGltZUJ5SG91cnMyIiwiU2RrTWdyIiwicGxheVZpZGVvIiwiZ2V0UmV3YXJkIiwiZ2V0VHJhY2tEYXRhIiwidGVzdFRyYWNrVGltZSIsImFkZFBvd2VyTnVtIiwiVUlNZ3IiLCJvcGVuVUkiLCJVSVRpcHMiLCJ5b3VtZW5nVHJhY2siLCJUcmFja0lkIiwic3RyZW5ndGgiLCJ5b3VtZW5nVHJhY2tOZXciLCJhZGRHb2xkTnVtIiwiY29pbiIsImFkZEluR290TnVtIiwiaW5nb3QiLCJhZGRJbkdvdEdldENvdW50IiwiRXZlbnRNZ3IiLCJlbWl0IiwiRXZlbnROYW1lIiwiUmVmcmVzaFN0cmVuZ3RoZW5MdiIsIlJlZnJlc2hTaG9wUmVkRG90IiwiY2xvc2VVSSIsIlNwcml0ZUZyYW1lIiwiTGFiZWwiLCJTcHJpdGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsQ0FBQyxHQUFHQyxPQUFSO0FBQ0EsSUFBSUMsQ0FBQyxHQUFHQyxNQUFSO0FBQ0EsSUFBSUMsQ0FBQyxHQUFHQyxPQUFSOztBQUNBLElBQUlDLEVBQUo7QUFBQSxJQUFPQyxDQUFDLEdBQUcsVUFBUSxTQUFLQyxTQUFiLEtBQTJCRixFQUFDLEdBQUcsV0FBU04sQ0FBVCxFQUFZRSxDQUFaLEVBQWU7RUFDckQsT0FBTyxDQUFDSSxFQUFDLEdBQUdHLE1BQU0sQ0FBQ0MsY0FBUCxJQUF5QjtJQUNqQ0MsU0FBUyxFQUFFO0VBRHNCLGFBRzFCQyxLQUgwQixJQUlyQyxVQUFTWixDQUFULEVBQVlFLENBQVosRUFBZTtJQUNYRixDQUFDLENBQUNXLFNBQUYsR0FBY1QsQ0FBZDtFQUNILENBTlcsSUFPWixVQUFTRixDQUFULEVBQVlFLENBQVosRUFBZTtJQUNYLEtBQUssSUFBSUUsQ0FBVCxJQUFjRixDQUFkO01BQWlCTyxNQUFNLENBQUNJLFNBQVAsQ0FBaUJDLGNB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QTdCLEVBQXlDLEtBQUssQ0FBOUMsQ0EvRk0sRUFnR1BLLENBQUMsQ0FBQyxDQUFDdUIsQ0FBQyxDQUFDSixFQUFFLENBQUM4RSxNQUFKLENBQUYsQ0FBRCxFQUFpQmpILENBQUMsQ0FBQ1csU0FBbkIsRUFBOEIsUUFBOUIsRUFBd0MsS0FBSyxDQUE3QyxDQWhHTSxFQWlHUEssQ0FBQyxDQUFDLENBQUN1QixDQUFDLENBQUNKLEVBQUUsQ0FBQzZFLEtBQUosQ0FBRixDQUFELEVBQWdCaEgsQ0FBQyxDQUFDVyxTQUFsQixFQUE2QixRQUE3QixFQUF1QyxLQUFLLENBQTVDLENBakdNLEVBa0dQSyxDQUFDLENBQUMsQ0FBQ3VCLENBQUMsQ0FBQ0osRUFBRSxDQUFDNkMsSUFBSixDQUFGLENBQUQsRUFBZWhGLENBQUMsQ0FBQ1csU0FBakIsRUFBNEIsV0FBNUIsRUFBeUMsS0FBSyxDQUE5QyxDQWxHTSxFQW1HUEssQ0FBQyxDQUFDLENBQUNxQixDQUFELENBQUQsRUFBTXJDLENBQU4sQ0FuR0Q7QUFvR0gsQ0F2SEcsQ0F1SERvQixDQUFDLFdBdkhBLENBWko7O0FBb0lBbEIsQ0FBQyxXQUFELEdBQVl1QyxDQUFaIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdCA9IHJlcXVpcmU7XG52YXIgZSA9IG1vZHVsZTtcbnZhciBvID0gZXhwb3J0cztcbnZhciBhLCBpID0gdGhpcyAmJiB0aGlzLl9fZXh0ZW5kcyB8fCAoYSA9IGZ1bmN0aW9uKHQsIGUpIHtcbiAgICByZXR1cm4gKGEgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwge1xuICAgICAgICBfX3Byb3RvX186IFtdXG4gICAgfVxuICAgIGluc3RhbmNlb2YgQXJyYXkgJiZcbiAgICBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIHQuX19wcm90b19fID0gZVxuICAgIH0gfHxcbiAgICBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIGZvciAodmFyIG8gaW4gZSkgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsIG8pICYmICh0W29dID0gZVtvXSlcbiAgICB9KSh0LCBlKVxufSxcbmZ1bmN0aW9uKHQsIGUpIHtcbiAgICBmdW5jdGlvbiBvKCkge1xuICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gdFxuICAgIH1cbiAgICBhKHQsIGUpLFxuICAgIHQucHJvdG90eXBlID0gbnVsbCA9PT0gZSA/IE9iamVjdC5jcmVhdGUoZSkgOiAoby5wcm90b3R5cGUgPSBlLnByb3RvdHlwZSwgbmV3IG8pXG59KSxcbnIgPSB0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSB8fFxuZnVuY3Rpb24odCwgZSwgbywgYSkge1xuICAgIHZhciBpLCByID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICBuID0gciA8IDMgPyBlOiBudWxsID09PSBhID8gYSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgbykgOiBhO1xuICAgIGlmIChcIm9iamVjdFwiID09IHR5cGVvZiBSZWZsZWN0ICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSkgbiA9IFJlZmxlY3QuZGVjb3JhdGUodCwgZSwgbywgYSk7XG4gICAgZWxzZSBmb3IgKHZhciBzID0gdC5sZW5ndGggLSAxOyBzID49IDA7IHMtLSkoaSA9IHRbc10pICYmIChuID0gKHIgPCAzID8gaShuKSA6IHIgPiAzID8gaShlLCBvLCBuKSA6IGkoZSwgbykpIHx8IG4pO1xuICAgIHJldHVybiByID4gMyAmJiBuICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBvLCBuKSxcbiAgICBuXG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6ICEwXG59KTtcbnZhciBuID0gdChcIkJhc2VVSVwiKSxcbnMgPSB0KFwiRXZlbnRNZ3JcIiksXG5jID0gdChcIlNka01nclwiKSxcbmwgPSB0KFwiVUlNZ3JcIiksXG51ID0gdChcIlRpbWVVdGlsc1wiKSxcbnAgPSB0KFwiQ29uZmlnXCIpLFxuZyA9IHQoXCJUcmFja0RhdGFFdmVudFwiKSxcbmQgPSB0KFwiRGF0YU1nclwiKSxcbmggPSB0KFwiUGxheWVyTWdyXCIpLFxuZiA9IGNjLl9kZWNvcmF0b3IsXG5tID0gZi5jY2NsYXNzLFxueSA9IGYucHJvcGVydHksXG52ID0gZnVuY3Rpb24odCkge1xuICAgIGZ1bmN0aW9uIGUoKSB7XG4gICAgICAgIHZhciBlID0gbnVsbCAhPT0gdCAmJiB0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgcmV0dXJuIGUuU3BQb3dlciA9IG51bGwsXG4gICAgICAgIGUuU3BHb2xkID0gbnVsbCxcbiAgICAgICAgZS5TcEluR290ID0gbnVsbCxcbiAgICAgICAgZS5CdG5CYWNrID0gbnVsbCxcbiAgICAgICAgZS5CdG5GYWxzZSA9IG51bGwsXG4gICAgICAgIGUuQnRuVHJ1ZSA9IG51bGwsXG4gICAgICAgIGUuTGFiVGl0bGUgPSBudWxsLFxuICAgICAgICBlLlNwSWNvbiA9IG51bGwsXG4gICAgICAgIGUuTGFiTnVtID0gbnVsbCxcbiAgICAgICAgZS5MYXlvdXRCdG4gPSBudWxsLFxuICAgICAgICBlLmN1clR1cm5WaWV3ID0gcC5VSUlELlVJSG9tZSxcbiAgICAgICAgZS5jdXJ3aW5kb3dUeXBlID0gcC5HZW5lcmFsV2luZG93VHlwZS5Hb2xkV2luZG93LFxuICAgICAgICBlLmN1ckdvb2RzQ291bnQgPSAxMDAsXG4gICAgICAgIGUuY2FsbGJhY2sgPSBudWxsLFxuICAgICAgICBlXG4gICAgfVxuICAgIHJldHVybiBpKGUsIHQpLFxuICAgIGUucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIHRoaXMuY3Vyd2luZG93VHlwZSA9IHQgfHwgcC5HZW5lcmFsV2luZG93VHlwZS5Hb2xkV2luZG93LFxuICAgICAgICB0aGlzLmNhbGxiYWNrID0gZSB8fFxuICAgICAgICBmdW5jdGlvbigpIHt9XG4gICAgfSxcbiAgICBlLnByb3RvdHlwZS5vbkxvYWQgPSBmdW5jdGlvbigpIHt9LFxuICAgIGUucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJCdG5MaXN0ZW5lcigpLFxuICAgICAgICB0aGlzLmluaXRWaWV3KClcbiAgICB9LFxuICAgIGUucHJvdG90eXBlLm9uQ2xvc2UgPSBmdW5jdGlvbigpIHt9LFxuICAgIGUucHJvdG90eXBlLmluaXRWaWV3ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0ID0gaC5QbGF5ZXJNZ3IuZ2V0SW5zdGFuY2UoKS5nZVVzZXJEYXRhKCkuZ2V0Q3VyU2VjKCk7XG4gICAgICAgIHN3aXRjaCAodGhpcy5jdXJ3aW5kb3dUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIHAuR2VuZXJhbFdpbmRvd1R5cGUuUG93ZXJXaW5kb3c6XG4gICAgICAgICAgICAgICAgdGhpcy5TcEljb24uc3ByaXRlRnJhbWUgPSB0aGlzLlNwUG93ZXIsXG4gICAgICAgICAgICB0aGlzLkxhYlRpdGxlLnN0cmluZyA9IFwi5YWN6LS55L2T5YqbXCIsXG4gICAgICAgICAgICB0aGlzLmN1ckdvb2RzQ291bnQgPSBkLkRhdGFNZ3IuZ2V0SW5zdGFuY2UoKS5nZXRHb29kc0NvdW50Rm9yVHlwZSgzKSxcbiAgICAgICAgICAgIHRoaXMuTGFiTnVtLnN0cmluZyA9IFwi5L2T5YqbeFwiICsgdGhpcy5jdXJHb29kc0NvdW50O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHAuR2VuZXJhbFdpbmRvd1R5cGUuR29sZFdpbmRvdzpcbiAgICAgICAgICAgICAgICB0aGlzLlNwSWNvbi5zcHJpdGVGcmFtZSA9IHRoaXMuU3BHb2xkLFxuICAgICAgICAgICAgdGhpcy5MYWJUaXRsZS5zdHJpbmcgPSBcIuWFjei0uemHkeW4gVwiLFxuICAgICAgICAgICAgdGhpcy5jdXJHb29kc0NvdW50ID0gZC5EYXRhTWdyLmdldEluc3RhbmNlKCkuZ2V0R29vZHNDb3VudEZvclR5cGVBbmRTZWMoMSwgdCksXG4gICAgICAgICAgICB0aGlzLkxhYk51bS5zdHJpbmcgPSBcIumHkeW4gXhcIiArIHRoaXMuY3VyR29vZHNDb3VudDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBwLkdlbmVyYWxXaW5kb3dUeXBlLkluR290V2luZG93OlxuICAgICAgICAgICAgICAgIHRoaXMuU3BJY29uLnNwcml0ZUZyYW1lID0gdGhpcy5TcEluR290LFxuICAgICAgICAgICAgdGhpcy5MYWJUaXRsZS5zdHJpbmcgPSBcIuWFjei0ueWFg+WunVwiO1xuICAgICAgICAgICAgdmFyIGUgPSBoLlBsYXllck1nci5nZXRJbnN0YW5jZSgpLmdlVXNlckRhdGEoKS5nZXRJbkdvdEdldENvdW50KCk7XG4gICAgICAgICAgICB0aGlzLmN1ckdvb2RzQ291bnQgPSBkLkRhdGFNZ3IuZ2V0SW5zdGFuY2UoKS5nZXRHb29kc0NvdW50Rm9yVHlwZUFuZFNlYygyLCBlKSxcbiAgICAgICAgICAgIHRoaXMuTGFiTnVtLnN0cmluZyA9IFwi5YWD5a6deFwiICsgdGhpcy5jdXJHb29kc0NvdW50O1xuICAgICAgICB9XG4gICAgfSxcbiAgICBlLnByb3RvdHlwZS5yZWdpc3RlckJ0bkxpc3RlbmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcztcbiAgICAgICAgdGhpcy5CdG5CYWNrLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCxcbiAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0LmNsb3NlVmlldygpXG4gICAgICAgIH0pLFxuICAgICAgICB0aGlzLkJ0bkZhbHNlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCxcbiAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0LmNsb3NlVmlldygpXG4gICAgICAgIH0pLFxuICAgICAgICB0aGlzLkJ0blRydWUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELFxuICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBlID0gdS5UaW1lVXRpbHMuR2V0VGltZUJ5U2Vjb25kKCksXG4gICAgICAgICAgICBvID0gdS5UaW1lVXRpbHMuR2V0VGltZUJ5SG91cnMyKCk7XG4gICAgICAgICAgICBjLlNka01nci5nZXRJbnN0YW5jZSgpLnBsYXlWaWRlbygxLFxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdC5nZXRSZXdhcmQoZSwgbyksXG4gICAgICAgICAgICAgICAgdC5jYWxsYmFjayAmJiB0LmNhbGxiYWNrKCksXG4gICAgICAgICAgICAgICAgdC5jbG9zZVZpZXcoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9LFxuICAgIGUucHJvdG90eXBlLmdldFJld2FyZCA9IGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgdmFyIG8gPSB1LlRpbWVVdGlscy5HZXRUaW1lQnlTZWNvbmQoKSxcbiAgICAgICAgYSA9IHUuVGltZVV0aWxzLkdldFRpbWVCeUhvdXJzMigpO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuY3Vyd2luZG93VHlwZSkge1xuICAgICAgICAgICAgY2FzZSBwLkdlbmVyYWxXaW5kb3dUeXBlLlBvd2VyV2luZG93OlxuICAgICAgICAgICAgICAgIGguUGxheWVyTWdyLmdldEluc3RhbmNlKCkuZ2V0VHJhY2tEYXRhKCkudGVzdFRyYWNrVGltZShcInN0cmVuZ3RoXCIsIGUsIGEsIHQsIG8pLFxuICAgICAgICAgICAgaC5QbGF5ZXJNZ3IuZ2V0SW5zdGFuY2UoKS5nZVVzZXJEYXRhKCkuYWRkUG93ZXJOdW0odGhpcy5jdXJHb29kc0NvdW50KSxcbiAgICAgICAgICAgIGwuVUlNZ3IuZ2V0SW5zdGFuY2UoKS5vcGVuVUkocC5VSUlELlVJVGlwcywgLTEsIFwi5oiQ5Yqf6aKG5Y+WIOS9k+WKm3hcIiArIHRoaXMuY3VyR29vZHNDb3VudCksXG4gICAgICAgICAgICBoLlBsYXllck1nci5nZXRJbnN0YW5jZSgpLmdldFRyYWNrRGF0YSgpLnlvdW1lbmdUcmFjayhnLlRyYWNrSWQuc3RyZW5ndGgpLFxuICAgICAgICAgICAgaC5QbGF5ZXJNZ3IuZ2V0SW5zdGFuY2UoKS5nZXRUcmFja0RhdGEoKS55b3VtZW5nVHJhY2tOZXcoXCJzdHJlbmd0aF9iXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHAuR2VuZXJhbFdpbmRvd1R5cGUuR29sZFdpbmRvdzpcbiAgICAgICAgICAgICAgICBoLlBsYXllck1nci5nZXRJbnN0YW5jZSgpLmdldFRyYWNrRGF0YSgpLnRlc3RUcmFja1RpbWUoXCJjb2luXCIsIGUsIGEsIHQsIG8pLFxuICAgICAgICAgICAgaC5QbGF5ZXJNZ3IuZ2V0SW5zdGFuY2UoKS5nZVVzZXJEYXRhKCkuYWRkR29sZE51bSh0aGlzLmN1ckdvb2RzQ291bnQpLFxuICAgICAgICAgICAgbC5VSU1nci5nZXRJbnN0YW5jZSgpLm9wZW5VSShwLlVJSUQuVUlUaXBzLCAtMSwgXCLmiJDlip/pooblj5Yg6YeR5biBeFwiICsgdGhpcy5jdXJHb29kc0NvdW50KSxcbiAgICAgICAgICAgIGguUGxheWVyTWdyLmdldEluc3RhbmNlKCkuZ2V0VHJhY2tEYXRhKCkueW91bWVuZ1RyYWNrKGcuVHJhY2tJZC5jb2luKSxcbiAgICAgICAgICAgIGguUGxheWVyTWdyLmdldEluc3RhbmNlKCkuZ2V0VHJhY2tEYXRhKCkueW91bWVuZ1RyYWNrTmV3KFwiY29pbl9iXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHAuR2VuZXJhbFdpbmRvd1R5cGUuSW5Hb3RXaW5kb3c6XG4gICAgICAgICAgICAgICAgaC5QbGF5ZXJNZ3IuZ2V0SW5zdGFuY2UoKS5nZXRUcmFja0RhdGEoKS50ZXN0VHJhY2tUaW1lKFwiaW5nb3RcIiwgZSwgYSwgdCwgbyksXG4gICAgICAgICAgICBoLlBsYXllck1nci5nZXRJbnN0YW5jZSgpLmdlVXNlckRhdGEoKS5hZGRJbkdvdE51bSh0aGlzLmN1ckdvb2RzQ291bnQpLFxuICAgICAgICAgICAgbC5VSU1nci5nZXRJbnN0YW5jZSgpLm9wZW5VSShwLlVJSUQuVUlUaXBzLCAtMSwgXCLmiJDlip/pooblj5Yg5YWD5a6deFwiICsgdGhpcy5jdXJHb29kc0NvdW50KSxcbiAgICAgICAgICAgIGguUGxheWVyTWdyLmdldEluc3RhbmNlKCkuZ2V0VHJhY2tEYXRhKCkueW91bWVuZ1RyYWNrKGcuVHJhY2tJZC5pbmdvdCksXG4gICAgICAgICAgICBoLlBsYXllck1nci5nZXRJbnN0YW5jZSgpLmdldFRyYWNrRGF0YSgpLnlvdW1lbmdUcmFja05ldyhcImluZ290X2JcIiksXG4gICAgICAgICAgICBoLlBsYXllck1nci5nZXRJbnN0YW5jZSgpLmdlVXNlckRhdGEoKS5hZGRJbkdvdEdldENvdW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgcy5FdmVudE1nci5nZXRJbnN0YW5jZSgpLmVtaXQocC5FdmVudE5hbWUuUmVmcmVzaFN0cmVuZ3RoZW5MdiksXG4gICAgICAgIHMuRXZlbnRNZ3IuZ2V0SW5zdGFuY2UoKS5lbWl0KHAuRXZlbnROYW1lLlJlZnJlc2hTaG9wUmVkRG90KVxuICAgIH0sXG4gICAgZS5wcm90b3R5cGUuY2xvc2VWaWV3ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuY2xvc2VVSSgpXG4gICAgfSxcbiAgICByKFt5KGNjLlNwcml0ZUZyYW1lKV0sIGUucHJvdG90eXBlLCBcIlNwUG93ZXJcIiwgdm9pZCAwKSxcbiAgICByKFt5KGNjLlNwcml0ZUZyYW1lKV0sIGUucHJvdG90eXBlLCBcIlNwR29sZFwiLCB2b2lkIDApLFxuICAgIHIoW3koY2MuU3ByaXRlRnJhbWUpXSwgZS5wcm90b3R5cGUsIFwiU3BJbkdvdFwiLCB2b2lkIDApLFxuICAgIHIoW3koY2MuTm9kZSldLCBlLnByb3RvdHlwZSwgXCJCdG5CYWNrXCIsIHZvaWQgMCksXG4gICAgcihbeShjYy5Ob2RlKV0sIGUucHJvdG90eXBlLCBcIkJ0bkZhbHNlXCIsIHZvaWQgMCksXG4gICAgcihbeShjYy5Ob2RlKV0sIGUucHJvdG90eXBlLCBcIkJ0blRydWVcIiwgdm9pZCAwKSxcbiAgICByKFt5KGNjLkxhYmVsKV0sIGUucHJvdG90eXBlLCBcIkxhYlRpdGxlXCIsIHZvaWQgMCksXG4gICAgcihbeShjYy5TcHJpdGUpXSwgZS5wcm90b3R5cGUsIFwiU3BJY29uXCIsIHZvaWQgMCksXG4gICAgcihbeShjYy5MYWJlbCldLCBlLnByb3RvdHlwZSwgXCJMYWJOdW1cIiwgdm9pZCAwKSxcbiAgICByKFt5KGNjLk5vZGUpXSwgZS5wcm90b3R5cGUsIFwiTGF5b3V0QnRuXCIsIHZvaWQgMCksXG4gICAgcihbbV0sIGUpXG59IChuLmRlZmF1bHQpO1xuby5kZWZhdWx0ID0gdiJdfQ==