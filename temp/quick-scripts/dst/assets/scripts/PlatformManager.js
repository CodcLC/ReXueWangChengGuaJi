
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/PlatformManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '12479gU5UZCYZQwVmRaTNyH', 'PlatformManager');
// scripts/PlatformManager.js

"use strict";

var t = require;
var e = module;
var o = exports;
var a, i, r;
Object.defineProperty(o, "__esModule", {
  value: !0
}), o.PlatformManager = o.PlatformInfo = o.AdConfig = o.UM_VERSION = o.SWCF = o.SwitchID = void 0;
var n,
    s = t("BasePlatform"),
    c = t("AndroidManager"),
    l = t("ByteDanceManager"),
    u = t("OppoManager"),
    p = t("VivoManager"),
    g = t("WechatManager"),
    d = t("KSManager"),
    h = t("WebLinkManager"),
    f = t("EditorManager");
(function (t) {
  t[t.ShenHe = 0] = "ShenHe", t[t.TrackVideoTime = 1] = "TrackVideoTime";
})(n = o.SwitchID || (o.SwitchID = {})), o.SWCF = ((a = {})[n.ShenHe] = {
  appId: 1089,
  h5_wechat: 4,
  h5_bytedance: 1
}, a[n.TrackVideoTime] = {
  appId: 1114,
  h5_wechat: 4,
  h5_bytedance: 11
}, a), o.UM_VERSION = ((i = {}).versionName = {
  h5_wechat: "1.0.8",
  h5_bytedance: "1.1.4",
  h5_oppo: "1.0.0",
  h5_vivo: "1.0.0",
  h5_qq: "1.0.0",
  h5_kuaikan: "1.0.0",
  android_google: "1.0.0",
  android_vivo: "1.0.0",
  android_233: "1.0.0",
  android_4399: "1.0.0",
  android_xiaomi: "1.0.0",
  h5_baidu: "1.0.0",
  ios: "1.0.0"
}, i), o.AdConfig = ((r = {})[s.Platform.ANDROID_233] = {
  packageName: "com.sfplay.diaoyu.meta",
  videoId: "123456|123456",
  insertId: "adunitxxx",
  bannerId: "adunitxxx",
  splashId: "adunitxxx"
}, r), function (t) {
  t[t.APP_ID = 1110] = "APP_ID";
}(o.PlatformInfo || (o.PlatformInfo = {}));

var m = function () {
  function t() {}

  return t.getInstance = function () {
    return null == this._instance && (this._instance = new t()), this._instance;
  }, t.prototype.init = function () {
    switch (cc.sys.platform) {
      case cc.sys.IPAD:
      case cc.sys.IPHONE:
      case cc.sys.ANDROID:
        t.currentPlatform == s.Platform.WEB_LINK ? this.currentPaltform = new h.WebLinkManager() : (this.currentPaltform = new c.AndroidManager(), window.AndroidManager = this.currentPaltform);
        break;

      case cc.sys.BYTEDANCE_GAME:
        this.currentPaltform = new l.BytedanceManager();
        break;

      case cc.sys.OPPO_GAME:
        this.currentPaltform = new u.OppoManager();
        break;

      case cc.sys.VIVO_GAME:
        this.currentPaltform = new p.VivoManager();
        break;

      case cc.sys.BAIDU_GAME:
        break;

      case cc.sys.WECHAT_GAME:
        t.currentPlatform == s.Platform.WECHAT ? this.currentPaltform = new g.WechatManager() : t.currentPlatform == s.Platform.KuaiShou && (this.currentPaltform = new d.KSManager());
        break;

      case cc.sys.HUAWEI_GAME:
        break;

      default:
        t.currentPlatform == s.Platform.WEB_LINK ? this.currentPaltform = new h.WebLinkManager() : this.currentPaltform = new f.EditorManager();
    }

    this.initSdk();
  }, t.prototype.initSdk = function () {
    this.currentPaltform || (this.currentPaltform = new f.EditorManager()), this.currentPaltform.initSdk();
  }, t.prototype.showBanner = function (t, e) {
    this.currentPaltform.showBanner(t, e);
  }, t.prototype.shark = function (t, e) {
    this.currentPaltform.shark(t, e);
  }, t.prototype.hideBanner = function (t, e) {
    this.currentPaltform.hideBanner(t, e);
  }, t.prototype.showInsertAd = function (t, e) {
    this.currentPaltform.showInsertAd(t, e);
  }, t.prototype.showVideoAd = function (t, e, o, a) {
    this.currentPaltform.showVideoAd(t, o, a, e);
  }, t.prototype.otherFun = function (t, e) {
    this.currentPaltform.otherFun(t, e);
  }, t.prototype.recordVideo = function (t, e) {
    this.currentPaltform.recordVideo(t, e);
  }, t.prototype.stopRecorderManager = function (t, e) {
    this.currentPaltform.stopRecorderManager(t, e);
  }, t.prototype.youmengTrack = function (t, e, o, a) {
    this.currentPaltform.youmengTrack(t, e, o, a);
  }, t.prototype.hasVerify = function () {
    return this.currentPaltform.hasVerify();
  }, t.prototype.getNativeCode = function (t) {
    this.currentPaltform.getCode && this.currentPaltform.getCode(t);
  }, t.prototype.canShare = function () {
    return !!this.currentPaltform.canShare && this.currentPaltform.canShare();
  }, t.prototype.pauseRecord = function () {
    this.currentPaltform.pauseRecord && this.currentPaltform.pauseRecord();
  }, t.prototype.resumeRecord = function () {
    this.currentPaltform.resumeRecord && this.currentPaltform.resumeRecord();
  }, t.prototype.shareVideo = function (t, e) {
    this.currentPaltform.share(t, e);
  }, t.prototype.toAppStore = function (t) {
    this.currentPaltform.toAppStore && this.currentPaltform.toAppStore(t);
  }, t.prototype.openNotify = function () {
    this.currentPaltform.openNotify && this.currentPaltform.openNotify();
  }, t.prototype.shareImg = function (t, e) {
    this.currentPaltform.shareImg && this.currentPaltform.shareImg(t, e);
  }, t.prototype.showWxNativeAD = function (t) {
    this.currentPaltform.showWxNativeAD(t);
  }, t.prototype.hideWxNativeAD = function (t) {
    this.currentPaltform.hideWxNativeAD(t);
  }, t.prototype.showBlockAd = function (t, e) {
    this.currentPaltform.showBlockAd(t, e);
  }, t.prototype.hideBlockAd = function (t, e) {
    this.currentPaltform.hideBlockAd(t, e);
  }, t.currentPlatform = s.Platform.BYTEDANCE, t;
}();

o.PlatformManager = m;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcUGxhdGZvcm1NYW5hZ2VyLmpzIl0sIm5hbWVzIjpbInQiLCJyZXF1aXJlIiwiZSIsIm1vZHVsZSIsIm8iLCJleHBvcnRzIiwiYSIsImkiLCJyIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsIlBsYXRmb3JtTWFuYWdlciIsIlBsYXRmb3JtSW5mbyIsIkFkQ29uZmlnIiwiVU1fVkVSU0lPTiIsIlNXQ0YiLCJTd2l0Y2hJRCIsIm4iLCJzIiwiYyIsImwiLCJ1IiwicCIsImciLCJkIiwiaCIsImYiLCJTaGVuSGUiLCJUcmFja1ZpZGVvVGltZSIsImFwcElkIiwiaDVfd2VjaGF0IiwiaDVfYnl0ZWRhbmNlIiwidmVyc2lvbk5hbWUiLCJoNV9vcHBvIiwiaDVfdml2byIsImg1X3FxIiwiaDVfa3VhaWthbiIsImFuZHJvaWRfZ29vZ2xlIiwiYW5kcm9pZF92aXZvIiwiYW5kcm9pZF8yMzMiLCJhbmRyb2lkXzQzOTkiLCJhbmRyb2lkX3hpYW9taSIsImg1X2JhaWR1IiwiaW9zIiwiUGxhdGZvcm0iLCJBTkRST0lEXzIzMyIsInBhY2thZ2VOYW1lIiwidmlkZW9JZCIsImluc2VydElkIiwiYmFubmVySWQiLCJzcGxhc2hJZCIsIkFQUF9JRCIsIm0iLCJnZXRJbnN0YW5jZSIsIl9pbnN0YW5jZSIsInByb3RvdHlwZSIsImluaXQiLCJjYyIsInN5cyIsInBsYXRmb3JtIiwiSVBBRCIsIklQSE9ORSIsIkFORFJPSUQiLCJjdXJyZW50UGxhdGZvcm0iLCJXRUJfTElOSyIsImN1cnJlbnRQYWx0Zm9ybSIsIldlYkxpbmtNYW5hZ2VyIiwiQW5kcm9pZE1hbmFnZXIiLCJ3aW5kb3ciLCJCWVRFREFOQ0VfR0FNRSIsIkJ5dGVkYW5jZU1hbmFnZXIiLCJPUFBPX0dBTUUiLCJPcHBvTWFuYWdlciIsIlZJVk9fR0FNRSIsIlZpdm9NYW5hZ2VyIiwiQkFJRFVfR0FNRSIsIldFQ0hBVF9HQU1FIiwiV0VDSEFUIiwiV2VjaGF0TWFuYWdlciIsIkt1YWlTaG91IiwiS1NNYW5hZ2VyIiwiSFVBV0VJX0dBTUUiLCJFZGl0b3JNYW5hZ2VyIiwiaW5pdFNkayIsInNob3dCYW5uZXIiLCJzaGFyayIsImhpZGVCYW5uZXIiLCJzaG93SW5zZXJ0QWQiLCJzaG93VmlkZW9BZCIsIm90aGVyRnVuIiwicmVjb3JkVmlkZW8iLCJzdG9wUmVjb3JkZXJNYW5hZ2VyIiwieW91bWVuZ1RyYWNrIiwiaGFzVmVyaWZ5IiwiZ2V0TmF0aXZlQ29kZSIsImdldENvZGUiLCJjYW5TaGFyZSIsInBhdXNlUmVjb3JkIiwicmVzdW1lUmVjb3JkIiwic2hhcmVWaWRlbyIsInNoYXJlIiwidG9BcHBTdG9yZSIsIm9wZW5Ob3RpZnkiLCJzaGFyZUltZyIsInNob3dXeE5hdGl2ZUFEIiwiaGlkZVd4TmF0aXZlQUQiLCJzaG93QmxvY2tBZCIsImhpZGVCbG9ja0FkIiwiQllURURBTkNFIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLENBQUMsR0FBR0MsT0FBUjtBQUNBLElBQUlDLENBQUMsR0FBR0MsTUFBUjtBQUNBLElBQUlDLENBQUMsR0FBR0MsT0FBUjtBQUNBLElBQUlDLENBQUosRUFBT0MsQ0FBUCxFQUFVQyxDQUFWO0FBQ0FDLE1BQU0sQ0FBQ0MsY0FBUCxDQUFzQk4sQ0FBdEIsRUFBeUIsWUFBekIsRUFBdUM7RUFDbkNPLEtBQUssRUFBRSxDQUFDO0FBRDJCLENBQXZDLEdBR0FQLENBQUMsQ0FBQ1EsZUFBRixHQUFvQlIsQ0FBQyxDQUFDUyxZQUFGLEdBQWlCVCxDQUFDLENBQUNVLFFBQUYsR0FBYVYsQ0FBQyxDQUFDVyxVQUFGLEdBQWVYLENBQUMsQ0FBQ1ksSUFBRixHQUFTWixDQUFDLENBQUNhLFFBQUYsR0FBYSxLQUFLLENBSDVGO0FBSUEsSUFBSUMsQ0FBSjtBQUFBLElBQU9DLENBQUMsR0FBR25CLENBQUMsQ0FBQyxjQUFELENBQVo7QUFBQSxJQUNBb0IsQ0FBQyxHQUFHcEIsQ0FBQyxDQUFDLGdCQUFELENBREw7QUFBQSxJQUVB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Q0FBVCxFQUFZRSxDQUFaLEVBQWU7SUFDckMsS0FBS2dFLGVBQUwsQ0FBcUIwQyxXQUFyQixDQUFpQzVHLENBQWpDLEVBQW9DRSxDQUFwQztFQUNILENBckdNLEVBc0dQRixDQUFDLENBQUNnRSxlQUFGLEdBQW9CN0MsQ0FBQyxDQUFDMEIsUUFBRixDQUFXZ0UsU0F0R3hCLEVBdUdQN0csQ0F2R0E7QUF3R0gsQ0ExR08sRUFBUjs7QUEyR0FJLENBQUMsQ0FBQ1EsZUFBRixHQUFvQnlDLENBQXBCIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdCA9IHJlcXVpcmU7XG52YXIgZSA9IG1vZHVsZTtcbnZhciBvID0gZXhwb3J0cztcbnZhciBhLCBpLCByO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6ICEwXG59KSxcbm8uUGxhdGZvcm1NYW5hZ2VyID0gby5QbGF0Zm9ybUluZm8gPSBvLkFkQ29uZmlnID0gby5VTV9WRVJTSU9OID0gby5TV0NGID0gby5Td2l0Y2hJRCA9IHZvaWQgMDtcbnZhciBuLCBzID0gdChcIkJhc2VQbGF0Zm9ybVwiKSxcbmMgPSB0KFwiQW5kcm9pZE1hbmFnZXJcIiksXG5sID0gdChcIkJ5dGVEYW5jZU1hbmFnZXJcIiksXG51ID0gdChcIk9wcG9NYW5hZ2VyXCIpLFxucCA9IHQoXCJWaXZvTWFuYWdlclwiKSxcbmcgPSB0KFwiV2VjaGF0TWFuYWdlclwiKSxcbmQgPSB0KFwiS1NNYW5hZ2VyXCIpLFxuaCA9IHQoXCJXZWJMaW5rTWFuYWdlclwiKSxcbmYgPSB0KFwiRWRpdG9yTWFuYWdlclwiKTsgKGZ1bmN0aW9uKHQpIHtcbiAgICB0W3QuU2hlbkhlID0gMF0gPSBcIlNoZW5IZVwiLFxuICAgIHRbdC5UcmFja1ZpZGVvVGltZSA9IDFdID0gXCJUcmFja1ZpZGVvVGltZVwiXG59KShuID0gby5Td2l0Y2hJRCB8fCAoby5Td2l0Y2hJRCA9IHt9KSksXG5vLlNXQ0YgPSAoKGEgPSB7fSlbbi5TaGVuSGVdID0ge1xuICAgIGFwcElkOiAxMDg5LFxuICAgIGg1X3dlY2hhdDogNCxcbiAgICBoNV9ieXRlZGFuY2U6IDFcbn0sXG5hW24uVHJhY2tWaWRlb1RpbWVdID0ge1xuICAgIGFwcElkOiAxMTE0LFxuICAgIGg1X3dlY2hhdDogNCxcbiAgICBoNV9ieXRlZGFuY2U6IDExXG59LFxuYSksXG5vLlVNX1ZFUlNJT04gPSAoKGkgPSB7fSkudmVyc2lvbk5hbWUgPSB7XG4gICAgaDVfd2VjaGF0OiBcIjEuMC44XCIsXG4gICAgaDVfYnl0ZWRhbmNlOiBcIjEuMS40XCIsXG4gICAgaDVfb3BwbzogXCIxLjAuMFwiLFxuICAgIGg1X3Zpdm86IFwiMS4wLjBcIixcbiAgICBoNV9xcTogXCIxLjAuMFwiLFxuICAgIGg1X2t1YWlrYW46IFwiMS4wLjBcIixcbiAgICBhbmRyb2lkX2dvb2dsZTogXCIxLjAuMFwiLFxuICAgIGFuZHJvaWRfdml2bzogXCIxLjAuMFwiLFxuICAgIGFuZHJvaWRfMjMzOiBcIjEuMC4wXCIsXG4gICAgYW5kcm9pZF80Mzk5OiBcIjEuMC4wXCIsXG4gICAgYW5kcm9pZF94aWFvbWk6IFwiMS4wLjBcIixcbiAgICBoNV9iYWlkdTogXCIxLjAuMFwiLFxuICAgIGlvczogXCIxLjAuMFwiXG59LFxuaSksXG5vLkFkQ29uZmlnID0gKChyID0ge30pW3MuUGxhdGZvcm0uQU5EUk9JRF8yMzNdID0ge1xuICAgIHBhY2thZ2VOYW1lOiBcImNvbS5zZnBsYXkuZGlhb3l1Lm1ldGFcIixcbiAgICB2aWRlb0lkOiBcIjEyMzQ1NnwxMjM0NTZcIixcbiAgICBpbnNlcnRJZDogXCJhZHVuaXR4eHhcIixcbiAgICBiYW5uZXJJZDogXCJhZHVuaXR4eHhcIixcbiAgICBzcGxhc2hJZDogXCJhZHVuaXR4eHhcIlxufSxcbnIpLFxuZnVuY3Rpb24odCkge1xuICAgIHRbdC5BUFBfSUQgPSAxMTEwXSA9IFwiQVBQX0lEXCJcbn0gKG8uUGxhdGZvcm1JbmZvIHx8IChvLlBsYXRmb3JtSW5mbyA9IHt9KSk7XG52YXIgbSA9IGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIHQoKSB7fVxuICAgIHJldHVybiB0LmdldEluc3RhbmNlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBudWxsID09IHRoaXMuX2luc3RhbmNlICYmICh0aGlzLl9pbnN0YW5jZSA9IG5ldyB0KSxcbiAgICAgICAgdGhpcy5faW5zdGFuY2VcbiAgICB9LFxuICAgIHQucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgc3dpdGNoIChjYy5zeXMucGxhdGZvcm0pIHtcbiAgICAgICAgICAgIGNhc2UgY2Muc3lzLklQQUQ6XG4gICAgICAgICAgICBjYXNlIGNjLnN5cy5JUEhPTkU6XG4gICAgICAgICAgICBjYXNlIGNjLnN5cy5BTkRST0lEOlxuICAgICAgICAgICAgICAgIHQuY3VycmVudFBsYXRmb3JtID09IHMuUGxhdGZvcm0uV0VCX0xJTksgPyB0aGlzLmN1cnJlbnRQYWx0Zm9ybSA9IG5ldyBoLldlYkxpbmtNYW5hZ2VyOiAodGhpcy5jdXJyZW50UGFsdGZvcm0gPSBuZXcgYy5BbmRyb2lkTWFuYWdlciwgd2luZG93LkFuZHJvaWRNYW5hZ2VyID0gdGhpcy5jdXJyZW50UGFsdGZvcm0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNjLnN5cy5CWVRFREFOQ0VfR0FNRTpcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWx0Zm9ybSA9IG5ldyBsLkJ5dGVkYW5jZU1hbmFnZXI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY2Muc3lzLk9QUE9fR0FNRTpcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWx0Zm9ybSA9IG5ldyB1Lk9wcG9NYW5hZ2VyO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNjLnN5cy5WSVZPX0dBTUU6XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFsdGZvcm0gPSBuZXcgcC5WaXZvTWFuYWdlcjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjYy5zeXMuQkFJRFVfR0FNRTpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY2Muc3lzLldFQ0hBVF9HQU1FOlxuICAgICAgICAgICAgICAgIHQuY3VycmVudFBsYXRmb3JtID09IHMuUGxhdGZvcm0uV0VDSEFUID8gdGhpcy5jdXJyZW50UGFsdGZvcm0gPSBuZXcgZy5XZWNoYXRNYW5hZ2VyOiB0LmN1cnJlbnRQbGF0Zm9ybSA9PSBzLlBsYXRmb3JtLkt1YWlTaG91ICYmICh0aGlzLmN1cnJlbnRQYWx0Zm9ybSA9IG5ldyBkLktTTWFuYWdlcik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY2Muc3lzLkhVQVdFSV9HQU1FOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0LmN1cnJlbnRQbGF0Zm9ybSA9PSBzLlBsYXRmb3JtLldFQl9MSU5LID8gdGhpcy5jdXJyZW50UGFsdGZvcm0gPSBuZXcgaC5XZWJMaW5rTWFuYWdlcjogdGhpcy5jdXJyZW50UGFsdGZvcm0gPSBuZXcgZi5FZGl0b3JNYW5hZ2VyO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5pdFNkaygpXG4gICAgfSxcbiAgICB0LnByb3RvdHlwZS5pbml0U2RrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFBhbHRmb3JtIHx8ICh0aGlzLmN1cnJlbnRQYWx0Zm9ybSA9IG5ldyBmLkVkaXRvck1hbmFnZXIpLFxuICAgICAgICB0aGlzLmN1cnJlbnRQYWx0Zm9ybS5pbml0U2RrKClcbiAgICB9LFxuICAgIHQucHJvdG90eXBlLnNob3dCYW5uZXIgPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFBhbHRmb3JtLnNob3dCYW5uZXIodCwgZSlcbiAgICB9LFxuICAgIHQucHJvdG90eXBlLnNoYXJrID0gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICB0aGlzLmN1cnJlbnRQYWx0Zm9ybS5zaGFyayh0LCBlKVxuICAgIH0sXG4gICAgdC5wcm90b3R5cGUuaGlkZUJhbm5lciA9IGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50UGFsdGZvcm0uaGlkZUJhbm5lcih0LCBlKVxuICAgIH0sXG4gICAgdC5wcm90b3R5cGUuc2hvd0luc2VydEFkID0gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICB0aGlzLmN1cnJlbnRQYWx0Zm9ybS5zaG93SW5zZXJ0QWQodCwgZSlcbiAgICB9LFxuICAgIHQucHJvdG90eXBlLnNob3dWaWRlb0FkID0gZnVuY3Rpb24odCwgZSwgbywgYSkge1xuICAgICAgICB0aGlzLmN1cnJlbnRQYWx0Zm9ybS5zaG93VmlkZW9BZCh0LCBvLCBhLCBlKVxuICAgIH0sXG4gICAgdC5wcm90b3R5cGUub3RoZXJGdW4gPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFBhbHRmb3JtLm90aGVyRnVuKHQsIGUpXG4gICAgfSxcbiAgICB0LnByb3RvdHlwZS5yZWNvcmRWaWRlbyA9IGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50UGFsdGZvcm0ucmVjb3JkVmlkZW8odCwgZSlcbiAgICB9LFxuICAgIHQucHJvdG90eXBlLnN0b3BSZWNvcmRlck1hbmFnZXIgPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFBhbHRmb3JtLnN0b3BSZWNvcmRlck1hbmFnZXIodCwgZSlcbiAgICB9LFxuICAgIHQucHJvdG90eXBlLnlvdW1lbmdUcmFjayA9IGZ1bmN0aW9uKHQsIGUsIG8sIGEpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50UGFsdGZvcm0ueW91bWVuZ1RyYWNrKHQsIGUsIG8sIGEpXG4gICAgfSxcbiAgICB0LnByb3RvdHlwZS5oYXNWZXJpZnkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFBhbHRmb3JtLmhhc1ZlcmlmeSgpXG4gICAgfSxcbiAgICB0LnByb3RvdHlwZS5nZXROYXRpdmVDb2RlID0gZnVuY3Rpb24odCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRQYWx0Zm9ybS5nZXRDb2RlICYmIHRoaXMuY3VycmVudFBhbHRmb3JtLmdldENvZGUodClcbiAgICB9LFxuICAgIHQucHJvdG90eXBlLmNhblNoYXJlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAhISB0aGlzLmN1cnJlbnRQYWx0Zm9ybS5jYW5TaGFyZSAmJiB0aGlzLmN1cnJlbnRQYWx0Zm9ybS5jYW5TaGFyZSgpXG4gICAgfSxcbiAgICB0LnByb3RvdHlwZS5wYXVzZVJlY29yZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRQYWx0Zm9ybS5wYXVzZVJlY29yZCAmJiB0aGlzLmN1cnJlbnRQYWx0Zm9ybS5wYXVzZVJlY29yZCgpXG4gICAgfSxcbiAgICB0LnByb3RvdHlwZS5yZXN1bWVSZWNvcmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50UGFsdGZvcm0ucmVzdW1lUmVjb3JkICYmIHRoaXMuY3VycmVudFBhbHRmb3JtLnJlc3VtZVJlY29yZCgpXG4gICAgfSxcbiAgICB0LnByb3RvdHlwZS5zaGFyZVZpZGVvID0gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICB0aGlzLmN1cnJlbnRQYWx0Zm9ybS5zaGFyZSh0LCBlKVxuICAgIH0sXG4gICAgdC5wcm90b3R5cGUudG9BcHBTdG9yZSA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50UGFsdGZvcm0udG9BcHBTdG9yZSAmJiB0aGlzLmN1cnJlbnRQYWx0Zm9ybS50b0FwcFN0b3JlKHQpXG4gICAgfSxcbiAgICB0LnByb3RvdHlwZS5vcGVuTm90aWZ5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFBhbHRmb3JtLm9wZW5Ob3RpZnkgJiYgdGhpcy5jdXJyZW50UGFsdGZvcm0ub3Blbk5vdGlmeSgpXG4gICAgfSxcbiAgICB0LnByb3RvdHlwZS5zaGFyZUltZyA9IGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50UGFsdGZvcm0uc2hhcmVJbWcgJiYgdGhpcy5jdXJyZW50UGFsdGZvcm0uc2hhcmVJbWcodCwgZSlcbiAgICB9LFxuICAgIHQucHJvdG90eXBlLnNob3dXeE5hdGl2ZUFEID0gZnVuY3Rpb24odCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRQYWx0Zm9ybS5zaG93V3hOYXRpdmVBRCh0KVxuICAgIH0sXG4gICAgdC5wcm90b3R5cGUuaGlkZVd4TmF0aXZlQUQgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgIHRoaXMuY3VycmVudFBhbHRmb3JtLmhpZGVXeE5hdGl2ZUFEKHQpXG4gICAgfSxcbiAgICB0LnByb3RvdHlwZS5zaG93QmxvY2tBZCA9IGZ1bmN0aW9uKHQsIGUpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50UGFsdGZvcm0uc2hvd0Jsb2NrQWQodCwgZSlcbiAgICB9LFxuICAgIHQucHJvdG90eXBlLmhpZGVCbG9ja0FkID0gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICB0aGlzLmN1cnJlbnRQYWx0Zm9ybS5oaWRlQmxvY2tBZCh0LCBlKVxuICAgIH0sXG4gICAgdC5jdXJyZW50UGxhdGZvcm0gPSBzLlBsYXRmb3JtLkJZVEVEQU5DRSxcbiAgICB0XG59ICgpO1xuby5QbGF0Zm9ybU1hbmFnZXIgPSBtIl19