
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/UICollection.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3ff90UVvllIJKgRvfHLu1cT', 'UICollection');
// scripts/UICollection.js

"use strict";

var t = require;
var e = module;
var o = exports;

var _a,
    i = void 0 && (void 0).__extends || (_a = function a(t, e) {
  return (_a = Object.setPrototypeOf || {
    __proto__: []
  } instanceof Array && function (t, e) {
    t.__proto__ = e;
  } || function (t, e) {
    for (var o in e) {
      Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
    }
  })(t, e);
}, function (t, e) {
  function o() {
    this.constructor = t;
  }

  _a(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o());
}),
    r = void 0 && (void 0).__decorate || function (t, e, o, a) {
  var i,
      r = arguments.length,
      n = r < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, o) : a;
  if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) n = Reflect.decorate(t, e, o, a);else for (var s = t.length - 1; s >= 0; s--) {
    (i = t[s]) && (n = (r < 3 ? i(n) : r > 3 ? i(e, o, n) : i(e, o)) || n);
  }
  return r > 3 && n && Object.defineProperty(e, o, n), n;
};

Object.defineProperty(o, "__esModule", {
  value: !0
});

var n = t("BaseUI"),
    s = t("SdkMgr"),
    c = t("TweenMgr"),
    l = t("TimeUtils"),
    u = t("CommonCfg"),
    p = t("ComDataMgr"),
    g = t("ComPlayerMgr"),
    d = cc._decorator,
    h = d.ccclass,
    f = d.property,
    m = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    return e.btnClose = null, e.timeNode = null, e.itemLayout = null, e.spriteBar = null, e.processNum = null, e.giftNode = null, e.tipNode = null, e.tipText = null, e.rootAddClick = !1, e;
  }

  return i(e, t), e.prototype.start = function () {
    this.addEvent(u.CommonEventName.RefreshCollection, this.refreshItemData), this.collectionData = g.ComPlayerMgr.getInstance().getCollectionData(), this.initBtnListener(), this.initTimeData(), this.initData(), this.initBottomData(), this.giftLayoutPos = this.giftNode.getPosition();
  }, e.prototype.initTimeData = function () {
    var t = this,
        e = this.collectionData.getEndtime();
    if (-1 == e) this.timeNode.active = !1;else {
      var o = e - l.TimeUtils.GetTimeBySecond(),
          a = this.timeNode.getChildByName("timeLable").getComponent(cc.Label);
      o <= 0 ? (a.string = "00:00:00", this.collectionData.refreData()) : (a.string = l.TimeUtils.SecondToHours(o), a.schedule(function () {
        var o = e - l.TimeUtils.GetTimeBySecond();
        o > 0 ? a.string = l.TimeUtils.SecondToHours(o) : (a.unscheduleAllCallbacks(), a.string = "00:00:00", t.collectionData.refreData(), t.refreshItemData());
      }, 1, cc.macro.REPEAT_FOREVER));
    }
  }, e.prototype.initData = function (t) {
    var e = this;
    void 0 === t && (t = !0);

    for (var o = function o(_o) {
      var i = a.itemLayout.children[_o],
          r = a.collectionData.getCollectionData(_o);
      if (null == r) return i.getChildByName("empty").active = !0, "continue";
      i.getChildByName("empty").active = !1, i.name = r.id + "";
      var n = i.getChildByName("btnOk");
      c.TweenMgr.getInstance().stopTween(n);
      var s = void 0;
      r.isGet ? s = "button/btn_finished" : r.finished && !r.isGet ? (s = "button/btn_submit", c.TweenMgr.getInstance().playHeartAni(n)) : r.adTip ? (s = "button/btn_adtips", r.isTips && (s = "button/btn_tips")) : s = "button/btn_adget";
      var l = i.getChildByName("icon"),
          u = i.getChildByName("process").getComponent(cc.Label),
          g = p.ComDataMgr.getInstance().getCollectionItemById(r.itemId);
      u.string = r.num + "/" + g.needNum;
      var d = p.ComDataMgr.getInstance().getGoodsById(r.goodId);
      a.loadSpriteFrame(d.bundleName, d.rewardIcon, function (t) {
        l.getComponent(cc.Sprite).spriteFrame = t;
      }), a.loadSpriteFrame("comimgs", s, function (t) {
        n.getComponent(cc.Sprite).spriteFrame = t;
      }), t && n.on(cc.Node.EventType.TOUCH_END, function () {
        e.clickItem(r.id, i);
      });
    }, a = this, i = 0; i < this.itemLayout.childrenCount; i++) {
      o(i);
    }
  }, e.prototype.initBottomData = function () {
    var t = this,
        e = this.collectionData.getProcess(),
        o = this.collectionData.getAllCollectionData();
    this.processNum.string = e + "/" + o.length, this.spriteBar.fillRange = e / o.length, this.collectionData.data.isGet ? this.giftNode.active = !1 : (this.giftNode.targetOff(cc.Node.EventType.TOUCH_END), c.TweenMgr.getInstance().stopTween(this.giftNode), this.spriteBar.fillRange >= 1 && (c.TweenMgr.getInstance().jumpAniForever(this.giftNode), this.giftNode.on(cc.Node.EventType.TOUCH_END, function () {
      c.TweenMgr.getInstance().stopTween(t.giftNode);
      var e = t.collectionData.getCurrentReward();
      e && cc.tween(t.giftNode).to(.8, {
        position: new cc.Vec3(0, 400)
      }).call(function () {
        t.openUI(u.ComUIID.UIReward, e), t.giftNode.setPosition(t.giftLayoutPos), t.collectionData.receiveTaskReward(function (e) {
          e ? t.refreshItemData() : t.giftNode.active = !1;
        });
      }).start();
    })));
  }, e.prototype.clickItem = function (t, e) {
    var o = this,
        a = this.collectionData.getCollectionData(t);

    if (!a.isGet) {
      var i = e.getChildByName("btnOk"),
          r = p.ComDataMgr.getInstance().getCollectionItemById(a.itemId);

      if (a.finished) {
        if (r && r.comit) {
          var n = e.convertToWorldSpaceAR(cc.Vec2.ZERO);
          g.ComPlayerMgr.getInstance().checkOpenReward(r.comit, n, !1);
        }

        return this.collectionData.finishData(t), this.loadSpriteFrame("comimgs", "button/btn_finished", function (t) {
          i.getComponent(cc.Sprite).spriteFrame = t;
        }), c.TweenMgr.getInstance().stopTween(i), void this.initBottomData();
      }

      a.isTips && a.adTip ? this.popTips(e, t, r.tips) : s.SdkMgr.getInstance().playVideo(s.AdType.Collection, function () {
        a.adTip ? (o.collectionData.addAdTips(t), o.loadSpriteFrame("comimgs", "button/btn_tips", function (t) {
          i.getComponent(cc.Sprite).spriteFrame = t;
        }), o.popTips(e, t, r.tips)) : o.collectionData.addData(a.goodId, r.getNum, !0);
      });
    }
  }, e.prototype.popTips = function (t, e, o) {
    var a = this;
    this.tipText.unscheduleAllCallbacks();
    var i = t.convertToWorldSpaceAR(cc.Vec2.ZERO),
        r = this.tipNode.parent.convertToNodeSpaceAR(i);
    this.tipNode.setPosition(r);
    var n = !0;
    2 == e || 5 == e ? (n = !1, this.tipNode.scaleX = -1, this.tipText.node.scaleX = -.5) : (n = !0, this.tipNode.scaleX = 1, this.tipText.node.scaleX = .5), this.tipText.string = o, this.tipNode.active = !0;
    var s = this.node.getChildByName("root");
    this.rootAddClick || (this.rootAddClick = !0, s.on(cc.Node.EventType.TOUCH_START, function () {
      a.tipNode.active = !1;
    })), n ? this.popRightTween ? this.popRightTween.start() : (this.popRightTween = cc.tween(this.tipNode).to(.1, {
      scaleX: .9
    }).to(.05, {
      scaleX: 1.1
    }).to(.1, {
      scaleX: 1
    }), this.popRightTween.start()) : this.popLeftTween ? this.popLeftTween.start() : (this.popLeftTween = cc.tween(this.tipNode).to(.1, {
      scaleX: -.9
    }).to(.05, {
      scaleX: -1.1
    }).to(.1, {
      scaleX: -1
    }), this.popLeftTween.start()), this.tipText.scheduleOnce(function () {
      a.popDis = cc.tween(a.tipNode).to(.5, {
        opacity: 122
      }).call(function () {
        a.tipNode.active = !1, a.tipNode.opacity = 255;
      }).start();
    }, 2);
  }, e.prototype.refreshItemData = function () {
    this.initData(!1), this.initBottomData(), this.initTimeData();
  }, e.prototype.initBtnListener = function () {
    var t = this;
    this.btnClose.on(cc.Node.EventType.TOUCH_END, function () {
      t.closeUI();
    });
  }, e.prototype.onClose = function () {
    this.unscheduleAllCallbacks();
  }, r([f(cc.Node)], e.prototype, "btnClose", void 0), r([f(cc.Node)], e.prototype, "timeNode", void 0), r([f(cc.Node)], e.prototype, "itemLayout", void 0), r([f(cc.Sprite)], e.prototype, "spriteBar", void 0), r([f(cc.Label)], e.prototype, "processNum", void 0), r([f(cc.Node)], e.prototype, "giftNode", void 0), r([f(cc.Node)], e.prototype, "tipNode", void 0), r([f(cc.Label)], e.prototype, "tipText", void 0), r([h], e);
}(n["default"]);

o["default"] = m;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcVUlDb2xsZWN0aW9uLmpzIl0sIm5hbWVzIjpbInQiLCJyZXF1aXJlIiwiZSIsIm1vZHVsZSIsIm8iLCJleHBvcnRzIiwiYSIsImkiLCJfX2V4dGVuZHMiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJyIiwiX19kZWNvcmF0ZSIsImFyZ3VtZW50cyIsImxlbmd0aCIsIm4iLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJzIiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsImMiLCJsIiwidSIsInAiLCJnIiwiZCIsImNjIiwiX2RlY29yYXRvciIsImgiLCJjY2NsYXNzIiwiZiIsInByb3BlcnR5IiwibSIsImFwcGx5IiwiYnRuQ2xvc2UiLCJ0aW1lTm9kZSIsIml0ZW1MYXlvdXQiLCJzcHJpdGVCYXIiLCJwcm9jZXNzTnVtIiwiZ2lmdE5vZGUiLCJ0aXBOb2RlIiwidGlwVGV4dCIsInJvb3RBZGRDbGljayIsInN0YXJ0IiwiYWRkRXZlbnQiLCJDb21tb25FdmVudE5hbWUiLCJSZWZyZXNoQ29sbGVjdGlvbiIsInJlZnJlc2hJdGVtRGF0YSIsImNvbGxlY3Rpb25EYXRhIiwiQ29tUGxheWVyTWdyIiwiZ2V0SW5zdGFuY2UiLCJnZXRDb2xsZWN0aW9uRGF0YSIsImluaXRCdG5MaXN0ZW5lciIsImluaXRUaW1lRGF0YSIsImluaXREYXRhIiwiaW5pdEJvdHRvbURhdGEiLCJnaWZ0TGF5b3V0UG9zIiwiZ2V0UG9zaXRpb24iLCJnZXRFbmR0aW1lIiwiYWN0aXZlIiwiVGltZVV0aWxzIiwiR2V0VGltZUJ5U2Vjb25kIiwiZ2V0Q2hpbGRCeU5hbWUiLCJnZXRDb21wb25lbnQiLCJMYWJlbCIsInN0cmluZyIsInJlZnJlRGF0YSIsIlNlY29uZFRvSG91cnMiLCJzY2hlZHVsZSIsInVuc2NoZWR1bGVBbGxDYWxsYmFja3MiLCJtYWNybyIsIlJFUEVBVF9GT1JFVkVSIiwiY2hpbGRyZW4iLCJuYW1lIiwiaWQiLCJUd2Vlbk1nciIsInN0b3BUd2VlbiIsImlzR2V0IiwiZmluaXNoZWQiLCJwbGF5SGVhcnRBbmkiLCJhZFRpcCIsImlzVGlwcyIsIkNvbURhdGFNZ3IiLCJnZXRDb2xsZWN0aW9uSXRlbUJ5SWQiLCJpdGVtSWQiLCJudW0iLCJuZWVkTnVtIiwiZ2V0R29vZHNCeUlkIiwiZ29vZElkIiwibG9hZFNwcml0ZUZyYW1lIiwiYnVuZGxlTmFtZSIsInJld2FyZEljb24iLCJTcHJpdGUiLCJzcHJpdGVGcmFtZSIsIm9uIiwiTm9kZSIsIkV2ZW50VHlwZSIsIlRPVUNIX0VORCIsImNsaWNrSXRlbSIsImNoaWxkcmVuQ291bnQiLCJnZXRQcm9jZXNzIiwiZ2V0QWxsQ29sbGVjdGlvbkRhdGEiLCJmaWxsUmFuZ2UiLCJkYXRhIiwidGFyZ2V0T2ZmIiwianVtcEFuaUZvcmV2ZXIiLCJnZXRDdXJyZW50UmV3YXJkIiwidHdlZW4iLCJ0byIsInBvc2l0aW9uIiwiVmVjMyIsIm9wZW5VSSIsIkNvbVVJSUQiLCJVSVJld2FyZCIsInNldFBvc2l0aW9uIiwicmVjZWl2ZVRhc2tSZXdhcmQiLCJjb21pdCIsImNvbnZlcnRUb1dvcmxkU3BhY2VBUiIsIlZlYzIiLCJaRVJPIiwiY2hlY2tPcGVuUmV3YXJkIiwiZmluaXNoRGF0YSIsInBvcFRpcHMiLCJ0aXBzIiwiU2RrTWdyIiwicGxheVZpZGVvIiwiQWRUeXBlIiwiQ29sbGVjdGlvbiIsImFkZEFkVGlwcyIsImFkZERhdGEiLCJnZXROdW0iLCJwYXJlbnQiLCJjb252ZXJ0VG9Ob2RlU3BhY2VBUiIsInNjYWxlWCIsIm5vZGUiLCJUT1VDSF9TVEFSVCIsInBvcFJpZ2h0VHdlZW4iLCJwb3BMZWZ0VHdlZW4iLCJzY2hlZHVsZU9uY2UiLCJwb3BEaXMiLCJvcGFjaXR5IiwiY2xvc2VVSSIsIm9uQ2xvc2UiXSwibWFwcGlu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Q3FFLElBQUosQ0FBRixDQUFELEVBQWV0RyxDQUFDLENBQUNXLFNBQWpCLEVBQTRCLFVBQTVCLEVBQXdDLEtBQUssQ0FBN0MsQ0FyS00sRUFzS1BLLENBQUMsQ0FBQyxDQUFDcUIsQ0FBQyxDQUFDSixFQUFFLENBQUNxRSxJQUFKLENBQUYsQ0FBRCxFQUFldEcsQ0FBQyxDQUFDVyxTQUFqQixFQUE0QixTQUE1QixFQUF1QyxLQUFLLENBQTVDLENBdEtNLEVBdUtQSyxDQUFDLENBQUMsQ0FBQ3FCLENBQUMsQ0FBQ0osRUFBRSxDQUFDc0MsS0FBSixDQUFGLENBQUQsRUFBZ0J2RSxDQUFDLENBQUNXLFNBQWxCLEVBQTZCLFNBQTdCLEVBQXdDLEtBQUssQ0FBN0MsQ0F2S00sRUF3S1BLLENBQUMsQ0FBQyxDQUFDbUIsQ0FBRCxDQUFELEVBQU1uQyxDQUFOLENBeEtEO0FBeUtILENBdkxHLENBdUxEb0IsQ0FBQyxXQXZMQSxDQVZKOztBQWtNQWxCLENBQUMsV0FBRCxHQUFZcUMsQ0FBWiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHQgPSByZXF1aXJlO1xudmFyIGUgPSBtb2R1bGU7XG52YXIgbyA9IGV4cG9ydHM7XG52YXIgYSwgaSA9IHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMgfHwgKGEgPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgcmV0dXJuIChhID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IHtcbiAgICAgICAgX19wcm90b19fOiBbXVxuICAgIH1cbiAgICBpbnN0YW5jZW9mIEFycmF5ICYmXG4gICAgZnVuY3Rpb24odCwgZSkge1xuICAgICAgICB0Ll9fcHJvdG9fXyA9IGVcbiAgICB9IHx8XG4gICAgZnVuY3Rpb24odCwgZSkge1xuICAgICAgICBmb3IgKHZhciBvIGluIGUpIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLCBvKSAmJiAodFtvXSA9IGVbb10pXG4gICAgfSkodCwgZSlcbn0sXG5mdW5jdGlvbih0LCBlKSB7XG4gICAgZnVuY3Rpb24gbygpIHtcbiAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IHRcbiAgICB9XG4gICAgYSh0LCBlKSxcbiAgICB0LnByb3RvdHlwZSA9IG51bGwgPT09IGUgPyBPYmplY3QuY3JlYXRlKGUpIDogKG8ucHJvdG90eXBlID0gZS5wcm90b3R5cGUsIG5ldyBvKVxufSksXG5yID0gdGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUgfHxcbmZ1bmN0aW9uKHQsIGUsIG8sIGEpIHtcbiAgICB2YXIgaSwgciA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgbiA9IHIgPCAzID8gZTogbnVsbCA9PT0gYSA/IGEgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIG8pIDogYTtcbiAgICBpZiAoXCJvYmplY3RcIiA9PSB0eXBlb2YgUmVmbGVjdCAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpIG4gPSBSZWZsZWN0LmRlY29yYXRlKHQsIGUsIG8sIGEpO1xuICAgIGVsc2UgZm9yICh2YXIgcyA9IHQubGVuZ3RoIC0gMTsgcyA+PSAwOyBzLS0pKGkgPSB0W3NdKSAmJiAobiA9IChyIDwgMyA/IGkobikgOiByID4gMyA/IGkoZSwgbywgbikgOiBpKGUsIG8pKSB8fCBuKTtcbiAgICByZXR1cm4gciA+IDMgJiYgbiAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgbywgbiksXG4gICAgblxufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiAhMFxufSk7XG52YXIgbiA9IHQoXCJCYXNlVUlcIiksXG5zID0gdChcIlNka01nclwiKSxcbmMgPSB0KFwiVHdlZW5NZ3JcIiksXG5sID0gdChcIlRpbWVVdGlsc1wiKSxcbnUgPSB0KFwiQ29tbW9uQ2ZnXCIpLFxucCA9IHQoXCJDb21EYXRhTWdyXCIpLFxuZyA9IHQoXCJDb21QbGF5ZXJNZ3JcIiksXG5kID0gY2MuX2RlY29yYXRvcixcbmggPSBkLmNjY2xhc3MsXG5mID0gZC5wcm9wZXJ0eSxcbm0gPSBmdW5jdGlvbih0KSB7XG4gICAgZnVuY3Rpb24gZSgpIHtcbiAgICAgICAgdmFyIGUgPSBudWxsICE9PSB0ICYmIHQuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICByZXR1cm4gZS5idG5DbG9zZSA9IG51bGwsXG4gICAgICAgIGUudGltZU5vZGUgPSBudWxsLFxuICAgICAgICBlLml0ZW1MYXlvdXQgPSBudWxsLFxuICAgICAgICBlLnNwcml0ZUJhciA9IG51bGwsXG4gICAgICAgIGUucHJvY2Vzc051bSA9IG51bGwsXG4gICAgICAgIGUuZ2lmdE5vZGUgPSBudWxsLFxuICAgICAgICBlLnRpcE5vZGUgPSBudWxsLFxuICAgICAgICBlLnRpcFRleHQgPSBudWxsLFxuICAgICAgICBlLnJvb3RBZGRDbGljayA9ICExLFxuICAgICAgICBlXG4gICAgfVxuICAgIHJldHVybiBpKGUsIHQpLFxuICAgIGUucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuYWRkRXZlbnQodS5Db21tb25FdmVudE5hbWUuUmVmcmVzaENvbGxlY3Rpb24sIHRoaXMucmVmcmVzaEl0ZW1EYXRhKSxcbiAgICAgICAgdGhpcy5jb2xsZWN0aW9uRGF0YSA9IGcuQ29tUGxheWVyTWdyLmdldEluc3RhbmNlKCkuZ2V0Q29sbGVjdGlvbkRhdGEoKSxcbiAgICAgICAgdGhpcy5pbml0QnRuTGlzdGVuZXIoKSxcbiAgICAgICAgdGhpcy5pbml0VGltZURhdGEoKSxcbiAgICAgICAgdGhpcy5pbml0RGF0YSgpLFxuICAgICAgICB0aGlzLmluaXRCb3R0b21EYXRhKCksXG4gICAgICAgIHRoaXMuZ2lmdExheW91dFBvcyA9IHRoaXMuZ2lmdE5vZGUuZ2V0UG9zaXRpb24oKVxuICAgIH0sXG4gICAgZS5wcm90b3R5cGUuaW5pdFRpbWVEYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcyxcbiAgICAgICAgZSA9IHRoaXMuY29sbGVjdGlvbkRhdGEuZ2V0RW5kdGltZSgpO1xuICAgICAgICBpZiAoIC0gMSA9PSBlKSB0aGlzLnRpbWVOb2RlLmFjdGl2ZSA9ICExO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBvID0gZSAtIGwuVGltZVV0aWxzLkdldFRpbWVCeVNlY29uZCgpLFxuICAgICAgICAgICAgYSA9IHRoaXMudGltZU5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJ0aW1lTGFibGVcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcbiAgICAgICAgICAgIG8gPD0gMCA/IChhLnN0cmluZyA9IFwiMDA6MDA6MDBcIiwgdGhpcy5jb2xsZWN0aW9uRGF0YS5yZWZyZURhdGEoKSkgOiAoYS5zdHJpbmcgPSBsLlRpbWVVdGlscy5TZWNvbmRUb0hvdXJzKG8pLCBhLnNjaGVkdWxlKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBvID0gZSAtIGwuVGltZVV0aWxzLkdldFRpbWVCeVNlY29uZCgpO1xuICAgICAgICAgICAgICAgIG8gPiAwID8gYS5zdHJpbmcgPSBsLlRpbWVVdGlscy5TZWNvbmRUb0hvdXJzKG8pIDogKGEudW5zY2hlZHVsZUFsbENhbGxiYWNrcygpLCBhLnN0cmluZyA9IFwiMDA6MDA6MDBcIiwgdC5jb2xsZWN0aW9uRGF0YS5yZWZyZURhdGEoKSwgdC5yZWZyZXNoSXRlbURhdGEoKSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAxLCBjYy5tYWNyby5SRVBFQVRfRk9SRVZFUikpXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGUucHJvdG90eXBlLmluaXREYXRhID0gZnVuY3Rpb24odCkge1xuICAgICAgICB2YXIgZSA9IHRoaXM7XG4gICAgICAgIHZvaWQgMCA9PT0gdCAmJiAodCA9ICEwKTtcbiAgICAgICAgZm9yICh2YXIgbyA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgICAgICAgIHZhciBpID0gYS5pdGVtTGF5b3V0LmNoaWxkcmVuW29dLFxuICAgICAgICAgICAgciA9IGEuY29sbGVjdGlvbkRhdGEuZ2V0Q29sbGVjdGlvbkRhdGEobyk7XG4gICAgICAgICAgICBpZiAobnVsbCA9PSByKSByZXR1cm4gaS5nZXRDaGlsZEJ5TmFtZShcImVtcHR5XCIpLmFjdGl2ZSA9ICEwLFxuICAgICAgICAgICAgXCJjb250aW51ZVwiO1xuICAgICAgICAgICAgaS5nZXRDaGlsZEJ5TmFtZShcImVtcHR5XCIpLmFjdGl2ZSA9ICExLFxuICAgICAgICAgICAgaS5uYW1lID0gci5pZCArIFwiXCI7XG4gICAgICAgICAgICB2YXIgbiA9IGkuZ2V0Q2hpbGRCeU5hbWUoXCJidG5Pa1wiKTtcbiAgICAgICAgICAgIGMuVHdlZW5NZ3IuZ2V0SW5zdGFuY2UoKS5zdG9wVHdlZW4obik7XG4gICAgICAgICAgICB2YXIgcyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHIuaXNHZXQgPyBzID0gXCJidXR0b24vYnRuX2ZpbmlzaGVkXCI6IHIuZmluaXNoZWQgJiYgIXIuaXNHZXQgPyAocyA9IFwiYnV0dG9uL2J0bl9zdWJtaXRcIiwgYy5Ud2Vlbk1nci5nZXRJbnN0YW5jZSgpLnBsYXlIZWFydEFuaShuKSkgOiByLmFkVGlwID8gKHMgPSBcImJ1dHRvbi9idG5fYWR0aXBzXCIsIHIuaXNUaXBzICYmIChzID0gXCJidXR0b24vYnRuX3RpcHNcIikpIDogcyA9IFwiYnV0dG9uL2J0bl9hZGdldFwiO1xuICAgICAgICAgICAgdmFyIGwgPSBpLmdldENoaWxkQnlOYW1lKFwiaWNvblwiKSxcbiAgICAgICAgICAgIHUgPSBpLmdldENoaWxkQnlOYW1lKFwicHJvY2Vzc1wiKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLFxuICAgICAgICAgICAgZyA9IHAuQ29tRGF0YU1nci5nZXRJbnN0YW5jZSgpLmdldENvbGxlY3Rpb25JdGVtQnlJZChyLml0ZW1JZCk7XG4gICAgICAgICAgICB1LnN0cmluZyA9IHIubnVtICsgXCIvXCIgKyBnLm5lZWROdW07XG4gICAgICAgICAgICB2YXIgZCA9IHAuQ29tRGF0YU1nci5nZXRJbnN0YW5jZSgpLmdldEdvb2RzQnlJZChyLmdvb2RJZCk7XG4gICAgICAgICAgICBhLmxvYWRTcHJpdGVGcmFtZShkLmJ1bmRsZU5hbWUsIGQucmV3YXJkSWNvbixcbiAgICAgICAgICAgIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICBsLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gdFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBhLmxvYWRTcHJpdGVGcmFtZShcImNvbWltZ3NcIiwgcyxcbiAgICAgICAgICAgIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICBuLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gdFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB0ICYmIG4ub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELFxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZS5jbGlja0l0ZW0oci5pZCwgaSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIGEgPSB0aGlzLCBpID0gMDsgaSA8IHRoaXMuaXRlbUxheW91dC5jaGlsZHJlbkNvdW50OyBpKyspIG8oaSlcbiAgICB9LFxuICAgIGUucHJvdG90eXBlLmluaXRCb3R0b21EYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcyxcbiAgICAgICAgZSA9IHRoaXMuY29sbGVjdGlvbkRhdGEuZ2V0UHJvY2VzcygpLFxuICAgICAgICBvID0gdGhpcy5jb2xsZWN0aW9uRGF0YS5nZXRBbGxDb2xsZWN0aW9uRGF0YSgpO1xuICAgICAgICB0aGlzLnByb2Nlc3NOdW0uc3RyaW5nID0gZSArIFwiL1wiICsgby5sZW5ndGgsXG4gICAgICAgIHRoaXMuc3ByaXRlQmFyLmZpbGxSYW5nZSA9IGUgLyBvLmxlbmd0aCxcbiAgICAgICAgdGhpcy5jb2xsZWN0aW9uRGF0YS5kYXRhLmlzR2V0ID8gdGhpcy5naWZ0Tm9kZS5hY3RpdmUgPSAhMSA6ICh0aGlzLmdpZnROb2RlLnRhcmdldE9mZihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQpLCBjLlR3ZWVuTWdyLmdldEluc3RhbmNlKCkuc3RvcFR3ZWVuKHRoaXMuZ2lmdE5vZGUpLCB0aGlzLnNwcml0ZUJhci5maWxsUmFuZ2UgPj0gMSAmJiAoYy5Ud2Vlbk1nci5nZXRJbnN0YW5jZSgpLmp1bXBBbmlGb3JldmVyKHRoaXMuZ2lmdE5vZGUpLCB0aGlzLmdpZnROb2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCxcbiAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjLlR3ZWVuTWdyLmdldEluc3RhbmNlKCkuc3RvcFR3ZWVuKHQuZ2lmdE5vZGUpO1xuICAgICAgICAgICAgdmFyIGUgPSB0LmNvbGxlY3Rpb25EYXRhLmdldEN1cnJlbnRSZXdhcmQoKTtcbiAgICAgICAgICAgIGUgJiYgY2MudHdlZW4odC5naWZ0Tm9kZSkudG8oLjgsIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IGNjLlZlYzMoMCwgNDAwKVxuICAgICAgICAgICAgfSkuY2FsbChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0Lm9wZW5VSSh1LkNvbVVJSUQuVUlSZXdhcmQsIGUpLFxuICAgICAgICAgICAgICAgIHQuZ2lmdE5vZGUuc2V0UG9zaXRpb24odC5naWZ0TGF5b3V0UG9zKSxcbiAgICAgICAgICAgICAgICB0LmNvbGxlY3Rpb25EYXRhLnJlY2VpdmVUYXNrUmV3YXJkKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZSA/IHQucmVmcmVzaEl0ZW1EYXRhKCkgOiB0LmdpZnROb2RlLmFjdGl2ZSA9ICExXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pLnN0YXJ0KClcbiAgICAgICAgfSkpKVxuICAgIH0sXG4gICAgZS5wcm90b3R5cGUuY2xpY2tJdGVtID0gZnVuY3Rpb24odCwgZSkge1xuICAgICAgICB2YXIgbyA9IHRoaXMsXG4gICAgICAgIGEgPSB0aGlzLmNvbGxlY3Rpb25EYXRhLmdldENvbGxlY3Rpb25EYXRhKHQpO1xuICAgICAgICBpZiAoIWEuaXNHZXQpIHtcbiAgICAgICAgICAgIHZhciBpID0gZS5nZXRDaGlsZEJ5TmFtZShcImJ0bk9rXCIpLFxuICAgICAgICAgICAgciA9IHAuQ29tRGF0YU1nci5nZXRJbnN0YW5jZSgpLmdldENvbGxlY3Rpb25JdGVtQnlJZChhLml0ZW1JZCk7XG4gICAgICAgICAgICBpZiAoYS5maW5pc2hlZCkge1xuICAgICAgICAgICAgICAgIGlmIChyICYmIHIuY29taXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBlLmNvbnZlcnRUb1dvcmxkU3BhY2VBUihjYy5WZWMyLlpFUk8pO1xuICAgICAgICAgICAgICAgICAgICBnLkNvbVBsYXllck1nci5nZXRJbnN0YW5jZSgpLmNoZWNrT3BlblJld2FyZChyLmNvbWl0LCBuLCAhMSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdGlvbkRhdGEuZmluaXNoRGF0YSh0KSxcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRTcHJpdGVGcmFtZShcImNvbWltZ3NcIiwgXCJidXR0b24vYnRuX2ZpbmlzaGVkXCIsXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgICAgICBpLmdldENvbXBvbmVudChjYy5TcHJpdGUpLnNwcml0ZUZyYW1lID0gdFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGMuVHdlZW5NZ3IuZ2V0SW5zdGFuY2UoKS5zdG9wVHdlZW4oaSksXG4gICAgICAgICAgICAgICAgdm9pZCB0aGlzLmluaXRCb3R0b21EYXRhKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGEuaXNUaXBzICYmIGEuYWRUaXAgPyB0aGlzLnBvcFRpcHMoZSwgdCwgci50aXBzKSA6IHMuU2RrTWdyLmdldEluc3RhbmNlKCkucGxheVZpZGVvKHMuQWRUeXBlLkNvbGxlY3Rpb24sXG4gICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBhLmFkVGlwID8gKG8uY29sbGVjdGlvbkRhdGEuYWRkQWRUaXBzKHQpLCBvLmxvYWRTcHJpdGVGcmFtZShcImNvbWltZ3NcIiwgXCJidXR0b24vYnRuX3RpcHNcIixcbiAgICAgICAgICAgICAgICBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgICAgIGkuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSB0XG4gICAgICAgICAgICAgICAgfSksIG8ucG9wVGlwcyhlLCB0LCByLnRpcHMpKSA6IG8uY29sbGVjdGlvbkRhdGEuYWRkRGF0YShhLmdvb2RJZCwgci5nZXROdW0sICEwKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZS5wcm90b3R5cGUucG9wVGlwcyA9IGZ1bmN0aW9uKHQsIGUsIG8pIHtcbiAgICAgICAgdmFyIGEgPSB0aGlzO1xuICAgICAgICB0aGlzLnRpcFRleHQudW5zY2hlZHVsZUFsbENhbGxiYWNrcygpO1xuICAgICAgICB2YXIgaSA9IHQuY29udmVydFRvV29ybGRTcGFjZUFSKGNjLlZlYzIuWkVSTyksXG4gICAgICAgIHIgPSB0aGlzLnRpcE5vZGUucGFyZW50LmNvbnZlcnRUb05vZGVTcGFjZUFSKGkpO1xuICAgICAgICB0aGlzLnRpcE5vZGUuc2V0UG9zaXRpb24ocik7XG4gICAgICAgIHZhciBuID0gITA7XG4gICAgICAgIDIgPT0gZSB8fCA1ID09IGUgPyAobiA9ICExLCB0aGlzLnRpcE5vZGUuc2NhbGVYID0gLTEsIHRoaXMudGlwVGV4dC5ub2RlLnNjYWxlWCA9IC0uNSkgOiAobiA9ICEwLCB0aGlzLnRpcE5vZGUuc2NhbGVYID0gMSwgdGhpcy50aXBUZXh0Lm5vZGUuc2NhbGVYID0gLjUpLFxuICAgICAgICB0aGlzLnRpcFRleHQuc3RyaW5nID0gbyxcbiAgICAgICAgdGhpcy50aXBOb2RlLmFjdGl2ZSA9ICEwO1xuICAgICAgICB2YXIgcyA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcInJvb3RcIik7XG4gICAgICAgIHRoaXMucm9vdEFkZENsaWNrIHx8ICh0aGlzLnJvb3RBZGRDbGljayA9ICEwLCBzLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULFxuICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGEudGlwTm9kZS5hY3RpdmUgPSAhMVxuICAgICAgICB9KSksXG4gICAgICAgIG4gPyB0aGlzLnBvcFJpZ2h0VHdlZW4gPyB0aGlzLnBvcFJpZ2h0VHdlZW4uc3RhcnQoKSA6ICh0aGlzLnBvcFJpZ2h0VHdlZW4gPSBjYy50d2Vlbih0aGlzLnRpcE5vZGUpLnRvKC4xLCB7XG4gICAgICAgICAgICBzY2FsZVg6IC45XG4gICAgICAgIH0pLnRvKC4wNSwge1xuICAgICAgICAgICAgc2NhbGVYOiAxLjFcbiAgICAgICAgfSkudG8oLjEsIHtcbiAgICAgICAgICAgIHNjYWxlWDogMVxuICAgICAgICB9KSwgdGhpcy5wb3BSaWdodFR3ZWVuLnN0YXJ0KCkpIDogdGhpcy5wb3BMZWZ0VHdlZW4gPyB0aGlzLnBvcExlZnRUd2Vlbi5zdGFydCgpIDogKHRoaXMucG9wTGVmdFR3ZWVuID0gY2MudHdlZW4odGhpcy50aXBOb2RlKS50byguMSwge1xuICAgICAgICAgICAgc2NhbGVYOiAtLjlcbiAgICAgICAgfSkudG8oLjA1LCB7XG4gICAgICAgICAgICBzY2FsZVg6IC0xLjFcbiAgICAgICAgfSkudG8oLjEsIHtcbiAgICAgICAgICAgIHNjYWxlWDogLTFcbiAgICAgICAgfSksIHRoaXMucG9wTGVmdFR3ZWVuLnN0YXJ0KCkpLFxuICAgICAgICB0aGlzLnRpcFRleHQuc2NoZWR1bGVPbmNlKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgYS5wb3BEaXMgPSBjYy50d2VlbihhLnRpcE5vZGUpLnRvKC41LCB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMTIyXG4gICAgICAgICAgICB9KS5jYWxsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGEudGlwTm9kZS5hY3RpdmUgPSAhMSxcbiAgICAgICAgICAgICAgICBhLnRpcE5vZGUub3BhY2l0eSA9IDI1NVxuICAgICAgICAgICAgfSkuc3RhcnQoKVxuICAgICAgICB9LFxuICAgICAgICAyKVxuICAgIH0sXG4gICAgZS5wcm90b3R5cGUucmVmcmVzaEl0ZW1EYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuaW5pdERhdGEoITEpLFxuICAgICAgICB0aGlzLmluaXRCb3R0b21EYXRhKCksXG4gICAgICAgIHRoaXMuaW5pdFRpbWVEYXRhKClcbiAgICB9LFxuICAgIGUucHJvdG90eXBlLmluaXRCdG5MaXN0ZW5lciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdCA9IHRoaXM7XG4gICAgICAgIHRoaXMuYnRuQ2xvc2Uub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELFxuICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHQuY2xvc2VVSSgpXG4gICAgICAgIH0pXG4gICAgfSxcbiAgICBlLnByb3RvdHlwZS5vbkNsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMudW5zY2hlZHVsZUFsbENhbGxiYWNrcygpXG4gICAgfSxcbiAgICByKFtmKGNjLk5vZGUpXSwgZS5wcm90b3R5cGUsIFwiYnRuQ2xvc2VcIiwgdm9pZCAwKSxcbiAgICByKFtmKGNjLk5vZGUpXSwgZS5wcm90b3R5cGUsIFwidGltZU5vZGVcIiwgdm9pZCAwKSxcbiAgICByKFtmKGNjLk5vZGUpXSwgZS5wcm90b3R5cGUsIFwiaXRlbUxheW91dFwiLCB2b2lkIDApLFxuICAgIHIoW2YoY2MuU3ByaXRlKV0sIGUucHJvdG90eXBlLCBcInNwcml0ZUJhclwiLCB2b2lkIDApLFxuICAgIHIoW2YoY2MuTGFiZWwpXSwgZS5wcm90b3R5cGUsIFwicHJvY2Vzc051bVwiLCB2b2lkIDApLFxuICAgIHIoW2YoY2MuTm9kZSldLCBlLnByb3RvdHlwZSwgXCJnaWZ0Tm9kZVwiLCB2b2lkIDApLFxuICAgIHIoW2YoY2MuTm9kZSldLCBlLnByb3RvdHlwZSwgXCJ0aXBOb2RlXCIsIHZvaWQgMCksXG4gICAgcihbZihjYy5MYWJlbCldLCBlLnByb3RvdHlwZSwgXCJ0aXBUZXh0XCIsIHZvaWQgMCksXG4gICAgcihbaF0sIGUpXG59IChuLmRlZmF1bHQpO1xuby5kZWZhdWx0ID0gbSJdfQ==