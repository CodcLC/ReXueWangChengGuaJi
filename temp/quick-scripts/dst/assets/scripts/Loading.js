
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/Loading.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '41b57as2OZEuZ652LPFYv15', 'Loading');
// scripts/Loading.js

"use strict";

var t = require;
var e = module;
var o = exports;

var _a,
    i = void 0 && (void 0).__extends || (_a = function a(t, e) {
  return (_a = Object.setPrototypeOf || {
    __proto__: []
  } instanceof Array && function (t, e) {
    t.__proto__ = e;
  } || function (t, e) {
    for (var o in e) {
      Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
    }
  })(t, e);
}, function (t, e) {
  function o() {
    this.constructor = t;
  }

  _a(t, e), t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o());
}),
    r = void 0 && (void 0).__decorate || function (t, e, o, a) {
  var i,
      r = arguments.length,
      n = r < 3 ? e : null === a ? a = Object.getOwnPropertyDescriptor(e, o) : a;
  if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) n = Reflect.decorate(t, e, o, a);else for (var s = t.length - 1; s >= 0; s--) {
    (i = t[s]) && (n = (r < 3 ? i(n) : r > 3 ? i(e, o, n) : i(e, o)) || n);
  }
  return r > 3 && n && Object.defineProperty(e, o, n), n;
};

Object.defineProperty(o, "__esModule", {
  value: !0
});

var n = t("CommonModel"),
    s = t("Appcfg"),
    c = t("AudioMgr"),
    l = t("EventMgr"),
    u = t("PlatformManager"),
    p = t("PoolMgr"),
    g = t("ResCacheMgr"),
    d = t("ResourceMgr"),
    h = t("SdkMgr"),
    f = t("UIMgr"),
    m = t("Config"),
    y = t("TrackDataEvent"),
    v = t("CardMgr"),
    I = t("DataMgr"),
    k = t("PlayerMgr"),
    C = cc._decorator,
    S = C.ccclass,
    M = C.property,
    _ = function (t) {
  function e() {
    var e = null !== t && t.apply(this, arguments) || this;
    return e.uiRoot = null, e.tips = null, e.progressBar = null, e.process = 0, e.sceneName = "Main", e;
  }

  return i(e, t), e.prototype.onLoad = function () {
    cc.director.preloadScene(this.sceneName);
  }, e.prototype.start = function () {
    var t = this;
    cc.game.addPersistRootNode(this.uiRoot), this.progressBar.progress = 0, this.tips.string = "资源加载中...", u.PlatformManager.getInstance().init(), l.EventMgr.getInstance().on(s.BaseEventName.GoGame, this, this.goGame), g.ResCacheMgr.getInstance().init(), this.preloadUI(), f.UIMgr.getInstance().addUICnf(m.UICF), f.UIMgr.getInstance().Init(this.uiRoot), c.AudioMgr.getInstance().init(m.AudioCF), l.EventMgr.getInstance().on(s.BaseEventName.Loading, this, this.setProcessLoad), h.SdkMgr.getInstance().requestCheckVersion(function () {
      t.setProcessLoad(s.LoadingProcess.StartLoading);
    });
  }, e.prototype.trackEvent = function () {
    k.PlayerMgr.getInstance().getTrackData().youmengTrack(y.TrackId.guide1);
  }, e.prototype.setProcessLoad = function (t) {
    var e = this;

    switch (this.process = t / 100, t) {
      case s.LoadingProcess.StartLoading:
        I.DataMgr.getInstance().preload();
        break;

      case s.LoadingProcess.ExcelCfg:
        k.PlayerMgr.getInstance().preload();
        break;

      case s.LoadingProcess.PlayerCfg:
        n.CommonModel.Instance().initCommon(function () {
          e.setProcessLoad(s.LoadingProcess.EndLoading);
        });
        break;

      case s.LoadingProcess.EndLoading:
        h.SdkMgr.getInstance().hasVerify() ? (v["default"].getInstance().isWCN() && f.UIMgr.getInstance().openUI(m.UIID.UIExit, -1), v["default"].getInstance().isVerify() ? v["default"].getInstance().toGame(function () {
          e.goGame();
        }) : f.UIMgr.getInstance().openUI(m.UIID.UIRealName, -1, function () {
          e.goGame();
        })) : this.goGame();
    }

    this.progressBar.progress = this.process;
  }, e.prototype.goGame = function () {
    cc.director.loadScene(this.sceneName), this.trackEvent();
  }, e.prototype.preloadUI = function () {
    d.ResourceMgr.getInstance().preload("prefabs", ["UIHome", "UIHomeNew", "UITop", "UIGuide"]), d.ResourceMgr.getInstance().loadRes("objects", "player/Player", cc.Prefab, function (t) {
      p.PoolMgr.getInstance().creatrePool("Player", cc.instantiate(t), 2);
    });
  }, r([M(cc.Node)], e.prototype, "uiRoot", void 0), r([M(cc.Label)], e.prototype, "tips", void 0), r([M(cc.ProgressBar)], e.prototype, "progressBar", void 0), r([S], e);
}(cc.Component);

o["default"] = _;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcc2NyaXB0c1xcTG9hZGluZy5qcyJdLCJuYW1lcyI6WyJ0IiwicmVxdWlyZSIsImUiLCJtb2R1bGUiLCJvIiwiZXhwb3J0cyIsImEiLCJpIiwiX19leHRlbmRzIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImNvbnN0cnVjdG9yIiwiY3JlYXRlIiwiciIsIl9fZGVjb3JhdGUiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJuIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiUmVmbGVjdCIsImRlY29yYXRlIiwicyIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJjIiwibCIsInUiLCJwIiwiZyIsImQiLCJoIiwiZiIsIm0iLCJ5IiwidiIsIkkiLCJrIiwiQyIsImNjIiwiX2RlY29yYXRvciIsIlMiLCJjY2NsYXNzIiwiTSIsInByb3BlcnR5IiwiXyIsImFwcGx5IiwidWlSb290IiwidGlwcyIsInByb2dyZXNzQmFyIiwicHJvY2VzcyIsInNjZW5lTmFtZSIsIm9uTG9hZCIsImRpcmVjdG9yIiwicHJlbG9hZFNjZW5lIiwic3RhcnQiLCJnYW1lIiwiYWRkUGVyc2lzdFJvb3ROb2RlIiwicHJvZ3Jlc3MiLCJzdHJpbmciLCJQbGF0Zm9ybU1hbmFnZXIiLCJnZXRJbnN0YW5jZSIsImluaXQiLCJFdmVudE1nciIsIm9uIiwiQmFzZUV2ZW50TmFtZSIsIkdvR2FtZSIsImdvR2FtZSIsIlJlc0NhY2hlTWdyIiwicHJlbG9hZFVJIiwiVUlNZ3IiLCJhZGRVSUNuZiIsIlVJQ0YiLCJJbml0IiwiQXVkaW9NZ3IiLCJBdWRpb0NGIiwiTG9hZGluZyIsInNldFByb2Nlc3NMb2FkIiwiU2RrTWdyIiwicmVxdWVzdENoZWNrVmVyc2lvbiIsIkxvYWRpbmdQcm9jZXNzIiwiU3RhcnRMb2FkaW5nIiwidHJhY2tFdmVudCIsIlBsYXllck1nciIsImdldFRyYWNrRGF0YSIsInlvdW1lbmdUcmFjayIsIlRyYWNrSWQiLCJndWlkZTEiLCJEYXRhTWdyIiwicHJlbG9hZCIsIkV4Y2VsQ2ZnIiwiUGxheWVyQ2ZnIiwiQ29tbW9uTW9kZWwiLCJJbnN0YW5jZSIsImluaXRDb21tb24iLCJFbmRMb2FkaW5nIiwiaGFzVmVyaWZ5IiwiaXNXQ04iLCJvcGVuVUkiLCJVSUlEIiwiVUlFeGl0IiwiaXNWZXJpZnkiLCJ0b0dhbWUiLCJVSVJlYWxOYW1lIiwibG9hZFNjZW5lIiwiUmVzb3VyY2VNZ3IiLCJsb2FkUmVzIiwiUHJlZmFiIiwiUG9vbE1nciIsImNyZWF0cmVQb29sIiwiaW5zdGFudGlhdGUiLCJOb2RlIiwiTGFiZWwiLCJQcm9ncmVzc0JhciIsIkNvbXBvbmVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxDQUFDLEdBQUdDLE9BQVI7QUFDQSxJQUFJQyxDQUFDLEdBQUdDLE1BQVI7QUFDQSxJQUFJQyxDQUFDLEdBQUdDLE9BQVI7O0FBQ0EsSUFBSUMsRUFBSjtBQUFBLElBQU9DLENBQUMsR0FBRyxVQUFRLFNBQUtDLFNBQWIsS0FBMkJGLEVBQUMsR0FBRyxXQUFTTixDQUFULEVBQVlFLENBQVosRUFBZTtFQUNyRCxPQUFPLENBQUNJLEVBQUMsR0FBR0csTUFBTSxDQUFDQyxjQUFQLElBQXlCO0lBQ2pDQyxTQUFTLEVBQUU7RUFEc0IsYUFHMUJDLEtBSDBCLElBSXJDLFVBQVNaLENBQVQsRUFBWUUsQ0FBWixFQUFlO0lBQ1hGLENBQUMsQ0FBQ1csU0FBRixHQUFjVCxDQUFkO0VBQ0gsQ0FOVyxJQU9aLFVBQVNGLENBQVQsRUFBWUUsQ0FBWixFQUFlO0lBQ1gsS0FBSyxJQUFJRSxDQUFULElBQWNGLENBQWQ7TUFBaUJPLE1BQU0sQ0FBQ0ksU0FBUCxDQUFpQkMsY0FBakIsQ0FBZ0NDLElBQWhDLENBQXFDYixDQUFyQyxFQUF3Q0UsQ0FBeEMsTUFBK0NKLENBQUMsQ0FBQ0ksQ0FBRCxDQUFELEdBQU9GLENBQUMsQ0FBQ0UsQ0FBRCxDQUF2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OEN0RSxFQUFFLENBQUN1RSxXQUFILENBQWVsSCxDQUFmLENBQTlDLEVBQWlFLENBQWpFO0lBQ0gsQ0FIRCxDQURBO0VBS0gsQ0ExRE0sRUEyRFBrQixDQUFDLENBQUMsQ0FBQzZCLENBQUMsQ0FBQ0osRUFBRSxDQUFDd0UsSUFBSixDQUFGLENBQUQsRUFBZWpILENBQUMsQ0FBQ1csU0FBakIsRUFBNEIsUUFBNUIsRUFBc0MsS0FBSyxDQUEzQyxDQTNETSxFQTREUEssQ0FBQyxDQUFDLENBQUM2QixDQUFDLENBQUNKLEVBQUUsQ0FBQ3lFLEtBQUosQ0FBRixDQUFELEVBQWdCbEgsQ0FBQyxDQUFDVyxTQUFsQixFQUE2QixNQUE3QixFQUFxQyxLQUFLLENBQTFDLENBNURNLEVBNkRQSyxDQUFDLENBQUMsQ0FBQzZCLENBQUMsQ0FBQ0osRUFBRSxDQUFDMEUsV0FBSixDQUFGLENBQUQsRUFBc0JuSCxDQUFDLENBQUNXLFNBQXhCLEVBQW1DLGFBQW5DLEVBQWtELEtBQUssQ0FBdkQsQ0E3RE0sRUE4RFBLLENBQUMsQ0FBQyxDQUFDMkIsQ0FBRCxDQUFELEVBQU0zQyxDQUFOLENBOUREO0FBK0RILENBekVHLENBeUVEeUMsRUFBRSxDQUFDMkUsU0F6RUYsQ0FsQko7O0FBNEZBbEgsQ0FBQyxXQUFELEdBQVk2QyxDQUFaIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdCA9IHJlcXVpcmU7XG52YXIgZSA9IG1vZHVsZTtcbnZhciBvID0gZXhwb3J0cztcbnZhciBhLCBpID0gdGhpcyAmJiB0aGlzLl9fZXh0ZW5kcyB8fCAoYSA9IGZ1bmN0aW9uKHQsIGUpIHtcbiAgICByZXR1cm4gKGEgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwge1xuICAgICAgICBfX3Byb3RvX186IFtdXG4gICAgfVxuICAgIGluc3RhbmNlb2YgQXJyYXkgJiZcbiAgICBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIHQuX19wcm90b19fID0gZVxuICAgIH0gfHxcbiAgICBmdW5jdGlvbih0LCBlKSB7XG4gICAgICAgIGZvciAodmFyIG8gaW4gZSkgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsIG8pICYmICh0W29dID0gZVtvXSlcbiAgICB9KSh0LCBlKVxufSxcbmZ1bmN0aW9uKHQsIGUpIHtcbiAgICBmdW5jdGlvbiBvKCkge1xuICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gdFxuICAgIH1cbiAgICBhKHQsIGUpLFxuICAgIHQucHJvdG90eXBlID0gbnVsbCA9PT0gZSA/IE9iamVjdC5jcmVhdGUoZSkgOiAoby5wcm90b3R5cGUgPSBlLnByb3RvdHlwZSwgbmV3IG8pXG59KSxcbnIgPSB0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSB8fFxuZnVuY3Rpb24odCwgZSwgbywgYSkge1xuICAgIHZhciBpLCByID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICBuID0gciA8IDMgPyBlOiBudWxsID09PSBhID8gYSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgbykgOiBhO1xuICAgIGlmIChcIm9iamVjdFwiID09IHR5cGVvZiBSZWZsZWN0ICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSkgbiA9IFJlZmxlY3QuZGVjb3JhdGUodCwgZSwgbywgYSk7XG4gICAgZWxzZSBmb3IgKHZhciBzID0gdC5sZW5ndGggLSAxOyBzID49IDA7IHMtLSkoaSA9IHRbc10pICYmIChuID0gKHIgPCAzID8gaShuKSA6IHIgPiAzID8gaShlLCBvLCBuKSA6IGkoZSwgbykpIHx8IG4pO1xuICAgIHJldHVybiByID4gMyAmJiBuICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBvLCBuKSxcbiAgICBuXG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6ICEwXG59KTtcbnZhciBuID0gdChcIkNvbW1vbk1vZGVsXCIpLFxucyA9IHQoXCJBcHBjZmdcIiksXG5jID0gdChcIkF1ZGlvTWdyXCIpLFxubCA9IHQoXCJFdmVudE1nclwiKSxcbnUgPSB0KFwiUGxhdGZvcm1NYW5hZ2VyXCIpLFxucCA9IHQoXCJQb29sTWdyXCIpLFxuZyA9IHQoXCJSZXNDYWNoZU1nclwiKSxcbmQgPSB0KFwiUmVzb3VyY2VNZ3JcIiksXG5oID0gdChcIlNka01nclwiKSxcbmYgPSB0KFwiVUlNZ3JcIiksXG5tID0gdChcIkNvbmZpZ1wiKSxcbnkgPSB0KFwiVHJhY2tEYXRhRXZlbnRcIiksXG52ID0gdChcIkNhcmRNZ3JcIiksXG5JID0gdChcIkRhdGFNZ3JcIiksXG5rID0gdChcIlBsYXllck1nclwiKSxcbkMgPSBjYy5fZGVjb3JhdG9yLFxuUyA9IEMuY2NjbGFzcyxcbk0gPSBDLnByb3BlcnR5LFxuXyA9IGZ1bmN0aW9uKHQpIHtcbiAgICBmdW5jdGlvbiBlKCkge1xuICAgICAgICB2YXIgZSA9IG51bGwgIT09IHQgJiYgdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIHJldHVybiBlLnVpUm9vdCA9IG51bGwsXG4gICAgICAgIGUudGlwcyA9IG51bGwsXG4gICAgICAgIGUucHJvZ3Jlc3NCYXIgPSBudWxsLFxuICAgICAgICBlLnByb2Nlc3MgPSAwLFxuICAgICAgICBlLnNjZW5lTmFtZSA9IFwiTWFpblwiLFxuICAgICAgICBlXG4gICAgfVxuICAgIHJldHVybiBpKGUsIHQpLFxuICAgIGUucHJvdG90eXBlLm9uTG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjYy5kaXJlY3Rvci5wcmVsb2FkU2NlbmUodGhpcy5zY2VuZU5hbWUpXG4gICAgfSxcbiAgICBlLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdCA9IHRoaXM7XG4gICAgICAgIGNjLmdhbWUuYWRkUGVyc2lzdFJvb3ROb2RlKHRoaXMudWlSb290KSxcbiAgICAgICAgdGhpcy5wcm9ncmVzc0Jhci5wcm9ncmVzcyA9IDAsXG4gICAgICAgIHRoaXMudGlwcy5zdHJpbmcgPSBcIui1hOa6kOWKoOi9veS4rS4uLlwiLFxuICAgICAgICB1LlBsYXRmb3JtTWFuYWdlci5nZXRJbnN0YW5jZSgpLmluaXQoKSxcbiAgICAgICAgbC5FdmVudE1nci5nZXRJbnN0YW5jZSgpLm9uKHMuQmFzZUV2ZW50TmFtZS5Hb0dhbWUsIHRoaXMsIHRoaXMuZ29HYW1lKSxcbiAgICAgICAgZy5SZXNDYWNoZU1nci5nZXRJbnN0YW5jZSgpLmluaXQoKSxcbiAgICAgICAgdGhpcy5wcmVsb2FkVUkoKSxcbiAgICAgICAgZi5VSU1nci5nZXRJbnN0YW5jZSgpLmFkZFVJQ25mKG0uVUlDRiksXG4gICAgICAgIGYuVUlNZ3IuZ2V0SW5zdGFuY2UoKS5Jbml0KHRoaXMudWlSb290KSxcbiAgICAgICAgYy5BdWRpb01nci5nZXRJbnN0YW5jZSgpLmluaXQobS5BdWRpb0NGKSxcbiAgICAgICAgbC5FdmVudE1nci5nZXRJbnN0YW5jZSgpLm9uKHMuQmFzZUV2ZW50TmFtZS5Mb2FkaW5nLCB0aGlzLCB0aGlzLnNldFByb2Nlc3NMb2FkKSxcbiAgICAgICAgaC5TZGtNZ3IuZ2V0SW5zdGFuY2UoKS5yZXF1ZXN0Q2hlY2tWZXJzaW9uKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdC5zZXRQcm9jZXNzTG9hZChzLkxvYWRpbmdQcm9jZXNzLlN0YXJ0TG9hZGluZylcbiAgICAgICAgfSlcbiAgICB9LFxuICAgIGUucHJvdG90eXBlLnRyYWNrRXZlbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgay5QbGF5ZXJNZ3IuZ2V0SW5zdGFuY2UoKS5nZXRUcmFja0RhdGEoKS55b3VtZW5nVHJhY2soeS5UcmFja0lkLmd1aWRlMSlcbiAgICB9LFxuICAgIGUucHJvdG90eXBlLnNldFByb2Nlc3NMb2FkID0gZnVuY3Rpb24odCkge1xuICAgICAgICB2YXIgZSA9IHRoaXM7XG4gICAgICAgIHN3aXRjaCAodGhpcy5wcm9jZXNzID0gdCAvIDEwMCwgdCkge1xuICAgICAgICAgICAgY2FzZSBzLkxvYWRpbmdQcm9jZXNzLlN0YXJ0TG9hZGluZzpcbiAgICAgICAgICAgICAgICBJLkRhdGFNZ3IuZ2V0SW5zdGFuY2UoKS5wcmVsb2FkKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2Ugcy5Mb2FkaW5nUHJvY2Vzcy5FeGNlbENmZzpcbiAgICAgICAgICAgICAgICBrLlBsYXllck1nci5nZXRJbnN0YW5jZSgpLnByZWxvYWQoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBzLkxvYWRpbmdQcm9jZXNzLlBsYXllckNmZzpcbiAgICAgICAgICAgICAgICBuLkNvbW1vbk1vZGVsLkluc3RhbmNlKCkuaW5pdENvbW1vbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBlLnNldFByb2Nlc3NMb2FkKHMuTG9hZGluZ1Byb2Nlc3MuRW5kTG9hZGluZylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHMuTG9hZGluZ1Byb2Nlc3MuRW5kTG9hZGluZzpcbiAgICAgICAgICAgICAgICBoLlNka01nci5nZXRJbnN0YW5jZSgpLmhhc1ZlcmlmeSgpID8gKHYuZGVmYXVsdC5nZXRJbnN0YW5jZSgpLmlzV0NOKCkgJiYgZi5VSU1nci5nZXRJbnN0YW5jZSgpLm9wZW5VSShtLlVJSUQuVUlFeGl0LCAtMSksIHYuZGVmYXVsdC5nZXRJbnN0YW5jZSgpLmlzVmVyaWZ5KCkgPyB2LmRlZmF1bHQuZ2V0SW5zdGFuY2UoKS50b0dhbWUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZS5nb0dhbWUoKVxuICAgICAgICAgICAgfSkgOiBmLlVJTWdyLmdldEluc3RhbmNlKCkub3BlblVJKG0uVUlJRC5VSVJlYWxOYW1lLCAtMSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGUuZ29HYW1lKClcbiAgICAgICAgICAgIH0pKSA6IHRoaXMuZ29HYW1lKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcm9ncmVzc0Jhci5wcm9ncmVzcyA9IHRoaXMucHJvY2Vzc1xuICAgIH0sXG4gICAgZS5wcm90b3R5cGUuZ29HYW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNjLmRpcmVjdG9yLmxvYWRTY2VuZSh0aGlzLnNjZW5lTmFtZSksXG4gICAgICAgIHRoaXMudHJhY2tFdmVudCgpXG4gICAgfSxcbiAgICBlLnByb3RvdHlwZS5wcmVsb2FkVUkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZC5SZXNvdXJjZU1nci5nZXRJbnN0YW5jZSgpLnByZWxvYWQoXCJwcmVmYWJzXCIsIFtcIlVJSG9tZVwiLCBcIlVJSG9tZU5ld1wiLCBcIlVJVG9wXCIsIFwiVUlHdWlkZVwiXSksXG4gICAgICAgIGQuUmVzb3VyY2VNZ3IuZ2V0SW5zdGFuY2UoKS5sb2FkUmVzKFwib2JqZWN0c1wiLCBcInBsYXllci9QbGF5ZXJcIiwgY2MuUHJlZmFiLFxuICAgICAgICBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICBwLlBvb2xNZ3IuZ2V0SW5zdGFuY2UoKS5jcmVhdHJlUG9vbChcIlBsYXllclwiLCBjYy5pbnN0YW50aWF0ZSh0KSwgMilcbiAgICAgICAgfSlcbiAgICB9LFxuICAgIHIoW00oY2MuTm9kZSldLCBlLnByb3RvdHlwZSwgXCJ1aVJvb3RcIiwgdm9pZCAwKSxcbiAgICByKFtNKGNjLkxhYmVsKV0sIGUucHJvdG90eXBlLCBcInRpcHNcIiwgdm9pZCAwKSxcbiAgICByKFtNKGNjLlByb2dyZXNzQmFyKV0sIGUucHJvdG90eXBlLCBcInByb2dyZXNzQmFyXCIsIHZvaWQgMCksXG4gICAgcihbU10sIGUpXG59IChjYy5Db21wb25lbnQpO1xuby5kZWZhdWx0ID0gXyJdfQ==