{"version":3,"sources":["assets\\scripts\\RedDotMgr.js"],"names":["t","require","e","module","o","exports","Object","defineProperty","value","a","i","r","n","s","c","getInstance","instance","prototype","homeForRedDot","taskForRedDot","onHookForRedDot","skillBookForRedDot","equipForRedDot","shopForRedDot","PlayerMgr","geUserData","getCurTaskList","length","state","cc","isValid","active","TimeUtils","timeExchange","getOnHookTime","Number","DataMgr","getParamsCfgForSingle","EnumParams","OnHookMaxTime","getSkillBookArr","getSkillBookLevelCfg","id","level","iCount","ConsumeSkillBookNum","getGoldNum","ConsumeNum","getOwnedEquipList","isExistEquip","l","u","p","g","getAbType","getEquipFightForId","type","IDCard","getEquipStrengthenCfg","strengthenLv","fightNum","getInGotNum"],"mappings":"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","sourceRoot":"/","sourcesContent":["var t = require;\nvar e = module;\nvar o = exports;\nObject.defineProperty(o, \"__esModule\", {\n    value: !0\n});\nvar a = t(\"TimeUtils\"),\ni = t(\"Config\"),\nr = t(\"DataMgr\"),\nn = t(\"EquipMgr\"),\ns = t(\"PlayerMgr\"),\nc = function() {\n    function t() {}\n    return t.getInstance = function() {\n        return null == this.instance && (this.instance = new t),\n        this.instance\n    },\n    t.prototype.homeForRedDot = function(t, e, o, a, i) {\n        this.taskForRedDot(t),\n        this.onHookForRedDot(e),\n        this.skillBookForRedDot(o),\n        this.equipForRedDot(a),\n        this.shopForRedDot(i)\n    },\n    t.prototype.taskForRedDot = function(t) {\n        for (var e = s.PlayerMgr.getInstance().geUserData().getCurTaskList(), o = 0; o < e.length; o++) if (1 == e[o].state) return cc.isValid(t) && (t.active = !0),\n        !0;\n        return cc.isValid(t) && (t.active = !1),\n        !1\n    },\n    t.prototype.onHookForRedDot = function(t) {\n        var e = s.PlayerMgr.getInstance().geUserData();\n        return a.TimeUtils.timeExchange(1, e.getOnHookTime()) > Number(r.DataMgr.getInstance().getParamsCfgForSingle(i.EnumParams.OnHookMaxTime).value) ? (cc.isValid(t) && (t.active = !0), !0) : (cc.isValid(t) && (t.active = !1), !1)\n    },\n    t.prototype.skillBookForRedDot = function(t) {\n        for (var e = s.PlayerMgr.getInstance().geUserData(), o = e.getSkillBookArr(), a = 0; a < o.length; a++) {\n            var i = r.DataMgr.getInstance().getSkillBookLevelCfg(o[a].id, o[a].level);\n            if (o[a].iCount >= i.ConsumeSkillBookNum && e.getGoldNum() >= i.ConsumeNum) return cc.isValid(t) && (t.active = !0),\n            !0\n        }\n        return cc.isValid(t) && (t.active = !1),\n        !1\n    },\n    t.prototype.equipForRedDot = function(t) {\n        for (var e = s.PlayerMgr.getInstance().geUserData(), o = e.getOwnedEquipList(), a = 0; a < o.length; a++) for (var i = e.isExistEquip(a + 1), c = 0; c < o[a].length; c++) {\n            var l = o[a][c];\n            if (!i) return cc.isValid(t) && (t.active = !0),\n            !0;\n            var u = 0,\n            p = 0,\n            g = s.PlayerMgr.getInstance().getAbType();\n            if (\"D\" == g || \"B\" == g ? (u = n.default.getInstance().getEquipFightForId(l.id, !1, l.type, l.IDCard, l), p = n.default.getInstance().getEquipFightForId(i.id, !1, i.type, i.IDCard, i)) : (u = r.DataMgr.getInstance().getEquipStrengthenCfg(l.id, l.strengthenLv).fightNum, p = r.DataMgr.getInstance().getEquipStrengthenCfg(i.id, i.strengthenLv).fightNum), u > p) return cc.isValid(t) && (t.active = !0),\n            !0\n        }\n        return cc.isValid(t) && (t.active = !1),\n        !1\n    },\n    t.prototype.shopForRedDot = function(t) {\n        return s.PlayerMgr.getInstance().geUserData().getInGotNum() >= 100 ? (cc.isValid(t) && (t.active = !0), !0) : (cc.isValid(t) && (t.active = !1), !1)\n    },\n    t\n} ();\no.default = c"]}