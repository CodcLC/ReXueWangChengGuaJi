{"version":3,"sources":["assets\\scripts\\UINotBagIndex.js"],"names":["t","require","e","module","o","exports","a","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","r","__decorate","arguments","length","n","getOwnPropertyDescriptor","Reflect","decorate","s","defineProperty","value","c","l","u","p","g","d","h","f","cc","_decorator","m","ccclass","y","property","v","apply","LabDec","BtnSellEquip","BtnAddBagIndex","curTurnView","UIID","UIHome","init","onLoad","start","registerBtnEvent","initView","on","Node","EventType","TOUCH_END","closeView","UIMgr","getInstance","openUI","UISellView","TimeUtils","GetTimeBySecond","GetTimeByHours2","SdkMgr","playVideo","PlayerMgr","getTrackData","testTrackTime","youmengTrack","TrackId","equipvacancy","youmengTrackNew","geUserData","addbagIndexCount","initBtn","UIEquip","sendEvent","EventName","RefreshBagIndexCount","isOverEquipBagForIndex","initDec","getBagIndexCount","active","getOwnedEquipCount","string","closeUI","RichText"],"mappings":"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","sourceRoot":"/","sourcesContent":["var t = require;\nvar e = module;\nvar o = exports;\nvar a, i = this && this.__extends || (a = function(t, e) {\n    return (a = Object.setPrototypeOf || {\n        __proto__: []\n    }\n    instanceof Array &&\n    function(t, e) {\n        t.__proto__ = e\n    } ||\n    function(t, e) {\n        for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o])\n    })(t, e)\n},\nfunction(t, e) {\n    function o() {\n        this.constructor = t\n    }\n    a(t, e),\n    t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)\n}),\nr = this && this.__decorate ||\nfunction(t, e, o, a) {\n    var i, r = arguments.length,\n    n = r < 3 ? e: null === a ? a = Object.getOwnPropertyDescriptor(e, o) : a;\n    if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) n = Reflect.decorate(t, e, o, a);\n    else for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (n = (r < 3 ? i(n) : r > 3 ? i(e, o, n) : i(e, o)) || n);\n    return r > 3 && n && Object.defineProperty(e, o, n),\n    n\n};\nObject.defineProperty(o, \"__esModule\", {\n    value: !0\n});\nvar n = t(\"BaseUI\"),\ns = t(\"SdkMgr\"),\nc = t(\"UIMgr\"),\nl = t(\"TimeUtils\"),\nu = t(\"Config\"),\np = t(\"TrackDataEvent\"),\ng = t(\"EquipMgr\"),\nd = t(\"GoodsManager\"),\nh = t(\"PlayerMgr\"),\nf = cc._decorator,\nm = f.ccclass,\ny = f.property,\nv = function(t) {\n    function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.LabDec = null,\n        e.BtnSellEquip = null,\n        e.BtnAddBagIndex = null,\n        e.curTurnView = u.UIID.UIHome,\n        e\n    }\n    return i(e, t),\n    e.prototype.init = function(t) {\n        this.curTurnView = t || u.UIID.UIHome\n    },\n    e.prototype.onLoad = function() {},\n    e.prototype.start = function() {\n        this.registerBtnEvent(),\n        this.initView()\n    },\n    e.prototype.registerBtnEvent = function() {\n        var t = this;\n        this.BtnSellEquip.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            t.closeView(),\n            c.UIMgr.getInstance().openUI(u.UIID.UISellView, -1, t.curTurnView)\n        }),\n        this.BtnAddBagIndex.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            var e = l.TimeUtils.GetTimeBySecond(),\n            o = l.TimeUtils.GetTimeByHours2();\n            s.SdkMgr.getInstance().playVideo(1,\n            function() {\n                var a = l.TimeUtils.GetTimeBySecond(),\n                i = l.TimeUtils.GetTimeByHours2();\n                h.PlayerMgr.getInstance().getTrackData().testTrackTime(\"equipvacancy\", o, i, e, a),\n                h.PlayerMgr.getInstance().getTrackData().youmengTrack(p.TrackId.equipvacancy),\n                h.PlayerMgr.getInstance().getTrackData().youmengTrackNew(\"equipvacancy_b\"),\n                h.PlayerMgr.getInstance().geUserData().addbagIndexCount(),\n                t.initBtn(),\n                t.curTurnView == u.UIID.UIEquip && t.sendEvent(u.EventName.RefreshBagIndexCount),\n                d.default.getInstance().isOverEquipBagForIndex() ? t.initDec() : t.closeView()\n            })\n        })\n    },\n    e.prototype.initView = function() {\n        this.initDec(),\n        this.initBtn()\n    },\n    e.prototype.initBtn = function() {\n        h.PlayerMgr.getInstance().geUserData().getBagIndexCount() >= 144 && (this.BtnAddBagIndex.active = !1)\n    },\n    e.prototype.initDec = function() {\n        var t = h.PlayerMgr.getInstance().geUserData().getBagIndexCount(),\n        e = g.default.getInstance().getOwnedEquipCount();\n        this.LabDec.string = \"装备仓库已满，部分装备<color = #ff0000 >（\" + (e - t) + \"）</c>未能获得，建议出售无用的装备或者扩充仓库槽位！\"\n    },\n    e.prototype.closeView = function() {\n        this.closeUI()\n    },\n    r([y(cc.RichText)], e.prototype, \"LabDec\", void 0),\n    r([y(cc.Node)], e.prototype, \"BtnSellEquip\", void 0),\n    r([y(cc.Node)], e.prototype, \"BtnAddBagIndex\", void 0),\n    r([m], e)\n} (n.default);\no.default = v"]}