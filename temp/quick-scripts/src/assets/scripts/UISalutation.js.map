{"version":3,"sources":["assets\\scripts\\UISalutation.js"],"names":["t","require","e","module","o","exports","a","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","r","__decorate","arguments","length","n","getOwnPropertyDescriptor","Reflect","decorate","s","defineProperty","value","c","l","u","p","g","d","h","f","cc","_decorator","m","ccclass","y","property","v","apply","SpNotGet","SpGet","SpWear","NodeSalutation","contentSalutation","BtnBack","BtnWear","SpSalutation","LabDec","LabProp1","LabProp2","LayoutBtn","curTurnView","UIID","UIHome","allSalutationArr","curSeleIndex","init","onLoad","start","registerBtnEvent","initData","initView","refreshTitleSave","PlayerMgr","getInstance","geUserData","autoAddSalutation","setIsNewSalutation","sendEvent","EventName","RefreshSalutationRedDot","loadSalutationItem","refreshSalutationView","DataMgr","getSalutation","loadSpriteFrame","titleBundle","ResourcesRoute","getComponent","Sprite","spriteFrame","Animation","loadResFromBundle","AnimBundle","AnimName","AnimationClip","addClip","play","repeatCount","Desc","replace","getCompletedTaskCount","string","Utils","getTabelArr","TitleAttribute1","getPropNameForPropType","Number","getPropPercent","TitleAttribute2","isExistSalutation","getWearSalutationId","Button","interactable","getSalutationCfg","instantiate","parent","push","getChildByName","active","on","Node","EventType","TOUCH_END","refreshSalutation","isValid","refreshSalutation1","closeView","setWearSalutation","playFightTips","node","UIMgr","openUI","UITips","UISalutation","instance","refreshWearSalutation","RefreshSalutation","RefreshEquipViewInfo","closeUI","SpriteFrame","RichText","Label"],"mappings":"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","sourceRoot":"/","sourcesContent":["var t = require;\nvar e = module;\nvar o = exports;\nvar a, i = this && this.__extends || (a = function(t, e) {\n    return (a = Object.setPrototypeOf || {\n        __proto__: []\n    }\n    instanceof Array &&\n    function(t, e) {\n        t.__proto__ = e\n    } ||\n    function(t, e) {\n        for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o])\n    })(t, e)\n},\nfunction(t, e) {\n    function o() {\n        this.constructor = t\n    }\n    a(t, e),\n    t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)\n}),\nr = this && this.__decorate ||\nfunction(t, e, o, a) {\n    var i, r = arguments.length,\n    n = r < 3 ? e: null === a ? a = Object.getOwnPropertyDescriptor(e, o) : a;\n    if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) n = Reflect.decorate(t, e, o, a);\n    else for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (n = (r < 3 ? i(n) : r > 3 ? i(e, o, n) : i(e, o)) || n);\n    return r > 3 && n && Object.defineProperty(e, o, n),\n    n\n};\nObject.defineProperty(o, \"__esModule\", {\n    value: !0\n});\nvar n = t(\"BaseUI\"),\ns = t(\"UIMgr\"),\nc = t(\"Utils\"),\nl = t(\"Main\"),\nu = t(\"Config\"),\np = t(\"DataMgr\"),\ng = t(\"EquipMgr\"),\nd = t(\"PlayerMgr\"),\nh = t(\"TipsMgr\"),\nf = cc._decorator,\nm = f.ccclass,\ny = f.property,\nv = function(t) {\n    function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.SpNotGet = null,\n        e.SpGet = null,\n        e.SpWear = null,\n        e.NodeSalutation = null,\n        e.contentSalutation = null,\n        e.BtnBack = null,\n        e.BtnWear = null,\n        e.SpSalutation = null,\n        e.LabDec = null,\n        e.LabProp1 = null,\n        e.LabProp2 = null,\n        e.LayoutBtn = null,\n        e.curTurnView = u.UIID.UIHome,\n        e.allSalutationArr = [],\n        e.curSeleIndex = 0,\n        e\n    }\n    return i(e, t),\n    e.prototype.init = function(t) {\n        this.curTurnView = t || u.UIID.UIHome\n    },\n    e.prototype.onLoad = function() {},\n    e.prototype.start = function() {\n        this.registerBtnEvent(),\n        this.initData(),\n        this.initView()\n    },\n    e.prototype.initData = function() {\n        this.refreshTitleSave()\n    },\n    e.prototype.refreshTitleSave = function() {\n        d.PlayerMgr.getInstance().geUserData().autoAddSalutation(),\n        d.PlayerMgr.getInstance().geUserData().setIsNewSalutation(!1),\n        this.sendEvent(u.EventName.RefreshSalutationRedDot)\n    },\n    e.prototype.initView = function() {\n        this.loadSalutationItem(),\n        this.refreshSalutationView(this.curSeleIndex)\n    },\n    e.prototype.refreshSalutationView = function(t) {\n        var e = this,\n        o = t + 1,\n        a = d.PlayerMgr.getInstance().geUserData(),\n        i = p.DataMgr.getInstance().getSalutation(o);\n        this.loadSpriteFrame(i.titleBundle, i.ResourcesRoute,\n        function(t) {\n            e.SpSalutation.getComponent(cc.Sprite).spriteFrame = t\n        });\n        var r = this.SpSalutation.getComponent(cc.Animation);\n        this.loadResFromBundle(i.AnimBundle, i.AnimName, cc.AnimationClip,\n        function(t) {\n            r.addClip(t),\n            r.play(i.AnimName).repeatCount = 1e5\n        });\n        var n = i.Desc.replace(\"%s\", \"\" + a.getCompletedTaskCount());\n        this.LabDec.string = n;\n        var s = c.Utils.getTabelArr(i.TitleAttribute1);\n        this.LabProp1.string = g.default.getInstance().getPropNameForPropType(Number(s[0])) + \"：\" + Number(s[1]) + g.default.getInstance().getPropPercent(Number(s[0]));\n        var l = c.Utils.getTabelArr(i.TitleAttribute2);\n        this.LabProp2.string = g.default.getInstance().getPropNameForPropType(Number(l[0])) + \"：\" + Number(l[1]) + g.default.getInstance().getPropPercent(Number(l[0]));\n        var u = a.isExistSalutation(o),\n        h = a.getWearSalutationId() == o;\n        this.BtnWear.getComponent(cc.Button).interactable = !!u && !h\n    },\n    e.prototype.loadSalutationItem = function() {\n        for (var t = this,\n        e = d.PlayerMgr.getInstance().geUserData(), o = p.DataMgr.getInstance().getSalutationCfg(), a = function(a) {\n            var r = cc.instantiate(i.NodeSalutation);\n            r.parent = i.contentSalutation,\n            i.allSalutationArr.push(r),\n            a == i.curSeleIndex && (r.getChildByName(\"SpSele\").active = !0);\n            var n = a + 1,\n            s = r.getChildByName(\"SpState\").getComponent(cc.Sprite);\n            e.getWearSalutationId() == n ? s.spriteFrame = i.SpWear: e.isExistSalutation(n) ? s.spriteFrame = i.SpGet: s.spriteFrame = i.SpNotGet,\n            i.loadSpriteFrame(o[a].titleBundle, o[a].ResourcesRoute,\n            function(t) {\n                r.getChildByName(\"SpIcon\").getComponent(cc.Sprite).spriteFrame = t\n            });\n            var c = r.getChildByName(\"SpIcon\").getComponent(cc.Animation);\n            i.loadResFromBundle(o[a].AnimBundle, o[a].AnimName, cc.AnimationClip,\n            function(t) {\n                c.addClip(t),\n                c.play(o[a].AnimName).repeatCount = 1e5\n            }),\n            r.on(cc.Node.EventType.TOUCH_END,\n            function() {\n                t.refreshSalutation(a)\n            })\n        },\n        i = this, r = 0; r < o.length; r++) a(r)\n    },\n    e.prototype.refreshSalutation = function(t) {\n        if (t != this.curSeleIndex) {\n            this.curSeleIndex = t;\n            for (var e = 0; e < this.allSalutationArr.length; e++) cc.isValid(this.allSalutationArr[e]) && (t == e ? (this.allSalutationArr[e].getChildByName(\"SpSele\").active = !0, this.refreshSalutationView(t)) : this.allSalutationArr[e].getChildByName(\"SpSele\").active = !1)\n        }\n    },\n    e.prototype.refreshSalutation1 = function(t) {\n        var e = d.PlayerMgr.getInstance().geUserData();\n        this.curSeleIndex = t;\n        for (var o = 0; o < this.allSalutationArr.length; o++) if (cc.isValid(this.allSalutationArr[o])) {\n            var a = this.allSalutationArr[o].getChildByName(\"SpState\").getComponent(cc.Sprite);\n            e.getWearSalutationId() == o + 1 ? a.spriteFrame = this.SpWear: e.isExistSalutation(o + 1) ? a.spriteFrame = this.SpGet: a.spriteFrame = this.SpNotGet\n        }\n    },\n    e.prototype.registerBtnEvent = function() {\n        var t = this;\n        this.BtnBack.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            t.closeView()\n        }),\n        this.BtnWear.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            if (t.BtnWear.getComponent(cc.Button).interactable) {\n                t.BtnWear.getComponent(cc.Button).interactable = !1;\n                var e = t.curSeleIndex + 1;\n                d.PlayerMgr.getInstance().geUserData().setWearSalutation(e),\n                t.refreshSalutation1(t.curSeleIndex),\n                h.default.getInstance().playFightTips(t.node),\n                s.UIMgr.getInstance().openUI(u.UIID.UITips, u.UIID.UISalutation, \"穿戴称号成功\"),\n                l.default.instance.refreshWearSalutation(),\n                t.sendEvent(u.EventName.RefreshSalutation),\n                t.sendEvent(u.EventName.RefreshEquipViewInfo)\n            }\n        })\n    },\n    e.prototype.closeView = function() {\n        this.closeUI()\n    },\n    r([y(cc.SpriteFrame)], e.prototype, \"SpNotGet\", void 0),\n    r([y(cc.SpriteFrame)], e.prototype, \"SpGet\", void 0),\n    r([y(cc.SpriteFrame)], e.prototype, \"SpWear\", void 0),\n    r([y(cc.Node)], e.prototype, \"NodeSalutation\", void 0),\n    r([y(cc.Node)], e.prototype, \"contentSalutation\", void 0),\n    r([y(cc.Node)], e.prototype, \"BtnBack\", void 0),\n    r([y(cc.Node)], e.prototype, \"BtnWear\", void 0),\n    r([y(cc.Node)], e.prototype, \"SpSalutation\", void 0),\n    r([y(cc.RichText)], e.prototype, \"LabDec\", void 0),\n    r([y(cc.Label)], e.prototype, \"LabProp1\", void 0),\n    r([y(cc.Label)], e.prototype, \"LabProp2\", void 0),\n    r([y(cc.Node)], e.prototype, \"LayoutBtn\", void 0),\n    r([m], e)\n} (n.default);\no.default = v"]}