{"version":3,"sources":["assets\\scripts\\ComFreeTimeData.js"],"names":["t","require","e","module","o","exports","a","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","defineProperty","value","ComFreeTimeData","FreeData","r","n","s","c","index","l","u","p","apply","arguments","ecrypt","gameKey","GameConfig","AppCacheName","currentGoodsIds","createData","data","itemData","ComDataMgr","getInstance","getAllFreeTimeCfg","length","id","itemIds","split","splitNum","Number","itemId","getFreeTimeItemById","isTarget","adNum","push","goodsId","checkSame","saveData","check","goodId","splice","getFreeTimeById","changleFreeTimedata","getDataById","addAdNum","addAdNumByData","initData","BaseData"],"mappings":"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","sourceRoot":"/","sourcesContent":["var t = require;\nvar e = module;\nvar o = exports;\nvar a, i = this && this.__extends || (a = function(t, e) {\n    return (a = Object.setPrototypeOf || {\n        __proto__: []\n    }\n    instanceof Array &&\n    function(t, e) {\n        t.__proto__ = e\n    } ||\n    function(t, e) {\n        for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o])\n    })(t, e)\n},\nfunction(t, e) {\n    function o() {\n        this.constructor = t\n    }\n    a(t, e),\n    t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)\n});\nObject.defineProperty(o, \"__esModule\", {\n    value: !0\n}),\no.ComFreeTimeData = o.FreeData = void 0;\nvar r = t(\"BaseData\"),\nn = t(\"Config\"),\ns = t(\"ComDataMgr\"),\nc = function() {\n    this.index = 0\n};\no.FreeData = c;\nvar l = function() {},\nu = function() {},\np = function(t) {\n    function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.ecrypt = !1,\n        e.gameKey = n.GameConfig.AppCacheName + \"FreeTime\",\n        e.currentGoodsIds = [],\n        e\n    }\n    return i(e, t),\n    e.prototype.createData = function() {\n        this.data = new u,\n        this.data.itemData = [];\n        for (var t = s.ComDataMgr.getInstance().getAllFreeTimeCfg(), e = 0; e < t.length; e++) {\n            var o = t[e],\n            a = new c;\n            a.id = o.id,\n            a.index = 0;\n            var i = o.itemIds.split(n.GameConfig.splitNum),\n            r = Number(i[0]);\n            a.itemId = r;\n            var l = s.ComDataMgr.getInstance().getFreeTimeItemById(r);\n            a.isTarget = !1,\n            a.adNum = 0,\n            this.currentGoodsIds.push(l.goodsId),\n            a.goodsId = l.goodsId,\n            this.data.itemData.push(a)\n        }\n        return this.checkSame(),\n        this.saveData(),\n        this.data\n    },\n    e.prototype.checkSame = function() {\n        for (var t = [], e = 0; e < this.data.itemData.length; e++) for (var o = this.data.itemData[e], a = 0; a < t.length; a++) if (t[a] == o.goodsId) {\n            var i = this.check(o.id, o.index, o.goodsId, o.index);\n            o.index = i.index,\n            o.goodsId = i.goodId\n        } else t.push(o.goodsId);\n        t.splice(0, t.length)\n    },\n    e.prototype.check = function(t, e, o, a) {\n        e++;\n        var i = s.ComDataMgr.getInstance().getFreeTimeById(t).itemIds.split(n.GameConfig.splitNum);\n        if (e == i.length && (e = 0), a == e) return (r = new l).goodId = o,\n        r.index = e,\n        r;\n        var r, c = s.ComDataMgr.getInstance().getFreeTimeItemById(Number(i[e]));\n        if (c.goodsId != o) return (r = new l).goodId = c.goodsId,\n        r.index = e,\n        r;\n        this.check(t, e, o, a)\n    },\n    e.prototype.changleFreeTimedata = function(t) {\n        var e = this.getDataById(t),\n        o = s.ComDataMgr.getInstance().getFreeTimeById(t).itemIds.split(n.GameConfig.splitNum),\n        a = e.index + 1;\n        a >= o.length && (a = 0);\n        var i = Number(o[a]);\n        e.adNum = 0;\n        var r = s.ComDataMgr.getInstance().getFreeTimeItemById(i);\n        e.goodsId = r.goodsId,\n        e.index = a,\n        e.itemId = r.id,\n        e.isTarget = !1,\n        this.checkSame(),\n        this.saveData()\n    },\n    e.prototype.addAdNum = function(t) {\n        var e = this.getDataById(t);\n        return e.adNum++,\n        this.saveData(),\n        e\n    },\n    e.prototype.addAdNumByData = function(t) {\n        return t.adNum += 1,\n        this.saveData(),\n        t\n    },\n    e.prototype.initData = function() {},\n    e.prototype.getDataById = function(t) {\n        for (var e = 0; e < this.data.itemData.length; e++) {\n            var o = this.data.itemData[e];\n            if (Number(o.id) == t) return o\n        }\n        return null\n    },\n    e\n} (r.BaseData);\no.ComFreeTimeData = p"]}