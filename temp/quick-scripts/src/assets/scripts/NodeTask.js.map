{"version":3,"sources":["assets\\scripts\\NodeTask.js"],"names":["t","require","e","module","o","exports","a","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","r","__decorate","arguments","length","n","getOwnPropertyDescriptor","Reflect","decorate","s","defineProperty","value","c","l","u","p","g","d","h","f","m","y","v","I","cc","_decorator","k","ccclass","C","property","S","apply","SpNotGet","SpCanGet","SpCompleted","BtnNotGet","BtnGet","onLoad","start","playAnim","TweenMgr","getInstance","newHeartAnim","registerBtnEvent","on","Node","EventType","TOUCH_END","getComponent","Button","interactable","SdkMgr","hideBanner","UIMgr","closeById","UIID","UITask","UIHome","taskCfg","JumpRoute","UIHomeNew","UIOnlineReward","TimeMgr","time_online","openUI","UITips","UIMysticalShop","playEffForTaskGet","PlayerMgr","geUserData","addCompletedTaskCount","getReward","NextTask","active","taskData","state","node","zIndex","goOutAnimForTask","position","v3","refreshTaskDataForState","Sprite","spriteFrame","DataMgr","getTaskCfgForId","Type","wearEquipQualityForTask","ID","taskNeedCountList","type","TaskParameter","id","needCount","refreshData","enterAnimForTask","refreshTaskData","refreshTaskView","AudioMgr","playEffect","AudioId","Sound_Upgrade","EventMgr","emit","EventName","RefreshRedDot","autoAddSalutation","isValid","x","tween","to","playEffectForEffId","EnumEffID","EffTaskGet","parent","initData","initView","getGoodsCfg","RewardType","ResourceMgr","loadSpriteframe","bundleQuality","iconQuality","getChildByName","bundle","goodsICon","Label","string","RewardNum","Desc1","TaskParameterType","Desc2","fillRange","taskState","getColorForQuality","goodsQualityId","goodsType","addGoldNum","addInGotNum","addPowerNum","SpriteFrame","Component"],"mappings":"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","sourceRoot":"/","sourcesContent":["var t = require;\nvar e = module;\nvar o = exports;\nvar a, i = this && this.__extends || (a = function(t, e) {\n    return (a = Object.setPrototypeOf || {\n        __proto__: []\n    }\n    instanceof Array &&\n    function(t, e) {\n        t.__proto__ = e\n    } ||\n    function(t, e) {\n        for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o])\n    })(t, e)\n},\nfunction(t, e) {\n    function o() {\n        this.constructor = t\n    }\n    a(t, e),\n    t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)\n}),\nr = this && this.__decorate ||\nfunction(t, e, o, a) {\n    var i, r = arguments.length,\n    n = r < 3 ? e: null === a ? a = Object.getOwnPropertyDescriptor(e, o) : a;\n    if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) n = Reflect.decorate(t, e, o, a);\n    else for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (n = (r < 3 ? i(n) : r > 3 ? i(e, o, n) : i(e, o)) || n);\n    return r > 3 && n && Object.defineProperty(e, o, n),\n    n\n};\nObject.defineProperty(o, \"__esModule\", {\n    value: !0\n});\nvar n = t(\"AudioMgr\"),\ns = t(\"EventMgr\"),\nc = t(\"ResourceMgr\"),\nl = t(\"SdkMgr\"),\nu = t(\"TweenMgr\"),\np = t(\"UIMgr\"),\ng = t(\"Config\"),\nd = t(\"DataMgr\"),\nh = t(\"EffectMgr\"),\nf = t(\"GoodsManager\"),\nm = t(\"PlayerMgr\"),\ny = t(\"TaskMgr\"),\nv = t(\"TimeMgr\"),\nI = cc._decorator,\nk = I.ccclass,\nC = I.property,\nS = function(t) {\n    function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.SpNotGet = null,\n        e.SpCanGet = null,\n        e.SpCompleted = null,\n        e.BtnNotGet = null,\n        e.BtnGet = null,\n        e\n    }\n    return i(e, t),\n    e.prototype.onLoad = function() {},\n    e.prototype.start = function() {\n        this.playAnim()\n    },\n    e.prototype.playAnim = function() {\n        u.TweenMgr.getInstance().newHeartAnim(this.BtnGet)\n    },\n    e.prototype.registerBtnEvent = function() {\n        var t = this;\n        this.BtnNotGet.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            if (t.BtnNotGet.getComponent(cc.Button).interactable && (l.SdkMgr.getInstance().hideBanner(), p.UIMgr.getInstance().closeById(g.UIID.UITask), g.UIID.UIHome != t.taskCfg.JumpRoute)) {\n                var e = g.UIID.UIHomeNew;\n                g.UIID.UIOnlineReward == t.taskCfg.JumpRoute ? v.TimeMgr.getInstance().time_online < 60 ? p.UIMgr.getInstance().openUI(g.UIID.UITips, -1, \"还未获得奖励\") : p.UIMgr.getInstance().openUI(g.UIID.UIOnlineReward, -1) : (g.UIID.UIMysticalShop != t.taskCfg.JumpRoute && p.UIMgr.getInstance().closeById(e), p.UIMgr.getInstance().openUI(t.taskCfg.JumpRoute, -1))\n            }\n        }),\n        this.BtnGet.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            if (t.playEffForTaskGet(), m.PlayerMgr.getInstance().geUserData().addCompletedTaskCount(), t.getReward(), null == t.taskCfg.NextTask) t.SpCompleted.active = !0,\n            t.BtnGet.active = !1,\n            t.BtnNotGet.active = !1,\n            t.taskData.state = -1,\n            t.node.zIndex = -t.taskData.state,\n            t.goOutAnimForTask(t.node,\n            function() {\n                t.node.position = cc.v3()\n            }),\n            y.default.getInstance().refreshTaskDataForState(t.taskData),\n            t.node.getComponent(cc.Sprite).spriteFrame = 1 == t.taskData.state ? t.SpCanGet: t.SpNotGet;\n            else {\n                var e = d.DataMgr.getInstance().getTaskCfgForId(t.taskCfg.NextTask, t.taskCfg.Type);\n                8 == e.Type && y.default.getInstance().wearEquipQualityForTask(e.ID);\n                var o = 0;\n                y.default.getInstance().taskNeedCountList[t.taskData.type - 1] >= e.TaskParameter && (o = 1);\n                var a = {\n                    id: e.ID,\n                    type: e.Type,\n                    state: o,\n                    needCount: e.TaskParameter\n                };\n                t.refreshData(e, a),\n                t.goOutAnimForTask(t.node,\n                function() {\n                    1 == a.state ? t.enterAnimForTask(t.node) : t.node.position = cc.v3()\n                }),\n                y.default.getInstance().refreshTaskData(a),\n                t.refreshTaskView()\n            }\n            n.AudioMgr.getInstance().playEffect(g.AudioId.Sound_Upgrade),\n            s.EventMgr.getInstance().emit(g.EventName.RefreshRedDot, !0, !1, !1, !1, !0),\n            m.PlayerMgr.getInstance().geUserData().autoAddSalutation()\n        })\n    },\n    e.prototype.enterAnimForTask = function(t) {\n        cc.isValid(t) && (t.x = -650, cc.tween(t).to(.2, {\n            position: cc.v3()\n        }).start())\n    },\n    e.prototype.goOutAnimForTask = function(t, e) {\n        void 0 === e && (e = function() {}),\n        cc.isValid(t) && (t.x = 0, cc.tween(t).to(.1, {\n            x: 650\n        }).call(function() {\n            e && e()\n        }).start())\n    },\n    e.prototype.playEffForTaskGet = function() {\n        h.default.playEffectForEffId(g.EnumEffID.EffTaskGet, this.node.parent.parent, this.node)\n    },\n    e.prototype.initData = function(t, e) {\n        this.taskCfg = t,\n        this.taskData = e,\n        this.registerBtnEvent()\n    },\n    e.prototype.refreshData = function(t, e) {\n        this.taskCfg = t,\n        this.taskData = e\n    },\n    e.prototype.initView = function() {},\n    e.prototype.refreshTaskView = function() {\n        var t = this;\n        this.node.zIndex = -this.taskData.state,\n        this.node.getComponent(cc.Sprite).spriteFrame = 1 == this.taskData.state ? this.SpCanGet: this.SpNotGet;\n        var e = d.DataMgr.getInstance().getGoodsCfg(this.taskCfg.RewardType);\n        c.ResourceMgr.getInstance().loadSpriteframe(e.bundleQuality, e.iconQuality,\n        function(e) {\n            t.node.getChildByName(\"SpIconBg\").getComponent(cc.Sprite).spriteFrame = e\n        }),\n        c.ResourceMgr.getInstance().loadSpriteframe(e.bundle, e.goodsICon,\n        function(e) {\n            t.node.getChildByName(\"SpIcon\").getComponent(cc.Sprite).spriteFrame = e\n        }),\n        this.node.getChildByName(\"LabRewardNum\").getComponent(cc.Label).string = \"\" + this.taskCfg.RewardNum;\n        var o = this.node.getChildByName(\"LayoutDec\");\n        if (this.taskCfg.Desc1 && (o.getChildByName(\"LabTaskDec1\").active = !0, o.getChildByName(\"LabTaskDec1\").getComponent(cc.Label).string = this.taskCfg.Desc1), 8 == this.taskCfg.Type) {\n            var a = \"白色及以上\";\n            switch (this.taskCfg.TaskParameterType) {\n                case 1:\n                    a = \"白色及以上\";\n                break;\n                case 2:\n                    a = \"绿色及以上\";\n                break;\n                case 3:\n                    a = \"蓝色及以上\";\n                break;\n                case 4:\n                    a = \"紫色及以上\";\n                break;\n                case 5:\n                    a = \"橙色及以上\";\n            }\n            o.getChildByName(\"LabTaskDec2\").getComponent(cc.Label).string = \"\" + a\n        } else o.getChildByName(\"LabTaskDec2\").getComponent(cc.Label).string = \"\" + this.taskCfg.TaskParameter;\n        this.taskCfg.Desc2 && (o.getChildByName(\"LabTaskDec3\").active = !0, o.getChildByName(\"LabTaskDec3\").getComponent(cc.Label).string = this.taskCfg.Desc2);\n        var i = y.default.getInstance().taskNeedCountList[this.taskData.type - 1];\n        switch (this.node.getChildByName(\"SpBar\").getComponent(cc.Sprite).fillRange = i / this.taskCfg.TaskParameter, this.node.getChildByName(\"LabTaskNum\").getComponent(cc.Label).string = i + \"/\" + this.taskCfg.TaskParameter, this.taskData.state) {\n            case 0:\n                this.taskState(!0, !1, !1);\n            var r = this.node.getChildByName(\"BtnNotGet\").getChildByName(\"LabNotGet\").getComponent(cc.Label);\n            null == this.taskCfg.JumpRoute ? (r.string = \"未完成\", this.node.getChildByName(\"BtnNotGet\").getComponent(cc.Button).interactable = !1) : r.string = \"前往\";\n            break;\n            case 1:\n                this.taskState(!1, !0, !1);\n            break;\n            case - 1 : this.taskState(!1, !1, !0);\n        }\n    },\n    e.prototype.taskState = function(t, e, o) {\n        this.node.getChildByName(\"BtnNotGet\").active = t,\n        this.node.getChildByName(\"BtnGet\").active = e,\n        this.node.getChildByName(\"SpCompleted\").active = o\n    },\n    e.prototype.getReward = function() {\n        var t = d.DataMgr.getInstance().getGoodsCfg(this.taskCfg.RewardType),\n        e = m.PlayerMgr.getInstance().geUserData(),\n        o = f.default.getInstance().getColorForQuality(t.goodsQualityId);\n        switch (t.goodsType) {\n            case \"gold\":\n                e.addGoldNum(this.taskCfg.RewardNum),\n            p.UIMgr.getInstance().openUI(g.UIID.UITips, -1, \"成功领取 <color = #\" + o + \">金币</c>x\" + this.taskCfg.RewardNum);\n            break;\n            case \"inGot\":\n                e.addInGotNum(this.taskCfg.RewardNum),\n            p.UIMgr.getInstance().openUI(g.UIID.UITips, -1, \"成功领取 <color = #\" + o + \">元宝</c>x\" + this.taskCfg.RewardNum);\n            break;\n            case \"power\":\n                e.addPowerNum(this.taskCfg.RewardNum),\n            p.UIMgr.getInstance().openUI(g.UIID.UITips, -1, \"成功领取 <color = #\" + o + \">体力</c>x\" + this.taskCfg.RewardNum);\n        }\n    },\n    r([C(cc.SpriteFrame)], e.prototype, \"SpNotGet\", void 0),\n    r([C(cc.SpriteFrame)], e.prototype, \"SpCanGet\", void 0),\n    r([C(cc.Node)], e.prototype, \"SpCompleted\", void 0),\n    r([C(cc.Node)], e.prototype, \"BtnNotGet\", void 0),\n    r([C(cc.Node)], e.prototype, \"BtnGet\", void 0),\n    r([k], e)\n} (cc.Component);\no.default = S"]}