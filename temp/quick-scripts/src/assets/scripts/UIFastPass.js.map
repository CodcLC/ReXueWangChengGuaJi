{"version":3,"sources":["assets\\scripts\\UIFastPass.js"],"names":["t","require","e","module","o","exports","a","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","r","__decorate","arguments","length","n","getOwnPropertyDescriptor","Reflect","decorate","s","defineProperty","value","c","l","u","p","g","d","h","f","cc","_decorator","m","ccclass","y","property","v","apply","BtnFastPass","BtnResetStart","LabLevel","LabDec","start","PlayerMgr","getInstance","getTrackData","youmengTrack","TrackId","quickarrive_appear","EventMgr","emit","EventName","ShowUITop","registerBtnEvent","initView","geUserData","getCurSec","getMostLevelForCurSec","DataMgr","getSecCfg","string","levelCount","on","Node","EventType","TOUCH_END","TimeUtils","GetTimeBySecond","GetTimeByHours2","SdkMgr","playVideo","trackEvent","testTrackTime","quickarrive","youmengTrackNew","quickarrive_get","closeView","instance","fastPass","quickarrive_restart","setCurLevel","resetStart","closeUI","quickarrive_X_Y","Label"],"mappings":"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","sourceRoot":"/","sourcesContent":["var t = require;\nvar e = module;\nvar o = exports;\nvar a, i = this && this.__extends || (a = function(t, e) {\n    return (a = Object.setPrototypeOf || {\n        __proto__: []\n    }\n    instanceof Array &&\n    function(t, e) {\n        t.__proto__ = e\n    } ||\n    function(t, e) {\n        for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o])\n    })(t, e)\n},\nfunction(t, e) {\n    function o() {\n        this.constructor = t\n    }\n    a(t, e),\n    t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)\n}),\nr = this && this.__decorate ||\nfunction(t, e, o, a) {\n    var i, r = arguments.length,\n    n = r < 3 ? e: null === a ? a = Object.getOwnPropertyDescriptor(e, o) : a;\n    if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) n = Reflect.decorate(t, e, o, a);\n    else for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (n = (r < 3 ? i(n) : r > 3 ? i(e, o, n) : i(e, o)) || n);\n    return r > 3 && n && Object.defineProperty(e, o, n),\n    n\n};\nObject.defineProperty(o, \"__esModule\", {\n    value: !0\n});\nvar n = t(\"BaseUI\"),\ns = t(\"EventMgr\"),\nc = t(\"SdkMgr\"),\nl = t(\"TimeUtils\"),\nu = t(\"Main\"),\np = t(\"Config\"),\ng = t(\"TrackDataEvent\"),\nd = t(\"DataMgr\"),\nh = t(\"PlayerMgr\"),\nf = cc._decorator,\nm = f.ccclass,\ny = f.property,\nv = function(t) {\n    function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.BtnFastPass = null,\n        e.BtnResetStart = null,\n        e.LabLevel = null,\n        e.LabDec = null,\n        e\n    }\n    return i(e, t),\n    e.prototype.start = function() {\n        h.PlayerMgr.getInstance().getTrackData().youmengTrack(g.TrackId.quickarrive_appear),\n        s.EventMgr.getInstance().emit(p.EventName.ShowUITop, !1),\n        this.registerBtnEvent(),\n        this.initView()\n    },\n    e.prototype.initView = function() {\n        var t = h.PlayerMgr.getInstance().geUserData(),\n        e = t.getCurSec(),\n        o = t.getMostLevelForCurSec()[1],\n        a = d.DataMgr.getInstance().getSecCfg(e);\n        this.LabLevel.string = \"（\" + o + \"/\" + a.levelCount + \"）\",\n        this.LabDec.string = \"根据你的最高关卡纪录，你可以选择快速到达第\" + o + \"关！\"\n    },\n    e.prototype.registerBtnEvent = function() {\n        var t = this;\n        this.BtnFastPass.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            var e = l.TimeUtils.GetTimeBySecond(),\n            o = l.TimeUtils.GetTimeByHours2();\n            c.SdkMgr.getInstance().playVideo(1,\n            function() {\n                t.trackEvent();\n                var a = l.TimeUtils.GetTimeBySecond(),\n                i = l.TimeUtils.GetTimeByHours2();\n                h.PlayerMgr.getInstance().getTrackData().testTrackTime(\"quickarrive\", o, i, e, a),\n                h.PlayerMgr.getInstance().getTrackData().youmengTrack(g.TrackId.quickarrive),\n                h.PlayerMgr.getInstance().getTrackData().youmengTrackNew(\"quickarrive_b\"),\n                h.PlayerMgr.getInstance().getTrackData().youmengTrack(g.TrackId.quickarrive_get),\n                t.closeView(),\n                u.default.instance.fastPass()\n            })\n        }),\n        this.BtnResetStart.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            h.PlayerMgr.getInstance().getTrackData().youmengTrack(g.TrackId.quickarrive_restart),\n            t.closeView(),\n            h.PlayerMgr.getInstance().geUserData().setCurLevel(1),\n            u.default.instance.resetStart()\n        })\n    },\n    e.prototype.closeView = function() {\n        this.closeUI()\n    },\n    e.prototype.trackEvent = function() {\n        var t = h.PlayerMgr.getInstance().geUserData(),\n        e = t.getCurSec(),\n        o = t.getMostLevelForCurSec()[1];\n        if (o < 5) o = 1;\n        else for (var a = o; a > o - 5; a--) if (a % 5 == 0) {\n            o = a;\n            break\n        }\n        h.PlayerMgr.getInstance().getTrackData().youmengTrack(g.TrackId.quickarrive_X_Y, e, o)\n    },\n    r([y(cc.Node)], e.prototype, \"BtnFastPass\", void 0),\n    r([y(cc.Node)], e.prototype, \"BtnResetStart\", void 0),\n    r([y(cc.Label)], e.prototype, \"LabLevel\", void 0),\n    r([y(cc.Label)], e.prototype, \"LabDec\", void 0),\n    r([m], e)\n} (n.default);\no.default = v"]}