{"version":3,"sources":["assets\\scripts\\UIMysticalShop.js"],"names":["t","require","e","module","o","exports","a","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","r","__decorate","arguments","length","n","getOwnPropertyDescriptor","Reflect","decorate","s","defineProperty","value","c","l","u","p","g","d","h","f","m","y","v","I","cc","_decorator","k","ccclass","C","property","S","apply","CostIcon","BtnBack","BtnRefresh","NodeItem","LayoutShop","LabRefreshTime","NodeEff","curItemList","start","refreshMysticalShopSaveTime","registerEvent","registerBtnEvent","initView","PlatformManager","getInstance","hideBlockAd","on","Node","EventType","TOUCH_END","closeView","SdkMgr","playVideo","PlayerMgr","getTrackData","youmengTrack","TrackId","store_refresh","refreshItemList","getMysticalShopData","getLastLoginTime","refreshLastLoginTime","subMysticalShopTime","openMysticalShopTimer","TimeMgr","openTimer_MysticalShop","refreshTime","TimeUtils","SecondToHours","string","initItemLayout","getMysticalShopList","refreshMysticalShopData","instantiate","active","parent","position","v3","push","DataMgr","getMysticalShop","id","getGoodsCfg","GoodsID","goodsType","itemId","addMysticalShopList","loadItemList","refreshCurItem","loadSpriteFrame","bundleQuality","iconQuality","getChildByName","getComponent","Sprite","spriteFrame","SaleType","Label","videoCount","SalePrice","scale","DiscountLabel","isBuy","getEquipCfg","bundle","equipIcon","equipName","color","seleColor","qualityId","getSkillBook","getSkillQuality","SkillIcon","name","saoGuangAnim","refreshMysticalShopList","store_getequip","store_getskill","setMysticalShopList","UIMgr","openUI","UIID","UITips","buySuccess","geUserData","subGoldNum","subInGotNum","addCountStore","getCountStore","store_time_X","getMainTaskData","mainTask","store_quip_X","addBaseEquip","getColorForQuality","EventMgr","emit","EventName","RefreshRedDot","store_skill_X","addSkillBookId","sp","Skeleton","setAnimation","closeUI","showBlockAd","SpriteFrame"],"mappings":"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","sourceRoot":"/","sourcesContent":["var t = require;\nvar e = module;\nvar o = exports;\nvar a, i = this && this.__extends || (a = function(t, e) {\n    return (a = Object.setPrototypeOf || {\n        __proto__: []\n    }\n    instanceof Array &&\n    function(t, e) {\n        t.__proto__ = e\n    } ||\n    function(t, e) {\n        for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o])\n    })(t, e)\n},\nfunction(t, e) {\n    function o() {\n        this.constructor = t\n    }\n    a(t, e),\n    t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)\n}),\nr = this && this.__decorate ||\nfunction(t, e, o, a) {\n    var i, r = arguments.length,\n    n = r < 3 ? e: null === a ? a = Object.getOwnPropertyDescriptor(e, o) : a;\n    if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) n = Reflect.decorate(t, e, o, a);\n    else for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (n = (r < 3 ? i(n) : r > 3 ? i(e, o, n) : i(e, o)) || n);\n    return r > 3 && n && Object.defineProperty(e, o, n),\n    n\n};\nObject.defineProperty(o, \"__esModule\", {\n    value: !0\n});\nvar n = t(\"BaseUI\"),\ns = t(\"EventMgr\"),\nc = t(\"PlatformManager\"),\nl = t(\"SdkMgr\"),\nu = t(\"UIMgr\"),\np = t(\"TimeUtils\"),\ng = t(\"Config\"),\nd = t(\"TrackDataEvent\"),\nh = t(\"DataMgr\"),\nf = t(\"GameMgr\"),\nm = t(\"GoodsManager\"),\ny = t(\"PlayerMgr\"),\nv = t(\"TimeMgr\"),\nI = cc._decorator,\nk = I.ccclass,\nC = I.property,\nS = function(t) {\n    function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.CostIcon = [],\n        e.BtnBack = null,\n        e.BtnRefresh = null,\n        e.NodeItem = null,\n        e.LayoutShop = null,\n        e.LabRefreshTime = null,\n        e.NodeEff = null,\n        e.curItemList = [],\n        e\n    }\n    return i(e, t),\n    e.prototype.start = function() {\n        this.refreshMysticalShopSaveTime(),\n        this.registerEvent(),\n        this.registerBtnEvent(),\n        this.initView(),\n        c.PlatformManager.getInstance().hideBlockAd(2)\n    },\n    e.prototype.registerEvent = function() {},\n    e.prototype.registerBtnEvent = function() {\n        var t = this;\n        this.BtnBack.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            t.closeView()\n        }),\n        this.BtnRefresh.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            l.SdkMgr.getInstance().playVideo(1,\n            function() {\n                y.PlayerMgr.getInstance().getTrackData().youmengTrack(d.TrackId.store_refresh),\n                t.refreshItemList()\n            })\n        })\n    },\n    e.prototype.refreshMysticalShopSaveTime = function() {\n        var t = y.PlayerMgr.getInstance().getMysticalShopData().getLastLoginTime();\n        if (y.PlayerMgr.getInstance().getMysticalShopData().refreshLastLoginTime(), 0 != t) {\n            var e = y.PlayerMgr.getInstance().getMysticalShopData().getLastLoginTime() - t;\n            y.PlayerMgr.getInstance().getMysticalShopData().subMysticalShopTime(e)\n        }\n    },\n    e.prototype.openMysticalShopTimer = function() {\n        v.TimeMgr.getInstance().openTimer_MysticalShop()\n    },\n    e.prototype.refreshTime = function(t) {\n        var e = p.TimeUtils.SecondToHours(t);\n        t <= 0 && this.refreshItemList(),\n        this.LabRefreshTime.string = e\n    },\n    e.prototype.initView = function() {\n        this.initItemLayout()\n    },\n    e.prototype.initItemLayout = function() {\n        var t = this,\n        e = y.PlayerMgr.getInstance().getMysticalShopData().getMysticalShopList();\n        e.length < 9 && (f.default.getInstance().refreshMysticalShopData(), e = y.PlayerMgr.getInstance().getMysticalShopData().getMysticalShopList());\n        for (var o = function(o) {\n            var i = cc.instantiate(a.NodeItem);\n            i.active = !0,\n            i.parent = a.LayoutShop,\n            i.position = cc.v3(),\n            a.curItemList.push(i);\n            var r = h.DataMgr.getInstance().getMysticalShop(e[o].id),\n            n = [h.DataMgr.getInstance().getGoodsCfg(r.GoodsID).goodsType, e[o].itemId];\n            y.PlayerMgr.getInstance().getMysticalShopData().addMysticalShopList(e[o]),\n            a.loadItemList(i, n, r, e[o]),\n            i.on(cc.Node.EventType.TOUCH_END,\n            function() {\n                t.refreshCurItem(o)\n            })\n        },\n        a = this, i = 0; i < 9; i++) o(i)\n    },\n    e.prototype.loadItemList = function(t, e, o, a) {\n        if (e && !(e.length <= 0)) {\n            var i = h.DataMgr.getInstance().getGoodsCfg(o.GoodsID);\n            switch (this.loadSpriteFrame(i.bundleQuality, i.iconQuality,\n            function(e) {\n                t.getChildByName(\"SpIconBg\").getComponent(cc.Sprite).spriteFrame = e\n            }), t.getChildByName(\"NodeCost\").getChildByName(\"SpCostIcon\").getComponent(cc.Sprite).spriteFrame = this.CostIcon[o.SaleType - 1], 1 == o.SaleType ? (t.getChildByName(\"NodeCost\").getChildByName(\"LabCostCount\").getComponent(cc.Label).string = a.videoCount + \"/\" + o.SalePrice, t.getChildByName(\"NodeCost\").getChildByName(\"SpCostIcon\").scale = 1) : t.getChildByName(\"NodeCost\").getChildByName(\"LabCostCount\").getComponent(cc.Label).string = \"\" + o.SalePrice, o.DiscountLabel ? (t.getChildByName(\"SpDiscount\").active = !0, t.getChildByName(\"SpDiscount\").getChildByName(\"LabDiscount\").getComponent(cc.Label).string = o.DiscountLabel + \"折\") : t.getChildByName(\"SpDiscount\").active = !1, a.isBuy ? (t.getChildByName(\"SpDiscount\").active = !1, t.getChildByName(\"SpLight\").active = !1, t.getChildByName(\"NodeCost\").active = !1) : (t.getChildByName(\"SpLight\").active = !0, t.getChildByName(\"NodeCost\").active = !0), e[0]) {\n                case \"equip\":\n                    var r = h.DataMgr.getInstance().getEquipCfg(e[1]);\n                this.loadSpriteFrame(r.bundle, r.equipIcon,\n                function(e) {\n                    t.getChildByName(\"SpIcon\").getComponent(cc.Sprite).spriteFrame = e\n                }),\n                t.getChildByName(\"SpIcon\").scale = 1,\n                t.getChildByName(\"LabIconName\").getComponent(cc.Label).string = r.equipName,\n                t.getChildByName(\"LabIconName\").color = m.default.getInstance().seleColor(r.qualityId),\n                t.getChildByName(\"SpItemMask\").getChildByName(\"LabIconNameMask\").getComponent(cc.Label).string = r.equipName,\n                t.getChildByName(\"SpItemMask\").getChildByName(\"LabIconNameMask\").color = m.default.getInstance().seleColor(r.qualityId),\n                a.isBuy ? t.getChildByName(\"SpItemMask\").active = !0 : t.getChildByName(\"SpItemMask\").active = !1,\n                t.getChildByName(\"LabSkillName\").active = !1;\n                break;\n                case \"skillBook\":\n                    var n = h.DataMgr.getInstance().getSkillBook(e[1]);\n                h.DataMgr.getInstance().getSkillQuality(n.qualityId),\n                this.loadSpriteFrame(\"iconImg\", n.SkillIcon,\n                function(e) {\n                    t.getChildByName(\"SpIcon\").getComponent(cc.Sprite).spriteFrame = e\n                }),\n                t.getChildByName(\"LabSkillName\").active = !1,\n                t.getChildByName(\"SpIcon\").scale = .75,\n                t.getChildByName(\"LabIconName\").getComponent(cc.Label).string = n.name,\n                t.getChildByName(\"LabIconName\").color = m.default.getInstance().seleColor(n.qualityId),\n                t.getChildByName(\"SpItemMask\").getChildByName(\"LabIconNameMask\").getComponent(cc.Label).string = n.name,\n                t.getChildByName(\"SpItemMask\").getChildByName(\"LabIconNameMask\").color = m.default.getInstance().seleColor(n.qualityId),\n                a.isBuy ? t.getChildByName(\"SpItemMask\").active = !0 : t.getChildByName(\"SpItemMask\").active = !1,\n                t.getChildByName(\"LabSkillName\").getComponent(cc.Label).string = n.name;\n            }\n        }\n    },\n    e.prototype.refreshItemList = function() {\n        var t = this;\n        if (this.saoGuangAnim(), f.default.getInstance().refreshMysticalShopData(), this.curItemList.length <= 0) for (var e = y.PlayerMgr.getInstance().getMysticalShopData().getMysticalShopList(), o = function(o) {\n            var i = cc.instantiate(a.NodeItem);\n            i.active = !0,\n            i.parent = a.LayoutShop,\n            i.position = cc.v3(),\n            a.curItemList.push(i);\n            var r = h.DataMgr.getInstance().getMysticalShop(e[o].id),\n            n = [h.DataMgr.getInstance().getGoodsCfg(r.GoodsID).goodsType, e[o].itemId];\n            a.loadItemList(i, n, r, e[o]),\n            y.PlayerMgr.getInstance().getMysticalShopData().refreshMysticalShopList(o, e[o]),\n            i.on(cc.Node.EventType.TOUCH_END,\n            function() {\n                t.refreshCurItem(o)\n            })\n        },\n        a = this, i = 0; i < 9; i++) o(i);\n        else for (e = y.PlayerMgr.getInstance().getMysticalShopData().getMysticalShopList(), i = 0; i < this.curItemList.length; i++) {\n            var r = h.DataMgr.getInstance().getMysticalShop(e[i].id),\n            n = [h.DataMgr.getInstance().getGoodsCfg(r.GoodsID).goodsType, e[i].itemId];\n            y.PlayerMgr.getInstance().getMysticalShopData().addMysticalShopList(e[i]),\n            this.loadItemList(this.curItemList[i], n, r, e[i])\n        }\n    },\n    e.prototype.refreshCurItem = function(t) {\n        var e = this,\n        o = y.PlayerMgr.getInstance().getMysticalShopData().getMysticalShopList()[t];\n        if (!o.isBuy) {\n            var a = h.DataMgr.getInstance().getMysticalShop(o.id),\n            i = h.DataMgr.getInstance().getGoodsCfg(a.GoodsID);\n            switch (a.SaleType) {\n                case 1:\n                    l.SdkMgr.getInstance().playVideo(1,\n                function() {\n                    \"equip\" == i.goodsType ? y.PlayerMgr.getInstance().getTrackData().youmengTrack(d.TrackId.store_getequip) : y.PlayerMgr.getInstance().getTrackData().youmengTrack(d.TrackId.store_getskill);\n                    var r = o.videoCount + 1;\n                    r >= a.SalePrice ? y.PlayerMgr.getInstance().getMysticalShopData().setMysticalShopList(o.id, !0, r) : (u.UIMgr.getInstance().openUI(g.UIID.UITips, -1, \"观看成功，进度+1\"), y.PlayerMgr.getInstance().getMysticalShopData().setMysticalShopList(o.id, !1, r)),\n                    e.curItemList[t].getChildByName(\"NodeCost\").getChildByName(\"LabCostCount\").getComponent(cc.Label).string = o.videoCount + \"/\" + a.SalePrice,\n                    e.buySuccess(t, i)\n                });\n                break;\n                case 2:\n                    y.PlayerMgr.getInstance().geUserData().subGoldNum(a.SalePrice) && y.PlayerMgr.getInstance().getMysticalShopData().setMysticalShopList(o.id, !0),\n                this.buySuccess(t, i);\n                break;\n                case 3:\n                    y.PlayerMgr.getInstance().geUserData().subInGotNum(a.SalePrice) && y.PlayerMgr.getInstance().getMysticalShopData().setMysticalShopList(o.id, !0),\n                this.buySuccess(t, i);\n            }\n        }\n    },\n    e.prototype.buySuccess = function(t, e) {\n        var o = y.PlayerMgr.getInstance().getMysticalShopData().getMysticalShopList()[t];\n        if (o.isBuy) switch (y.PlayerMgr.getInstance().getTrackData().addCountStore(), y.PlayerMgr.getInstance().getTrackData().getCountStore() <= 10 && y.PlayerMgr.getInstance().getTrackData().youmengTrack(d.TrackId.store_time_X, y.PlayerMgr.getInstance().getTrackData().getCountStore()), y.PlayerMgr.getInstance().getMainTaskData().mainTask(4), this.curItemList[t].getChildByName(\"SpDiscount\").active = !1, this.curItemList[t].getChildByName(\"NodeCost\").active = !1, this.curItemList[t].getChildByName(\"SpLight\").active = !1, this.curItemList[t].getChildByName(\"SpItemMask\").active = !0, e.goodsType) {\n            case \"equip\":\n                var a = h.DataMgr.getInstance().getEquipCfg(o.itemId);\n            y.PlayerMgr.getInstance().getTrackData().youmengTrack(d.TrackId.store_quip_X, a.id),\n            y.PlayerMgr.getInstance().geUserData().addBaseEquip(a);\n            var i = m.default.getInstance().getColorForQuality(a.qualityId);\n            u.UIMgr.getInstance().openUI(g.UIID.UITips, -1, \"成功获取 <color = #\" + i + \">\" + a.equipName + \"</c>x1\"),\n            s.EventMgr.getInstance().emit(g.EventName.RefreshRedDot, !0, !1, !1, !0, !1);\n            break;\n            case \"skillBook\":\n                var r = h.DataMgr.getInstance().getSkillBook(o.itemId);\n            y.PlayerMgr.getInstance().getTrackData().youmengTrack(d.TrackId.store_skill_X, r.id),\n            y.PlayerMgr.getInstance().geUserData().addSkillBookId(o.itemId),\n            i = m.default.getInstance().getColorForQuality(r.qualityId),\n            u.UIMgr.getInstance().openUI(g.UIID.UITips, -1, \"成功领取 <color = #\" + i + \">\" + r.name + \"</c>x1\"),\n            s.EventMgr.getInstance().emit(g.EventName.RefreshRedDot, !0, !1, !0, !1, !1);\n        } else this.curItemList[t].getChildByName(\"SpLight\").active = !0,\n        this.curItemList[t].getChildByName(\"SpItemMask\").active = !1\n    },\n    e.prototype.saoGuangAnim = function() {\n        this.NodeEff.active = !0,\n        this.NodeEff.getComponent(sp.Skeleton).setAnimation(0, \"saoguang\", !1)\n    },\n    e.prototype.closeView = function() {\n        this.closeUI(),\n        this.refreshMysticalShopSaveTime(),\n        c.PlatformManager.getInstance().showBlockAd(2)\n    },\n    r([C(cc.SpriteFrame)], e.prototype, \"CostIcon\", void 0),\n    r([C(cc.Node)], e.prototype, \"BtnBack\", void 0),\n    r([C(cc.Node)], e.prototype, \"BtnRefresh\", void 0),\n    r([C(cc.Node)], e.prototype, \"NodeItem\", void 0),\n    r([C(cc.Node)], e.prototype, \"LayoutShop\", void 0),\n    r([C(cc.Label)], e.prototype, \"LabRefreshTime\", void 0),\n    r([C(cc.Node)], e.prototype, \"NodeEff\", void 0),\n    r([k], e)\n} (n.default);\no.default = S"]}