{"version":3,"sources":["assets\\scripts\\UITop.js"],"names":["t","require","e","module","o","exports","a","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","r","__decorate","arguments","length","n","getOwnPropertyDescriptor","Reflect","decorate","s","defineProperty","value","c","l","u","p","g","d","h","f","m","y","cc","_decorator","v","ccclass","I","property","k","apply","BtnPower","BtnGold","BtnInGot","goldNum","goldIcon","goldLayout","inGotNum","inGotIcon","inGotLayout","powerNum","powerIcon","powerLayout","LabPowerTime","LayerTouch","goldPosArr","start","registerEvent","registerBtnEvent","initView","onEnable","convertToWorldSpaceAR","Vec2","ZERO","goldPos","convertToNodeSpaceAR","addEvent","EventName","RefreshPower","refreshPower","RefreshGold","refreshGold","RefreshInGot","refreshInGot","RefreshPowerTime","refreshAndShowPowerTime","on","Node","EventType","TOUCH_END","UIMgr","getInstance","openUI","UIID","UIGeneralWindow","GeneralWindowType","PowerWindow","GoldWindow","InGotWindow","userData","PlayerMgr","geUserData","string","getPowerNum","getGoldNum","getInGotNum","calcItemPos","initShowPowerTime","childrenCount","children","push","position","UIUtils","rollNumLabelAtlas","flyGoldAni","active","Vec3","Utils","randomRang","scale","tween","delay","show","to","x","hide","AudioMgr","playEffect","ComAudioId","goldEffect","sendEvent","CommonEventName","GetRewardEnd","flyPowerAni_reverse","openTouchLayer","scheduleOnce","instantiate","parent","node","v3","destroy","Number","DataMgr","getParamsCfgForSingle","EnumParams","LimitPower","TimeMgr","openTimer_power","TimeUtils","SecondToMinutes","Label","type","tooltip"],"mappings":"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","sourceRoot":"/","sourcesContent":["var t = require;\nvar e = module;\nvar o = exports;\nvar a, i = this && this.__extends || (a = function(t, e) {\n    return (a = Object.setPrototypeOf || {\n        __proto__: []\n    }\n    instanceof Array &&\n    function(t, e) {\n        t.__proto__ = e\n    } ||\n    function(t, e) {\n        for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o])\n    })(t, e)\n},\nfunction(t, e) {\n    function o() {\n        this.constructor = t\n    }\n    a(t, e),\n    t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)\n}),\nr = this && this.__decorate ||\nfunction(t, e, o, a) {\n    var i, r = arguments.length,\n    n = r < 3 ? e: null === a ? a = Object.getOwnPropertyDescriptor(e, o) : a;\n    if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) n = Reflect.decorate(t, e, o, a);\n    else for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (n = (r < 3 ? i(n) : r > 3 ? i(e, o, n) : i(e, o)) || n);\n    return r > 3 && n && Object.defineProperty(e, o, n),\n    n\n};\nObject.defineProperty(o, \"__esModule\", {\n    value: !0\n});\nvar n = t(\"CommonCfg\"),\ns = t(\"BaseUI\"),\nc = t(\"AudioMgr\"),\nl = t(\"UIMgr\"),\nu = t(\"TimeUtils\"),\np = t(\"UIUtils\"),\ng = t(\"Utils\"),\nd = t(\"Config\"),\nh = t(\"DataMgr\"),\nf = t(\"PlayerMgr\"),\nm = t(\"TimeMgr\"),\ny = cc._decorator,\nv = y.ccclass,\nI = y.property,\nk = function(t) {\n    function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.BtnPower = null,\n        e.BtnGold = null,\n        e.BtnInGot = null,\n        e.goldNum = null,\n        e.goldIcon = null,\n        e.goldLayout = null,\n        e.inGotNum = null,\n        e.inGotIcon = null,\n        e.inGotLayout = null,\n        e.powerNum = null,\n        e.powerIcon = null,\n        e.powerLayout = null,\n        e.LabPowerTime = null,\n        e.LayerTouch = null,\n        e.goldPosArr = [],\n        e\n    }\n    return i(e, t),\n    e.prototype.start = function() {\n        this.registerEvent(),\n        this.registerBtnEvent(),\n        this.initView()\n    },\n    e.prototype.onEnable = function() {\n        var t = this.goldIcon.convertToWorldSpaceAR(cc.Vec2.ZERO);\n        this.goldPos = this.goldLayout.convertToNodeSpaceAR(t)\n    },\n    e.prototype.registerEvent = function() {\n        this.addEvent(d.EventName.RefreshPower, this.refreshPower),\n        this.addEvent(d.EventName.RefreshGold, this.refreshGold),\n        this.addEvent(d.EventName.RefreshInGot, this.refreshInGot),\n        this.addEvent(d.EventName.RefreshPowerTime, this.refreshAndShowPowerTime)\n    },\n    e.prototype.registerBtnEvent = function() {\n        this.BtnPower.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            l.UIMgr.getInstance().openUI(d.UIID.UIGeneralWindow, -1, d.GeneralWindowType.PowerWindow)\n        }),\n        this.BtnGold.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            l.UIMgr.getInstance().openUI(d.UIID.UIGeneralWindow, -1, d.GeneralWindowType.GoldWindow)\n        }),\n        this.BtnInGot.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            l.UIMgr.getInstance().openUI(d.UIID.UIGeneralWindow, -1, d.GeneralWindowType.InGotWindow)\n        })\n    },\n    e.prototype.initView = function() {\n        this.userData = f.PlayerMgr.getInstance().geUserData(),\n        this.powerNum.string = this.userData.getPowerNum() + \"\",\n        this.goldNum.string = this.userData.getGoldNum() + \"\",\n        this.inGotNum.string = this.userData.getInGotNum() + \"\",\n        this.calcItemPos(),\n        this.initShowPowerTime()\n    },\n    e.prototype.calcItemPos = function() {\n        for (var t = 0; t < this.goldLayout.childrenCount; t++) {\n            var e = this.goldLayout.children[t];\n            this.goldPosArr.push(e.position)\n        }\n    },\n    e.prototype.refreshGold = function(t, e) {\n        var o = this,\n        a = this.userData.getGoldNum();\n        p.UIUtils.rollNumLabelAtlas(e, this.goldNum, t, a,\n        function() {\n            o.goldNum.string = o.userData.getGoldNum() + \"\"\n        },\n        4)\n    },\n    e.prototype.flyGoldAni = function() {\n        for (var t = this,\n        e = 0,\n        o = 0,\n        a = function(a) {\n            var r = i.goldLayout.children[a];\n            r.active = !0,\n            r.position = new cc.Vec3(0, 0, 0);\n            var s = g.Utils.randomRang(1.8, 3);\n            r.scale = .5,\n            cc.tween(r).delay(e).show().to(.2, {\n                position: i.goldPosArr[a]\n            }).to(.03, {\n                scale: s\n            }).to(.02, {\n                scale: 1\n            }).delay(.2).delay(e).call(function() {\n                cc.tween(r).to(e + .05, {\n                    position: new cc.Vec3(t.goldPos.x, t.goldPos.y)\n                }).hide().call(function() {\n                    r.position = t.goldPosArr[a],\n                    c.AudioMgr.getInstance().playEffect(n.ComAudioId.goldEffect),\n                    cc.tween(t.goldIcon).to(.05, {\n                        scale: 1.5\n                    }).to(.1, {\n                        scale: 1\n                    }).start(),\n                    ++o >= t.goldLayout.children.length - 1 && (o = 0, t.sendEvent(n.CommonEventName.GetRewardEnd))\n                }).start()\n            }).start(),\n            e += .04\n        },\n        i = this, r = 0; r < this.goldLayout.children.length; r++) a(r)\n    },\n    e.prototype.refreshPower = function(t, e, o, a, i) {\n        var r = this;\n        void 0 === i && (i = function() {}),\n        o || (a ? this.flyPowerAni_reverse(a, i) : i());\n        var n = this.userData.getPowerNum();\n        p.UIUtils.rollNumLabelAtlas(o, this.powerNum, t, n,\n        function() {\n            r.powerNum.string = r.userData.getPowerNum() + \"\"\n        },\n        4)\n    },\n    e.prototype.flyPowerAni_reverse = function(t, e) {\n        var o = this;\n        void 0 === e && (e = function() {}),\n        this.openTouchLayer(!0);\n        for (var a = function(a) {\n            i.scheduleOnce(function() {\n                var i = cc.instantiate(o.powerIcon);\n                i.parent = o.node,\n                cc.tween(i).to(.5, {\n                    position: cc.v3(t.x, t.y, 0)\n                }).delay(.1).call(function() {\n                    5 == a && (o.openTouchLayer(!1), e && e()),\n                    i.destroy()\n                }).start()\n            },\n            .1 * a)\n        },\n        i = this, r = 1; r <= 5; r++) a(r)\n    },\n    e.prototype.refreshInGot = function(t, e) {\n        var o = this,\n        a = this.userData.getInGotNum();\n        p.UIUtils.rollNumLabelAtlas(e, this.inGotNum, t, a,\n        function() {\n            o.inGotNum.string = o.userData.getInGotNum() + \"\"\n        },\n        4)\n    },\n    e.prototype.initShowPowerTime = function() {\n        this.userData.getPowerNum() >= Number(h.DataMgr.getInstance().getParamsCfgForSingle(d.EnumParams.LimitPower).value) ? this.LabPowerTime.node.active = !1 : m.TimeMgr.getInstance().openTimer_power()\n    },\n    e.prototype.refreshAndShowPowerTime = function(t) {\n        if (this.userData.getPowerNum() >= Number(h.DataMgr.getInstance().getParamsCfgForSingle(d.EnumParams.LimitPower).value)) this.LabPowerTime.node.active = !1;\n        else {\n            var e = u.TimeUtils.SecondToMinutes(t);\n            this.LabPowerTime.string = \"\" + e,\n            this.LabPowerTime.node.active = !0\n        }\n    },\n    e.prototype.openTouchLayer = function(t) {\n        this.LayerTouch.active = t\n    },\n    r([I(cc.Node)], e.prototype, \"BtnPower\", void 0),\n    r([I(cc.Node)], e.prototype, \"BtnGold\", void 0),\n    r([I(cc.Node)], e.prototype, \"BtnInGot\", void 0),\n    r([I(cc.Label)], e.prototype, \"goldNum\", void 0),\n    r([I(cc.Node)], e.prototype, \"goldIcon\", void 0),\n    r([I(cc.Node)], e.prototype, \"goldLayout\", void 0),\n    r([I(cc.Label)], e.prototype, \"inGotNum\", void 0),\n    r([I(cc.Node)], e.prototype, \"inGotIcon\", void 0),\n    r([I(cc.Node)], e.prototype, \"inGotLayout\", void 0),\n    r([I(cc.Label)], e.prototype, \"powerNum\", void 0),\n    r([I(cc.Node)], e.prototype, \"powerIcon\", void 0),\n    r([I(cc.Node)], e.prototype, \"powerLayout\", void 0),\n    r([I(cc.Label)], e.prototype, \"LabPowerTime\", void 0),\n    r([I({\n        type: cc.Node,\n        tooltip: \"触摸屏蔽层\"\n    })], e.prototype, \"LayerTouch\", void 0),\n    r([v], e)\n} (s.default);\no.default = k"]}