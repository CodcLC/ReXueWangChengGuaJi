{"version":3,"sources":["assets\\scripts\\UIShop.js"],"names":["t","require","e","module","o","exports","a","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","r","__decorate","arguments","length","n","getOwnPropertyDescriptor","Reflect","decorate","s","defineProperty","value","c","l","u","p","g","d","h","f","m","y","v","I","k","C","S","M","_","cc","_decorator","b","ccclass","D","property","T","apply","NodeUp","BtnBack","BtnTrue","BtnAgain","LayoutShop","NodeDrawReward","SpLight","NodeBtn","NodeBox","NodeEquip","NodeSkillBook","curShopId","isGuideState","onLoad","registerEvent","start","registerBtnEvent","EventMgr","getInstance","emit","EventName","ShowUITop","initData","initView","guideShow","shopRedDot","shopForRedDot","getChildByName","PlayerMgr","getGuideData","getGuideEnd","getCurrentId","putGuideNum","GuildCfg","distNode","tipstring","yDec","openUICallBack","UIID","UIGuide","addCurrentId","isWeek","showHand","callBack","setTimeout","addEvent","RefreshShopRedDot","on","Node","EventType","TOUCH_END","getTrackData","youmengTrack","TrackId","guide21","openHomeUI","closeUI","SdkMgr","showInsert","AdType","FreeLotty","AudioMgr","playEffect","AudioId","btnClick","trackEvent1","initAgainView","initDrawRewardView","userData","DataMgr","getShopCfg","ConsumeType","TimeUtils","GetTimeBySecond","GetTimeByHours2","playVideo","testTrackTime","equipbox","youmengTrackNew","skillbox","drawReward","addDrawRewardCountForCount","trackEvent2","getGoldNum","ConsumeNum","subGoldNum","UIMgr","openUI","UIGeneralWindow","GeneralWindowType","GoldWindow","getInGotNum","subInGotNum","InGotWindow","geUserData","initCurrency","initShopItem","loadPrefab","instantiate","parent","active","position","v3","opacity","getComponent","Label","string","Sprite","fillRange","children","sp","Skeleton","Utils","randomRang","scheduleOnce","setAnimation","setCompleteListener","RichText","RewardDesc","ProtectNum","getShopDrawRewardCount","ProtectDesc","replace","refreshAgainTimeBtn","trackEvent","childrenCount","refreshShopItem","getMainTaskData","mainTask","addShopDrawReward","ID","setSkin","BoxSkin","setEventListener","data","name","Sound_LuckDraw","loadRewardItem","rewardItemAnim","lightAnim","addEquipCountForTask","addSkillBookCountForTask","RefreshRedDot","console","log","resetDrawRewardCount","getTabelArr","ProtectLibraryRange","RoutineLibraryRange","Number","getRewardPoolCfg","id","Reward","weight","Weight","push","weight_rand","getGoodsCfgForGoodsType","curRewardData","loadRewardForType","getEquipCfg","loadSpriteFrame","bundleQuality","iconQuality","spriteFrame","bundle","equipIcon","equipName","color","seleColor","qualityId","addBaseEquip","getSkillBook","SkillIcon","addSkillBookId","getSkillBookForId","getSkillBookLevelCfg1","StartLevelID","level","MaxLevel","iCount","ConsumeSkillBookNum","tween","to","scale","getSkillQuality","FullGradeCompensate","subSkillBookCount","getRewardForType","parallel","by","Animation","play","FINISHED","playAnimFotBtn","getAbType","getEquipFightForId","getEquipStrengthenCfg1","strengthenStartId","fightNum","TweenMgr","rollLabAnim","isOverEquipBagForIndex","UINotBagIndex","rollBarAnim","animUpLv","getGoodsCfg","goodsICon","quickBigAndSmallAni","playHeartAni","guide17","guide19","guide18","guide20","addBoxOpenTimeForBoxId","getBoxOpenTimeForBoxId","box_time_X_Y","getCurSec","getEnterSecCountForSecId","addBox2CountForSec","getBox2CountForSec","box2_chaptertime_X_Y","addBox3CountForSec","getBox3CountForSec","box3_chaptertime_X_Y","type","tooltip"],"mappings":"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","sourceRoot":"/","sourcesContent":["var t = require;\nvar e = module;\nvar o = exports;\nvar a, i = this && this.__extends || (a = function(t, e) {\n    return (a = Object.setPrototypeOf || {\n        __proto__: []\n    }\n    instanceof Array &&\n    function(t, e) {\n        t.__proto__ = e\n    } ||\n    function(t, e) {\n        for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o])\n    })(t, e)\n},\nfunction(t, e) {\n    function o() {\n        this.constructor = t\n    }\n    a(t, e),\n    t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)\n}),\nr = this && this.__decorate ||\nfunction(t, e, o, a) {\n    var i, r = arguments.length,\n    n = r < 3 ? e: null === a ? a = Object.getOwnPropertyDescriptor(e, o) : a;\n    if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) n = Reflect.decorate(t, e, o, a);\n    else for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (n = (r < 3 ? i(n) : r > 3 ? i(e, o, n) : i(e, o)) || n);\n    return r > 3 && n && Object.defineProperty(e, o, n),\n    n\n};\nObject.defineProperty(o, \"__esModule\", {\n    value: !0\n});\nvar n = t(\"BaseUI\"),\ns = t(\"AudioMgr\"),\nc = t(\"EventMgr\"),\nl = t(\"SdkMgr\"),\nu = t(\"TweenMgr\"),\np = t(\"UIMgr\"),\ng = t(\"TimeUtils\"),\nd = t(\"Utils\"),\nh = t(\"Config\"),\nf = t(\"TrackDataEvent\"),\nm = t(\"DataMgr\"),\ny = t(\"EquipMgr\"),\nv = t(\"GameMgr\"),\nI = t(\"GoodsManager\"),\nk = t(\"PlayerMgr\"),\nC = t(\"RedDotMgr\"),\nS = t(\"TaskMgr\"),\nM = t(\"UIGuide\"),\n_ = cc._decorator,\nb = _.ccclass,\nD = _.property,\nT = function(t) {\n    function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.NodeUp = null,\n        e.BtnBack = null,\n        e.BtnTrue = null,\n        e.BtnAgain = null,\n        e.LayoutShop = null,\n        e.NodeDrawReward = null,\n        e.SpLight = null,\n        e.NodeBtn = null,\n        e.NodeBox = null,\n        e.NodeEquip = null,\n        e.NodeSkillBook = null,\n        e.curShopId = 0,\n        e.isGuideState = !1,\n        e\n    }\n    return i(e, t),\n    e.prototype.onLoad = function() {\n        this.registerEvent()\n    },\n    e.prototype.start = function() {\n        this.registerBtnEvent(),\n        c.EventMgr.getInstance().emit(h.EventName.ShowUITop, !1),\n        this.initData(),\n        this.initView(),\n        this.guideShow()\n    },\n    e.prototype.shopRedDot = function() {\n        C.default.getInstance().shopForRedDot(this.LayoutShop.getChildByName(\"NodeShop1\").getChildByName(\"BtnLuckyDraw\").getChildByName(\"SpRedDot\")),\n        C.default.getInstance().shopForRedDot(this.LayoutShop.getChildByName(\"NodeShop3\").getChildByName(\"BtnLuckyDraw\").getChildByName(\"SpRedDot\"))\n    },\n    e.prototype.guideShow = function() {\n        var t = this,\n        e = k.PlayerMgr.getInstance().getGuideData();\n        if (!e.getGuideEnd()) {\n            var o = e.getCurrentId();\n            if (o == 16 + e.putGuideNum) this.isGuideState = !0,\n            (a = new M.GuildCfg).distNode = this.LayoutShop.getChildByName(\"NodeShop1\").getChildByName(\"BtnLuckyDraw\"),\n            a.tipstring = \"商城中，可以<color=#ff6b1b>快速获得</color>装备和技能噢，先试试看<color=#ff6b1b>装备抽奖</color>吧\",\n            a.yDec = -350,\n            this.openUICallBack(h.UIID.UIGuide,\n            function() {\n                e.addCurrentId()\n            },\n            a);\n            else if (o == 17 + e.putGuideNum) this.isGuideState = !0,\n            (a = new M.GuildCfg).distNode = this.LayoutShop.getChildByName(\"NodeShop3\").getChildByName(\"BtnLuckyDraw\"),\n            a.tipstring = \"获得新装备后记得去穿戴噢！\\n现在再来看看<color=#ff6b1b>技能抽奖</color>吧\",\n            a.yDec = 0,\n            this.openUICallBack(h.UIID.UIGuide,\n            function() {\n                e.addCurrentId()\n            },\n            a);\n            else if (o == 18 + e.putGuideNum) this.isGuideState = !1,\n            (a = new M.GuildCfg).tipstring = \"<color=#ff6b1b>穿戴装备</color>提升<color=#ff6b1b>基础属性</color>，<color=#ff6b1b>学习技能</color>获得<color=#ff6b1b>战斗加成</color>\",\n            a.yDec = -150,\n            a.isWeek = !0,\n            a.showHand = !1,\n            a.callBack = function() {\n                setTimeout(function() {\n                    t.guideShow()\n                },\n                200)\n            },\n            this.openUICallBack(h.UIID.UIGuide,\n            function() {\n                e.addCurrentId()\n            },\n            a);\n            else if (o == 19 + e.putGuideNum) {\n                var a;\n                this.isGuideState = !1,\n                (a = new M.GuildCfg).tipstring = \"记住啦！这就是<color=#ff6b1b>变强的秘诀</color>噢！准备好了，就行。去挑战下一章吧！\",\n                a.yDec = -150,\n                a.isWeek = !0,\n                a.showHand = !1,\n                this.openUICallBack(h.UIID.UIGuide,\n                function() {\n                    e.addCurrentId()\n                },\n                a)\n            }\n        }\n    },\n    e.prototype.registerEvent = function() {\n        this.addEvent(h.EventName.RefreshShopRedDot, this.shopRedDot)\n    },\n    e.prototype.registerBtnEvent = function() {\n        var t = this;\n        this.BtnBack.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            k.PlayerMgr.getInstance().getTrackData().youmengTrack(f.TrackId.guide21),\n            v.default.getInstance().openHomeUI(),\n            t.closeUI(),\n            l.SdkMgr.getInstance().showInsert(l.AdType.FreeLotty)\n        }),\n        this.BtnTrue.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            s.AudioMgr.getInstance().playEffect(h.AudioId.btnClick),\n            t.trackEvent1(t.curShopId),\n            t.isGuideState = !1,\n            t.initAgainView(),\n            t.initDrawRewardView(),\n            t.guideShow(),\n            t.shopRedDot()\n        }),\n        this.BtnAgain.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            s.AudioMgr.getInstance().playEffect(h.AudioId.btnClick);\n            var e = t.userData,\n            o = m.DataMgr.getInstance().getShopCfg(t.curShopId);\n            switch (o.ConsumeType) {\n                case 0:\n                    var a = g.TimeUtils.GetTimeBySecond(),\n                i = g.TimeUtils.GetTimeByHours2();\n                l.SdkMgr.getInstance().playVideo(1,\n                function() {\n                    var e = g.TimeUtils.GetTimeBySecond(),\n                    r = g.TimeUtils.GetTimeByHours2();\n                    2 == t.curShopId ? (k.PlayerMgr.getInstance().getTrackData().testTrackTime(\"equipbox\", i, r, a, e), k.PlayerMgr.getInstance().getTrackData().youmengTrack(f.TrackId.equipbox), k.PlayerMgr.getInstance().getTrackData().youmengTrackNew(\"equipbox_b\")) : 4 == t.curShopId && (k.PlayerMgr.getInstance().getTrackData().testTrackTime(\"skillbox\", i, r, a, e), k.PlayerMgr.getInstance().getTrackData().youmengTrack(f.TrackId.skillbox), k.PlayerMgr.getInstance().getTrackData().youmengTrackNew(\"skillbox_b\")),\n                    t.initAgainView(),\n                    t.drawReward(o),\n                    S.default.getInstance().addDrawRewardCountForCount(),\n                    t.trackEvent2(t.curShopId)\n                });\n                break;\n                case 1:\n                    e.getGoldNum() >= o.ConsumeNum ? (e.subGoldNum(o.ConsumeNum), t.initAgainView(), t.drawReward(o), S.default.getInstance().addDrawRewardCountForCount(), t.trackEvent2(t.curShopId)) : p.UIMgr.getInstance().openUI(h.UIID.UIGeneralWindow, -1, h.GeneralWindowType.GoldWindow,\n                function() {\n                    e.subGoldNum(o.ConsumeNum),\n                    t.initAgainView(),\n                    t.drawReward(o),\n                    S.default.getInstance().addDrawRewardCountForCount(),\n                    t.trackEvent2(t.curShopId)\n                });\n                break;\n                case 2:\n                    e.getInGotNum() >= o.ConsumeNum ? (e.subInGotNum(o.ConsumeNum), t.initAgainView(), t.drawReward(o), S.default.getInstance().addDrawRewardCountForCount(), t.trackEvent2(t.curShopId)) : p.UIMgr.getInstance().openUI(h.UIID.UIGeneralWindow, -1, h.GeneralWindowType.InGotWindow,\n                function() {\n                    e.subInGotNum(o.ConsumeNum),\n                    t.initAgainView(),\n                    t.drawReward(o),\n                    S.default.getInstance().addDrawRewardCountForCount(),\n                    t.trackEvent2(t.curShopId)\n                });\n            }\n        })\n    },\n    e.prototype.initData = function() {\n        this.userData = k.PlayerMgr.getInstance().geUserData()\n    },\n    e.prototype.initView = function() {\n        this.initCurrency(),\n        this.initDrawRewardView(),\n        this.initShopItem()\n    },\n    e.prototype.initCurrency = function() {\n        var t = this;\n        this.loadPrefab(\"prefabs\", \"widget/NodeCurrency\",\n        function(e) {\n            cc.instantiate(e).parent = t.NodeUp\n        })\n    },\n    e.prototype.initDrawRewardView = function() {\n        this.NodeDrawReward.active = !1,\n        this.NodeBtn.active = !1,\n        this.NodeEquip.position = cc.v3(0, 1500, 0),\n        this.NodeSkillBook.position = cc.v3(0, 1500, 0)\n    },\n    e.prototype.initAgainView = function() {\n        this.NodeBtn.active = !1,\n        this.NodeEquip.position = cc.v3(0, 1500, 0),\n        this.NodeEquip.getChildByName(\"LabName\").opacity = 0,\n        this.NodeEquip.getChildByName(\"SpFightNum\").opacity = 0,\n        this.NodeEquip.getChildByName(\"SpFightNum\").getChildByName(\"LabFightnNum\").getComponent(cc.Label).string = \"0\",\n        this.NodeSkillBook.position = cc.v3(0, 1500, 0),\n        this.NodeSkillBook.getChildByName(\"LabName\").opacity = 0,\n        this.NodeSkillBook.getChildByName(\"SpBarBg\").opacity = 0,\n        this.NodeSkillBook.getChildByName(\"SpNew\").opacity = 0,\n        this.NodeSkillBook.getChildByName(\"NodeSell\").opacity = 0,\n        this.NodeSkillBook.getChildByName(\"SpBarBg\").getChildByName(\"SpUp\").active = !1,\n        this.NodeSkillBook.getChildByName(\"SpBarBg\").getChildByName(\"SpBar\").getComponent(cc.Sprite).fillRange = 0,\n        this.SpLight.opacity = 0\n    },\n    e.prototype.initShopItem = function() {\n        for (var t = this,\n        e = function(e) {\n            var a = e + 1,\n            i = o.LayoutShop.children[e],\n            r = i.getChildByName(\"SpBox\").getComponent(sp.Skeleton),\n            n = d.Utils.randomRang(0, 3);\n            o.scheduleOnce(function() {\n                var e;\n                e = 0 == d.Utils.randomRang(0, 2) ? \"idle2\": \"idle3\",\n                r.setAnimation(0, e, !1),\n                r.setCompleteListener(function() {\n                    var e = d.Utils.randomRang(1, 4);\n                    t.scheduleOnce(function() {\n                        var t;\n                        t = 0 == d.Utils.randomRang(0, 2) ? \"idle2\": \"idle3\",\n                        r.setAnimation(0, t, !1)\n                    },\n                    e)\n                })\n            },\n            n);\n            var s = m.DataMgr.getInstance().getShopCfg(a);\n            i.getChildByName(\"Lab1\").getComponent(cc.RichText).string = \"<outline color=#000000 width = 3>\" + s.RewardDesc + \"</outline>\";\n            var c = s.ProtectNum - o.userData.getShopDrawRewardCount(a),\n            u = 1 == c ? \"本\": \"\" + c,\n            y = s.ProtectDesc.replace(\"%s\", u);\n            1 != c && (y = \"<outline color=#000000 width = 3>再开</outline>\" + y),\n            i.getChildByName(\"Lab2\").getComponent(cc.RichText).string = \"\" + y;\n            var v = i.getChildByName(\"BtnLuckyDraw\");\n            1 != a && 3 != a || C.default.getInstance().shopForRedDot(v.getChildByName(\"SpRedDot\")),\n            s.ConsumeType && (v.getChildByName(\"LabCost\").getComponent(cc.Label).string = \"\" + s.ConsumeNum),\n            v.on(cc.Node.EventType.TOUCH_END,\n            function() {\n                t.curShopId = a,\n                t.refreshAgainTimeBtn(s);\n                var e = t.userData;\n                switch (s.ConsumeType) {\n                    case 0:\n                        var o = g.TimeUtils.GetTimeBySecond(),\n                    i = g.TimeUtils.GetTimeByHours2();\n                    l.SdkMgr.getInstance().playVideo(1,\n                    function() {\n                        var e = g.TimeUtils.GetTimeBySecond(),\n                        r = g.TimeUtils.GetTimeByHours2();\n                        2 == t.curShopId ? (k.PlayerMgr.getInstance().getTrackData().testTrackTime(\"equipbox\", i, r, o, e), k.PlayerMgr.getInstance().getTrackData().youmengTrack(f.TrackId.equipbox), k.PlayerMgr.getInstance().getTrackData().youmengTrackNew(\"equipbox_b\")) : 4 == t.curShopId && (k.PlayerMgr.getInstance().getTrackData().testTrackTime(\"skillbox\", i, r, o, e), k.PlayerMgr.getInstance().getTrackData().youmengTrack(f.TrackId.skillbox), k.PlayerMgr.getInstance().getTrackData().youmengTrackNew(\"skillbox_b\")),\n                        t.drawReward(s),\n                        S.default.getInstance().addDrawRewardCountForCount(),\n                        t.trackEvent(a),\n                        t.trackEvent2(t.curShopId)\n                    });\n                    break;\n                    case 1:\n                        e.getGoldNum() >= s.ConsumeNum ? (e.subGoldNum(s.ConsumeNum), t.drawReward(s), S.default.getInstance().addDrawRewardCountForCount(), t.trackEvent(a), t.trackEvent2(t.curShopId)) : p.UIMgr.getInstance().openUI(h.UIID.UIGeneralWindow, -1, h.GeneralWindowType.GoldWindow,\n                    function() {\n                        e.subGoldNum(s.ConsumeNum),\n                        t.drawReward(s),\n                        S.default.getInstance().addDrawRewardCountForCount(),\n                        t.trackEvent(a),\n                        t.trackEvent2(t.curShopId)\n                    });\n                    break;\n                    case 2:\n                        e.getInGotNum() >= s.ConsumeNum ? (e.subInGotNum(s.ConsumeNum), t.drawReward(s), S.default.getInstance().addDrawRewardCountForCount(), t.trackEvent(a), t.trackEvent2(t.curShopId)) : p.UIMgr.getInstance().openUI(h.UIID.UIGeneralWindow, -1, h.GeneralWindowType.InGotWindow,\n                    function() {\n                        e.subInGotNum(s.ConsumeNum),\n                        t.drawReward(s),\n                        S.default.getInstance().addDrawRewardCountForCount(),\n                        t.trackEvent(a),\n                        t.trackEvent2(t.curShopId)\n                    });\n                }\n            })\n        },\n        o = this, a = 0; a < this.LayoutShop.childrenCount; a++) e(a)\n    },\n    e.prototype.refreshShopItem = function(t) {\n        var e = this.LayoutShop.children[t - 1],\n        o = m.DataMgr.getInstance().getShopCfg(t),\n        a = o.ProtectNum - this.userData.getShopDrawRewardCount(t),\n        i = 1 == a ? \"本\": \"\" + a,\n        r = o.ProtectDesc.replace(\"%s\", i);\n        1 != a && (r = \"<outline color=#000000 width = 3>再开</outline>\" + r),\n        e.getChildByName(\"Lab2\").getComponent(cc.RichText).string = \"\" + r\n    },\n    e.prototype.drawReward = function(t) {\n        var e = this;\n        k.PlayerMgr.getInstance().getMainTaskData().mainTask(7),\n        this.userData.addShopDrawReward(t.ID),\n        this.NodeDrawReward.active = !0;\n        var o = this.NodeBox.getComponent(sp.Skeleton);\n        o.setSkin(t.BoxSkin),\n        o.setAnimation(0, \"open\", !1),\n        o.setEventListener(function(o, a) {\n            \"open\" == a.data.name && (s.AudioMgr.getInstance().playEffect(h.AudioId.Sound_LuckDraw), 1 == t.ID || 2 == t.ID ? (e.loadRewardItem(e.NodeEquip, t), e.rewardItemAnim(e.NodeEquip, e.NodeBox.position), e.lightAnim(), S.default.getInstance().addEquipCountForTask()) : (e.loadRewardItem(e.NodeSkillBook, t), e.rewardItemAnim(e.NodeSkillBook, e.NodeBox.position), e.lightAnim(), S.default.getInstance().addSkillBookCountForTask()), c.EventMgr.getInstance().emit(h.EventName.RefreshRedDot, !0, !1, !0, !0, !1))\n        })\n    },\n    e.prototype.loadRewardItem = function(t, e) {\n        var o = this.userData,\n        a = [];\n        o.getShopDrawRewardCount(e.ID) >= e.ProtectNum ? (console.log(\"必得！！！\"), o.resetDrawRewardCount(e.ID), a = d.Utils.getTabelArr(e.ProtectLibraryRange)) : a = d.Utils.getTabelArr(e.RoutineLibraryRange);\n        for (var i = [], r = Number(a[0]); r <= Number(a[1]); r++) {\n            var n = m.DataMgr.getInstance().getRewardPoolCfg(r),\n            s = {\n                id: n.Reward,\n                weight: n.Weight\n            };\n            i.push(s)\n        }\n        var c = d.Utils.weight_rand(i),\n        l = 1 == this.curShopId || 2 == this.curShopId ? [\"equip\", 40] : [\"skillBook\", 22];\n        if (this.isGuideState) {\n            var u = k.PlayerMgr.getInstance().getGuideData();\n            if (!u.getGuideEnd()) {\n                var p = u.getCurrentId();\n                p == 17 + u.putGuideNum ? l = [\"equip\", 40] : 18 == p && (l = [\"skillBook\", 22]),\n                this.isGuideState = !1\n            }\n        } else l = I.default.getInstance().getGoodsCfgForGoodsType(c.id);\n        this.curRewardData = l,\n        this.loadRewardForType(t, l),\n        this.refreshShopItem(e.ID)\n    },\n    e.prototype.loadRewardForType = function(t, e) {\n        if (e && !(e.length <= 0)) switch (e[0]) {\n            case \"equip\":\n                var o = m.DataMgr.getInstance().getEquipCfg(e[1]);\n            this.loadSpriteFrame(o.bundleQuality, o.iconQuality,\n            function(e) {\n                t.getComponent(cc.Sprite).spriteFrame = e\n            }),\n            this.loadSpriteFrame(o.bundle, o.equipIcon,\n            function(e) {\n                t.getChildByName(\"SpIcon\").getComponent(cc.Sprite).spriteFrame = e\n            }),\n            t.getChildByName(\"LabName\").getComponent(cc.Label).string = o.equipName,\n            t.getChildByName(\"LabName\").color = I.default.getInstance().seleColor(o.qualityId),\n            this.userData.addBaseEquip(o);\n            break;\n            case \"skillBook\":\n                var a = m.DataMgr.getInstance().getSkillBook(e[1]);\n            this.loadSpriteFrame(\"iconImg\", a.SkillIcon,\n            function(e) {\n                t.getComponent(cc.Sprite).spriteFrame = e\n            }),\n            t.getChildByName(\"LabSkilllName\").active = !1,\n            t.getChildByName(\"LabSkilllName\").getComponent(cc.Label).string = a.name,\n            t.getChildByName(\"LabName\").getComponent(cc.Label).string = a.name,\n            t.getChildByName(\"LabName\").color = I.default.getInstance().seleColor(a.qualityId),\n            this.userData.addSkillBookId(a.id);\n            var i = t.getChildByName(\"SpBarBg\"),\n            r = this.userData.getSkillBookForId(a.id),\n            n = m.DataMgr.getInstance().getSkillBookLevelCfg1(a.StartLevelID, r.level);\n            r.level >= a.MaxLevel ? i.getChildByName(\"LabBar\").getComponent(cc.Label).string = \"MAX\": i.getChildByName(\"LabBar\").getComponent(cc.Label).string = r.iCount + \"/\" + n.ConsumeSkillBookNum;\n        }\n    },\n    e.prototype.lightAnim = function() {\n        this.SpLight.opacity = 0,\n        cc.tween(this.SpLight).to(.7, {\n            opacity: 255\n        }).start()\n    },\n    e.prototype.rewardItemAnim = function(t, e) {\n        var o = this;\n        if (t.position = e, t.scale = 0, \"skillBook\" == this.curRewardData[0]) if (0 == this.userData.getSkillBookForId(this.curRewardData[1]).iCount) t.getChildByName(\"SpBarBg\").active = !1,\n        t.getChildByName(\"SpNew\").active = !0,\n        t.getChildByName(\"NodeSell\").active = !1;\n        else {\n            var a = m.DataMgr.getInstance().getSkillBook(this.curRewardData[1]),\n            i = m.DataMgr.getInstance().getSkillQuality(a.qualityId),\n            r = d.Utils.getTabelArr(i.FullGradeCompensate);\n            this.userData.getSkillBookForId(this.curRewardData[1]).level >= a.MaxLevel ? (t.getChildByName(\"SpBarBg\").active = !1, t.getChildByName(\"SpNew\").active = !1, t.getChildByName(\"NodeSell\").active = !0, t.getChildByName(\"NodeSell\").getChildByName(\"LabSell\").getComponent(cc.Label).string = \"\" + r[1], this.userData.subSkillBookCount(a.id), I.default.getInstance().getRewardForType(Number(r[0]), Number(r[1]))) : (t.getChildByName(\"SpBarBg\").active = !0, t.getChildByName(\"SpNew\").active = !1, t.getChildByName(\"NodeSell\").active = !1)\n        }\n        cc.tween(t).parallel(cc.tween().by(.3, {\n            y: 550\n        }), cc.tween().to(.3, {\n            scale: 1\n        })).call(function() {\n            var e = k.PlayerMgr.getInstance().getGuideData();\n            if (e.getGuideEnd()) o.BtnAgain.active = !0;\n            else {\n                var a = e.getCurrentId();\n                a == 17 + e.putGuideNum || a == 18 + e.putGuideNum ? o.BtnAgain.active = !1 : o.BtnAgain.active = !0\n            }\n            var i = t.getComponent(cc.Animation);\n            i.play(),\n            i.on(cc.Animation.EventType.FINISHED,\n            function() {\n                var e = function() {\n                    o.NodeBtn.active = !0,\n                    o.playAnimFotBtn()\n                };\n                switch (o.curRewardData[0]) {\n                    case \"equip\":\n                        var a = m.DataMgr.getInstance().getEquipCfg(o.curRewardData[1]),\n                    i = 0;\n                    i = \"D\" == k.PlayerMgr.getInstance().getAbType() ? y.default.getInstance().getEquipFightForId(o.curRewardData[1], !0) : m.DataMgr.getInstance().getEquipStrengthenCfg1(a.strengthenStartId, 0).fightNum,\n                    u.TweenMgr.getInstance().rollLabAnim(!0, t.getChildByName(\"SpFightNum\").getChildByName(\"LabFightnNum\").getComponent(cc.Label), 0, i,\n                    function() {\n                        I.default.getInstance().isOverEquipBagForIndex() && p.UIMgr.getInstance().openUI(h.UIID.UINotBagIndex, -1),\n                        e()\n                    });\n                    break;\n                    case \"skillBook\":\n                        var r = m.DataMgr.getInstance().getSkillBook(o.curRewardData[1]),\n                    n = o.userData.getSkillBookForId(r.id),\n                    s = m.DataMgr.getInstance().getSkillBookLevelCfg1(r.StartLevelID, n.level),\n                    c = n.iCount / s.ConsumeSkillBookNum > 1 ? 1 : n.iCount / s.ConsumeSkillBookNum;\n                    u.TweenMgr.getInstance().rollBarAnim(!0, t.getChildByName(\"SpBarBg\").getChildByName(\"SpBar\").getComponent(cc.Sprite), 0, c,\n                    function() {\n                        t.getChildByName(\"SpBarBg\").getChildByName(\"SpUp\").active = c >= 1,\n                        c >= 1 && u.TweenMgr.getInstance().animUpLv(t.getChildByName(\"SpBarBg\").getChildByName(\"SpUp\")),\n                        e()\n                    });\n                }\n            })\n        }).start()\n    },\n    e.prototype.refreshAgainTimeBtn = function(t) {\n        var e = this,\n        o = \"commonImg\",\n        a = \"cq_ty_sp\",\n        i = \"再来一次\";\n        switch (t.ConsumeType) {\n            case 0:\n                break;\n            case 1:\n            case 2:\n                var r = m.DataMgr.getInstance().getGoodsCfg(t.ConsumeType);\n            o = r.bundle,\n            a = r.goodsICon,\n            i = \"\" + t.ConsumeNum;\n        }\n        this.loadSpriteFrame(o, a,\n        function(t) {\n            e.BtnAgain.getChildByName(\"LayoutAgain\").getChildByName(\"SpCost\").getComponent(cc.Sprite).spriteFrame = t\n        }),\n        this.BtnAgain.getChildByName(\"LayoutAgain\").getChildByName(\"LabAgain\").getComponent(cc.Label).string = i\n    },\n    e.prototype.playAnimFotBtn = function() {\n        var t = this,\n        e = m.DataMgr.getInstance().getShopCfg(this.curShopId),\n        o = e.ProtectNum - this.userData.getShopDrawRewardCount(this.curShopId);\n        if (2 == this.curShopId || 4 == this.curShopId) {\n            this.BtnAgain.getChildByName(\"LabDec\").active = !0;\n            var a = 1 == o ? \"本\": \"\" + o,\n            i = e.ProtectDesc.replace(\"%s\", a);\n            1 != o && (i = \"<outline color=#000000 width = 3>再开</outline>\" + i),\n            this.BtnAgain.getChildByName(\"LabDec\").getComponent(cc.RichText).string = i\n        } else this.BtnAgain.getChildByName(\"LabDec\").active = !1;\n        u.TweenMgr.getInstance().quickBigAndSmallAni(this.BtnTrue,\n        function() {\n            t.BtnTrue.scale = 1\n        }),\n        u.TweenMgr.getInstance().quickBigAndSmallAni(this.BtnAgain,\n        function() {\n            t.BtnAgain.scale = 1,\n            2 != t.curShopId && 4 != t.curShopId || u.TweenMgr.getInstance().playHeartAni(t.BtnAgain)\n        })\n    },\n    e.prototype.trackEvent = function(t) {\n        switch (t) {\n            case 1:\n                k.PlayerMgr.getInstance().getTrackData().youmengTrack(f.TrackId.guide17);\n            break;\n            case 2:\n                break;\n            case 3:\n                k.PlayerMgr.getInstance().getTrackData().youmengTrack(f.TrackId.guide19);\n        }\n    },\n    e.prototype.trackEvent1 = function(t) {\n        switch (t) {\n            case 1:\n                k.PlayerMgr.getInstance().getTrackData().youmengTrack(f.TrackId.guide18);\n            break;\n            case 2:\n                break;\n            case 3:\n                k.PlayerMgr.getInstance().getTrackData().youmengTrack(f.TrackId.guide20);\n        }\n    },\n    e.prototype.trackEvent2 = function(t) {\n        var e = k.PlayerMgr.getInstance().geUserData();\n        e.addBoxOpenTimeForBoxId(t);\n        var o = e.getBoxOpenTimeForBoxId(t);\n        o <= 20 && k.PlayerMgr.getInstance().getTrackData().youmengTrack(f.TrackId.box_time_X_Y, t, o);\n        var a = e.getCurSec();\n        if (e.getEnterSecCountForSecId(a) <= 0 && (a -= 1) < 1 && (a = 1), 2 == t) {\n            e.addBox2CountForSec(a);\n            var i = e.getBox2CountForSec(a);\n            a <= 5 && i <= 5 && k.PlayerMgr.getInstance().getTrackData().youmengTrack(f.TrackId.box2_chaptertime_X_Y, a, i)\n        } else if (4 == t) {\n            e.addBox3CountForSec(a);\n            var r = e.getBox3CountForSec(a);\n            a <= 5 && r <= 5 && k.PlayerMgr.getInstance().getTrackData().youmengTrack(f.TrackId.box3_chaptertime_X_Y, a, r)\n        }\n    },\n    r([D(cc.Node)], e.prototype, \"NodeUp\", void 0),\n    r([D(cc.Node)], e.prototype, \"BtnBack\", void 0),\n    r([D(cc.Node)], e.prototype, \"BtnTrue\", void 0),\n    r([D(cc.Node)], e.prototype, \"BtnAgain\", void 0),\n    r([D(cc.Node)], e.prototype, \"LayoutShop\", void 0),\n    r([D({\n        type: cc.Node,\n        tooltip: \"抽奖界面\"\n    })], e.prototype, \"NodeDrawReward\", void 0),\n    r([D(cc.Node)], e.prototype, \"SpLight\", void 0),\n    r([D(cc.Node)], e.prototype, \"NodeBtn\", void 0),\n    r([D(cc.Node)], e.prototype, \"NodeBox\", void 0),\n    r([D({\n        type: cc.Node,\n        tooltip: \"装备奖励节点\"\n    })], e.prototype, \"NodeEquip\", void 0),\n    r([D({\n        type: cc.Node,\n        tooltip: \"技能书奖励节点\"\n    })], e.prototype, \"NodeSkillBook\", void 0),\n    r([b], e)\n} (n.default);\no.default = T"]}