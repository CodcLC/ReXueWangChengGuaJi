{"version":3,"sources":["assets\\scripts\\NodeFetter.js"],"names":["t","require","e","module","o","exports","a","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","r","__decorate","arguments","length","n","getOwnPropertyDescriptor","Reflect","decorate","s","defineProperty","value","c","l","u","p","cc","_decorator","g","ccclass","d","property","h","apply","SpSelect","LabFetterNum","fetterId","fetterData","onLoad","start","registerEvent","EventMgr","getInstance","on","EventName","RefreshFetterShow","refreshFetterShow","RefreshLight","refreshLight","registerBtnEvent","node","Node","EventType","TOUCH_END","Utils","posTransform","parent","getPosition","UIMgr","getUIRoot","UIID","UIGame","openUI","UIFetterInfo","initData","string","getStringForFetterId","lightAnim","isValid","opacity","tween","to","onDestroy","off","RichText","Component"],"mappings":"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","sourceRoot":"/","sourcesContent":["var t = require;\nvar e = module;\nvar o = exports;\nvar a, i = this && this.__extends || (a = function(t, e) {\n    return (a = Object.setPrototypeOf || {\n        __proto__: []\n    }\n    instanceof Array &&\n    function(t, e) {\n        t.__proto__ = e\n    } ||\n    function(t, e) {\n        for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o])\n    })(t, e)\n},\nfunction(t, e) {\n    function o() {\n        this.constructor = t\n    }\n    a(t, e),\n    t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)\n}),\nr = this && this.__decorate ||\nfunction(t, e, o, a) {\n    var i, r = arguments.length,\n    n = r < 3 ? e: null === a ? a = Object.getOwnPropertyDescriptor(e, o) : a;\n    if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) n = Reflect.decorate(t, e, o, a);\n    else for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (n = (r < 3 ? i(n) : r > 3 ? i(e, o, n) : i(e, o)) || n);\n    return r > 3 && n && Object.defineProperty(e, o, n),\n    n\n};\nObject.defineProperty(o, \"__esModule\", {\n    value: !0\n});\nvar n = t(\"EventMgr\"),\ns = t(\"UIMgr\"),\nc = t(\"Utils\"),\nl = t(\"Config\"),\nu = t(\"GameDataMgr\"),\np = cc._decorator,\ng = p.ccclass,\nd = p.property,\nh = function(t) {\n    function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.SpSelect = null,\n        e.LabFetterNum = null,\n        e.fetterId = 1,\n        e.fetterData = null,\n        e\n    }\n    return i(e, t),\n    e.prototype.onLoad = function() {},\n    e.prototype.start = function() {},\n    e.prototype.registerEvent = function() {\n        n.EventMgr.getInstance().on(l.EventName.RefreshFetterShow, this, this.refreshFetterShow),\n        n.EventMgr.getInstance().on(l.EventName.RefreshLight, this, this.refreshLight)\n    },\n    e.prototype.registerBtnEvent = function() {\n        var t = this;\n        this.node.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            var e = c.Utils.posTransform(t.node.parent, t.node.getPosition(), s.UIMgr.getInstance().getUIRoot(l.UIID.UIGame));\n            s.UIMgr.getInstance().openUI(l.UIID.UIFetterInfo, -1, t.fetterId, e)\n        })\n    },\n    e.prototype.initData = function(t) {\n        this.fetterId = t,\n        this.registerEvent(),\n        this.registerBtnEvent()\n    },\n    e.prototype.refreshFetterShow = function(t) {\n        this.fetterId === t && (this.LabFetterNum.string = u.default.getInstance().getStringForFetterId(this.fetterId))\n    },\n    e.prototype.refreshLight = function(t) {\n        this.fetterId === t && this.lightAnim()\n    },\n    e.prototype.lightAnim = function() {\n        cc.isValid(this.SpSelect) && (this.SpSelect.opacity = 0, cc.tween(this.SpSelect).to(.3, {\n            opacity: 255\n        }).to(.8, {\n            opacity: 100\n        }).to(.6, {\n            opacity: 255\n        }).to(.5, {\n            opacity: 0\n        }).start())\n    },\n    e.prototype.onDestroy = function() {\n        n.EventMgr.getInstance().off(l.EventName.RefreshFetterShow, this, this.refreshFetterShow),\n        n.EventMgr.getInstance().off(l.EventName.RefreshLight, this, this.refreshLight)\n    },\n    r([d(cc.Node)], e.prototype, \"SpSelect\", void 0),\n    r([d(cc.RichText)], e.prototype, \"LabFetterNum\", void 0),\n    r([g], e)\n} (cc.Component);\no.default = h"]}