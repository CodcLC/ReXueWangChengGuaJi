{"version":3,"sources":["assets\\scripts\\UISkillBook.js"],"names":["t","require","e","module","o","exports","a","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","r","__decorate","arguments","length","n","getOwnPropertyDescriptor","Reflect","decorate","s","defineProperty","value","c","l","u","p","g","d","h","f","m","y","v","I","k","cc","_decorator","C","ccclass","S","property","M","apply","SpSkillBookIconArr","LabNotGet","NodeUp","LabOwnedNum","ScrollViewSkillBook","viewSkillBook","LayoutSkillBook","LayoutOwnedSkillBookLayout","LayoutNotGetSkillBookLayout","LayerTouch","BtnBack","BtnBox","curViewContentH","loadCount","abType","itemHeight","onLoad","registerEvent","getInstance","initOwnedSkillBookData","initAbTypeData","PlayerMgr","getTrackData","getAbType","getComponent","Layout","paddingLeft","paddingRight","spacingX","spacingY","start","registerBtnEvent","EventMgr","emit","EventName","ShowUITop","initViewContent","playBoxAnim","initData","initView","guideShow","winSize","height","console","log","TweenMgr","playHeartAni","getGuideData","getGuideEnd","getCurrentId","putGuideNum","isOpenTouch","scheduleOnce","scrollToPercentVertical","GuildCfg","childrenCount","children","skillBookId","distNode","tipstring","yDec","openUICallBack","UIID","UIGuide","addCurrentId","active","addEvent","SkillBookGuideShow","on","Node","EventType","TOUCH_END","openHomeUI","closeView","youmengTrack","TrackId","guide16","UIMgr","openUI","UIShop","initCurrency","initSkillBookOwnedCount","initOwnedSkillBook","loadPrefab","instantiate","parent","DataMgr","getSkillBookCfg","skillBookOwnedForQuality","string","PoolMgr","getNode","opacity","position","v3","loadSkillBookItem","initNotGetSkillBook","ResourceMgr","loadRes","Prefab","skillBookNotGetForQuality","updateLayout","scrollViewEvent_SkillBook","isValid","UISkillBook","getSkillBook","getSkillQuality","qualityId","loadSpriteFrame","SkillIcon","getChildByName","Sprite","spriteFrame","bundle","iconImg2","Label","name","getFetter","fetterId1","fetterId2","iconImg","geUserData","getSkillBookForId","getSkillBookLevelCfg1","StartLevelID","level","ConsumeSkillBookNum","iCount","fillRange","MaxLevel","node","getContentSize","visibleRank_SkillBook","recycleSkillBook","freeNode","destroySkillBook","initSkillBookProp","closeUI","SpriteFrame","type","tooltip","ScrollView"],"mappings":"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","sourceRoot":"/","sourcesContent":["var t = require;\nvar e = module;\nvar o = exports;\nvar a, i = this && this.__extends || (a = function(t, e) {\n    return (a = Object.setPrototypeOf || {\n        __proto__: []\n    }\n    instanceof Array &&\n    function(t, e) {\n        t.__proto__ = e\n    } ||\n    function(t, e) {\n        for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o])\n    })(t, e)\n},\nfunction(t, e) {\n    function o() {\n        this.constructor = t\n    }\n    a(t, e),\n    t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)\n}),\nr = this && this.__decorate ||\nfunction(t, e, o, a) {\n    var i, r = arguments.length,\n    n = r < 3 ? e: null === a ? a = Object.getOwnPropertyDescriptor(e, o) : a;\n    if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) n = Reflect.decorate(t, e, o, a);\n    else for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (n = (r < 3 ? i(n) : r > 3 ? i(e, o, n) : i(e, o)) || n);\n    return r > 3 && n && Object.defineProperty(e, o, n),\n    n\n};\nObject.defineProperty(o, \"__esModule\", {\n    value: !0\n});\nvar n = t(\"BaseUI\"),\ns = t(\"EventMgr\"),\nc = t(\"PoolMgr\"),\nl = t(\"ResourceMgr\"),\nu = t(\"TweenMgr\"),\np = t(\"UIMgr\"),\ng = t(\"Config\"),\nd = t(\"TrackDataEvent\"),\nh = t(\"DataMgr\"),\nf = t(\"GameMgr\"),\nm = t(\"GoodsManager\"),\ny = t(\"PlayerMgr\"),\nv = t(\"NodeUISkillBook\"),\nI = t(\"UIGuide\"),\nk = cc._decorator,\nC = k.ccclass,\nS = k.property,\nM = function(t) {\n    function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.SpSkillBookIconArr = [],\n        e.LabNotGet = null,\n        e.NodeUp = null,\n        e.LabOwnedNum = null,\n        e.ScrollViewSkillBook = null,\n        e.viewSkillBook = null,\n        e.LayoutSkillBook = null,\n        e.LayoutOwnedSkillBookLayout = null,\n        e.LayoutNotGetSkillBookLayout = null,\n        e.LayerTouch = null,\n        e.BtnBack = null,\n        e.BtnBox = null,\n        e.curViewContentH = 945,\n        e.loadCount = 0,\n        e.abType = \"A\",\n        e.itemHeight = 234,\n        e\n    }\n    return i(e, t),\n    e.prototype.onLoad = function() {\n        this.registerEvent(),\n        m.default.getInstance().initOwnedSkillBookData()\n    },\n    e.prototype.initAbTypeData = function() {\n        this.abType = y.PlayerMgr.getInstance().getTrackData().getAbType(),\n        this.itemHeight = 256,\n        this.LayoutOwnedSkillBookLayout.getComponent(cc.Layout).paddingLeft = 30,\n        this.LayoutOwnedSkillBookLayout.getComponent(cc.Layout).paddingRight = 16,\n        this.LayoutOwnedSkillBookLayout.getComponent(cc.Layout).spacingX = 54,\n        this.LayoutOwnedSkillBookLayout.getComponent(cc.Layout).spacingY = 20,\n        this.LayoutNotGetSkillBookLayout.getComponent(cc.Layout).paddingLeft = 30,\n        this.LayoutNotGetSkillBookLayout.getComponent(cc.Layout).paddingRight = 16,\n        this.LayoutNotGetSkillBookLayout.getComponent(cc.Layout).spacingX = 54,\n        this.LayoutNotGetSkillBookLayout.getComponent(cc.Layout).spacingY = 20\n    },\n    e.prototype.start = function() {\n        this.initAbTypeData(),\n        this.registerBtnEvent(),\n        s.EventMgr.getInstance().emit(g.EventName.ShowUITop, !1),\n        this.initViewContent(),\n        this.playBoxAnim(),\n        this.initData(),\n        this.initView(),\n        this.guideShow()\n    },\n    e.prototype.initViewContent = function() {\n        this.curViewContentH = cc.winSize.height - 335 - 54 + 354,\n        console.log(\"this.curViewContentH：\", this.curViewContentH)\n    },\n    e.prototype.playBoxAnim = function() {\n        u.TweenMgr.getInstance().playHeartAni(this.BtnBox)\n    },\n    e.prototype.guideShow = function() {\n        var t = this,\n        e = y.PlayerMgr.getInstance().getGuideData();\n        if (!e.getGuideEnd()) {\n            var o = e.getCurrentId();\n            if (o == 13 + e.putGuideNum) this.isOpenTouch(!0),\n            this.scheduleOnce(function() {\n                t.ScrollViewSkillBook.scrollToPercentVertical(.85);\n                for (var o = new I.GuildCfg,\n                a = null,\n                i = 0; i < t.LayoutOwnedSkillBookLayout.childrenCount; i++) {\n                    var r = t.LayoutOwnedSkillBookLayout.children[i];\n                    if (r.getComponent(v.default) && 16 == r.getComponent(v.default).skillBookId) {\n                        a = r;\n                        break\n                    }\n                }\n                o.distNode = a,\n                o.tipstring = \"只有<color=#ff6b1b>已获得的技能书</color>，才会在关卡中<color=#ff6b1b>出现</color>噢！刚刚获得了一本<color=#ff6b1b>【基础剑术】</color>，现在来<color=#ff6b1b>升级</color>看看吧\",\n                o.yDec = 200,\n                t.openUICallBack(g.UIID.UIGuide,\n                function() {\n                    t.isOpenTouch(!1),\n                    e.addCurrentId()\n                },\n                o)\n            },\n            .5);\n            else if (o == 15 + e.putGuideNum) {\n                var a = new I.GuildCfg;\n                a.distNode = this.BtnBox,\n                a.tipstring = \"非常棒，刚刚剩一点<color=#ff6b1b>元宝</color>，快去<color=#ff6b1b>商城</color>看看有什么好货吧！\",\n                a.yDec = -150,\n                this.openUICallBack(g.UIID.UIGuide,\n                function() {\n                    e.addCurrentId()\n                },\n                a)\n            }\n        }\n    },\n    e.prototype.isOpenTouch = function(t) {\n        void 0 === t && (t = !1),\n        this.LayerTouch.active = t\n    },\n    e.prototype.registerEvent = function() {\n        this.addEvent(g.EventName.SkillBookGuideShow, this.guideShow)\n    },\n    e.prototype.registerBtnEvent = function() {\n        var t = this;\n        this.BtnBack.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            f.default.getInstance().openHomeUI(),\n            t.closeView()\n        }),\n        this.BtnBox.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            y.PlayerMgr.getInstance().getTrackData().youmengTrack(d.TrackId.guide16),\n            p.UIMgr.getInstance().openUI(g.UIID.UIShop, -1),\n            t.closeView()\n        })\n    },\n    e.prototype.initData = function() {},\n    e.prototype.initView = function() {\n        this.initCurrency(),\n        this.initSkillBookOwnedCount(),\n        this.initOwnedSkillBook()\n    },\n    e.prototype.initCurrency = function() {\n        var t = this;\n        this.loadPrefab(\"prefabs\", \"widget/NodeCurrency\",\n        function(e) {\n            cc.instantiate(e).parent = t.NodeUp\n        })\n    },\n    e.prototype.initSkillBookOwnedCount = function() {\n        var t = h.DataMgr.getInstance().getSkillBookCfg(),\n        e = m.default.getInstance().skillBookOwnedForQuality;\n        this.LabOwnedNum.string = \"(\" + e.length + \"/\" + t.length + \")\"\n    },\n    e.prototype.initOwnedSkillBook = function() {\n        for (var t = this,\n        e = m.default.getInstance().skillBookOwnedForQuality, o = e.length, a = function(a) {\n            var r = .02;\n            i.loadCount >= 20 && (r = 0),\n            i.scheduleOnce(function() {\n                var i = c.PoolMgr.getInstance().getNode(\"NodeUISkillBookNew\");\n                i ? (i.parent = t.LayoutOwnedSkillBookLayout, i.opacity = 255, i.position = cc.v3(), t.loadCount += 1, t.loadSkillBookItem(i, e[a], !0), a == o - 1 && t.initNotGetSkillBook()) : (console.log(\"动态加载技能书\"), l.ResourceMgr.getInstance().loadRes(\"prefabs\", \"widget/NodeUISkillBook\", cc.Prefab,\n                function(r) { (i = cc.instantiate(r)).parent = t.LayoutOwnedSkillBookLayout,\n                    i.opacity = 255,\n                    i.position = cc.v3(),\n                    t.loadCount += 1,\n                    t.loadSkillBookItem(i, e[a], !0),\n                    a == o - 1 && t.initNotGetSkillBook()\n                }))\n            },\n            a * r)\n        },\n        i = this, r = 0; r < o; r++) a(r)\n    },\n    e.prototype.initNotGetSkillBook = function() {\n        var t = this,\n        e = (m.default.getInstance().skillBookOwnedForQuality, m.default.getInstance().skillBookNotGetForQuality),\n        o = e.length;\n        o <= 0 && (this.LabNotGet.active = !0, this.LayoutNotGetSkillBookLayout.getComponent(cc.Layout).updateLayout(), this.scrollViewEvent_SkillBook());\n        for (var a = function(a) {\n            var r = .02;\n            i.loadCount >= 20 && (r = 0),\n            i.scheduleOnce(function() {\n                var i = c.PoolMgr.getInstance().getNode(\"NodeUISkillBookNew\");\n                i ? (i.parent = t.LayoutNotGetSkillBookLayout, i.opacity = 255, i.position = cc.v3(), t.loadCount += 1, t.loadSkillBookItem(i, e[a], !1), a == o - 1 && (t.LayoutNotGetSkillBookLayout.getComponent(cc.Layout).updateLayout(), t.scrollViewEvent_SkillBook())) : l.ResourceMgr.getInstance().loadRes(\"prefabs\", \"widget/NodeUISkillBook\", cc.Prefab,\n                function(r) { (i = cc.instantiate(r)).parent = t.LayoutNotGetSkillBookLayout,\n                    i.opacity = 255,\n                    i.position = cc.v3(),\n                    t.loadCount += 1,\n                    t.loadSkillBookItem(i, e[a], !1),\n                    a == o - 1 && (t.LayoutNotGetSkillBookLayout.getComponent(cc.Layout).updateLayout(), t.scrollViewEvent_SkillBook())\n                }),\n                0 == a && (t.LabNotGet.active = !0)\n            },\n            a * r)\n        },\n        i = this, r = 0; r < o; r++) a(r)\n    },\n    e.prototype.loadSkillBookItem = function(t, e, o) {\n        if (cc.isValid(t)) {\n            t.getComponent(v.default).initData(e, g.UIID.UISkillBook);\n            var a = h.DataMgr.getInstance().getSkillBook(e),\n            i = h.DataMgr.getInstance().getSkillQuality(a.qualityId);\n            this.loadSpriteFrame(\"iconImg\", a.SkillIcon,\n            function(e) {\n                t.getChildByName(\"SpSkillBook\").getComponent(cc.Sprite).spriteFrame = e\n            }),\n            this.loadSpriteFrame(i.bundle, i.iconImg2,\n            function(e) {\n                t.getChildByName(\"SpNameBg\").getComponent(cc.Sprite).spriteFrame = e\n            }),\n            t.getChildByName(\"LabName\").getComponent(cc.Label).string = a.name,\n            t.getChildByName(\"LabSkilllName\").getComponent(cc.Label).string = a.name;\n            var r = h.DataMgr.getInstance().getFetter(a.fetterId1),\n            n = h.DataMgr.getInstance().getFetter(a.fetterId2);\n            t.getChildByName(\"LabFetter1\").getComponent(cc.Label).string = \"\" + r.name,\n            this.loadSpriteFrame(r.bundle, r.iconImg,\n            function(e) {\n                t.getChildByName(\"SpFetter1\").getComponent(cc.Sprite).spriteFrame = e\n            }),\n            t.getChildByName(\"LabFetter2\").getComponent(cc.Label).string = \"\" + n.name,\n            this.loadSpriteFrame(n.bundle, n.iconImg,\n            function(e) {\n                t.getChildByName(\"SpFetter2\").getComponent(cc.Sprite).spriteFrame = e\n            }),\n            t.getChildByName(\"SpMask\").active = !o;\n            var s = y.PlayerMgr.getInstance().geUserData().getSkillBookForId(e),\n            c = h.DataMgr.getInstance().getSkillBookLevelCfg1(a.StartLevelID, s.level),\n            l = t.getChildByName(\"SpBarBg\"),\n            u = c.ConsumeSkillBookNum,\n            p = s.iCount / u;\n            l.getChildByName(\"SpBar\").getComponent(cc.Sprite).fillRange = p >= 1 ? 1 : p,\n            l.getChildByName(\"SpUp\").active = p >= 1,\n            l.getChildByName(\"LabLv\").getComponent(cc.Label).string = \"Lv.\" + s.level,\n            s.level >= a.MaxLevel ? l.getChildByName(\"LabBar\").getComponent(cc.Label).string = \"MAX\": l.getChildByName(\"LabBar\").getComponent(cc.Label).string = s.iCount + \"/\" + c.ConsumeSkillBookNum\n        }\n    },\n    e.prototype.scrollViewEvent_SkillBook = function() {\n        for (var t = this.ScrollViewSkillBook.node.getContentSize().height, e = this.itemHeight / 2, o = -t - e, a = this.LayoutOwnedSkillBookLayout.getContentSize().height, i = 0; i < this.LayoutOwnedSkillBookLayout.childrenCount; i++) {\n            var r = this.LayoutOwnedSkillBookLayout.children[i];\n            this.visibleRank_SkillBook(r, o, e)\n        }\n        for (i = 0; i < this.LayoutNotGetSkillBookLayout.childrenCount; i++) r = this.LayoutNotGetSkillBookLayout.children[i],\n        this.visibleRank_SkillBook(r, o, e, a)\n    },\n    e.prototype.visibleRank_SkillBook = function(t, e, o, a) {\n        void 0 === a && (a = 0);\n        var i = t.y + t.parent.y;\n        i + this.LayoutSkillBook.y > e && i + this.LayoutSkillBook.y < o ? t.opacity = 255 : t.opacity = 0\n    },\n    e.prototype.recycleSkillBook = function(t) {\n        cc.isValid(t) && c.PoolMgr.getInstance().freeNode(t.name, t)\n    },\n    e.prototype.destroySkillBook = function() {\n        for (var t = 0; t < this.LayoutOwnedSkillBookLayout.childrenCount; t++) this.initSkillBookProp(this.LayoutOwnedSkillBookLayout.children[t]),\n        this.recycleSkillBook(this.LayoutOwnedSkillBookLayout.children[t]);\n        for (t = 0; t < this.LayoutNotGetSkillBookLayout.childrenCount; t++) this.initSkillBookProp(this.LayoutNotGetSkillBookLayout.children[t]),\n        this.recycleSkillBook(this.LayoutNotGetSkillBookLayout.children[t])\n    },\n    e.prototype.initSkillBookProp = function() {},\n    e.prototype.closeView = function() {\n        this.destroySkillBook(),\n        this.closeUI()\n    },\n    r([S(cc.SpriteFrame)], e.prototype, \"SpSkillBookIconArr\", void 0),\n    r([S({\n        type: cc.Node,\n        tooltip: \"未获得的技能书标题\"\n    })], e.prototype, \"LabNotGet\", void 0),\n    r([S(cc.Node)], e.prototype, \"NodeUp\", void 0),\n    r([S(cc.Label)], e.prototype, \"LabOwnedNum\", void 0),\n    r([S(cc.ScrollView)], e.prototype, \"ScrollViewSkillBook\", void 0),\n    r([S(cc.Node)], e.prototype, \"viewSkillBook\", void 0),\n    r([S(cc.Node)], e.prototype, \"LayoutSkillBook\", void 0),\n    r([S(cc.Node)], e.prototype, \"LayoutOwnedSkillBookLayout\", void 0),\n    r([S(cc.Node)], e.prototype, \"LayoutNotGetSkillBookLayout\", void 0),\n    r([S(cc.Node)], e.prototype, \"LayerTouch\", void 0),\n    r([S(cc.Node)], e.prototype, \"BtnBack\", void 0),\n    r([S(cc.Node)], e.prototype, \"BtnBox\", void 0),\n    r([C], e)\n} (n.default);\no.default = M"]}