{"version":3,"sources":["assets\\scripts\\UIFetterInfo.js"],"names":["t","require","e","module","o","exports","a","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","r","__decorate","arguments","length","n","getOwnPropertyDescriptor","Reflect","decorate","s","defineProperty","value","c","l","u","p","g","d","h","f","cc","_decorator","m","ccclass","y","property","v","apply","NodeSkillBookShow","BtnClose","LayoutBg","SpFetterIcon","LabFetterName","LabFetterDec","LayoutSuit1","LayoutSuit2","LayoutSuit3","LayoutSkillBook","curFetterId","pos","Vec3","ZERO","init","start","instance","controlObjectsAnim","EventMgr","getInstance","emit","EventName","ShowUITop","registerBtnEvent","initData","initView","guideShow","on","Node","EventType","TOUCH_END","console","log","closeView","callbackBtnClose","curfetterData","DataMgr","getFetter","initLayoutBgPos","initFetterInfo","initSuitInfo","createSkillBook","x","setAnchorPoint","v2","position","loadSpriteFrame","bundle","iconImg","spriteFrame","string","name","fetterFunDec","getSuitCountForFetterId","getChildByName","color","opacity","Utils","getTabelArr","fetterCount","fetterFun","getComponent","Label","fetterDec","replace","allSkillBookId","instantiate","parent","loadSkillBook","Number","Layout","updateLayout","isValid","getSkillBook","getSkillQuality","qualityId","PlayerMgr","getTrackData","getAbType","SkillIcon","Sprite","active","scale","seleColor","geUserData","isExistSkillBookId","zIndex","closeUI","Prefab"],"mappings":"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","sourceRoot":"/","sourcesContent":["var t = require;\nvar e = module;\nvar o = exports;\nvar a, i = this && this.__extends || (a = function(t, e) {\n    return (a = Object.setPrototypeOf || {\n        __proto__: []\n    }\n    instanceof Array &&\n    function(t, e) {\n        t.__proto__ = e\n    } ||\n    function(t, e) {\n        for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o])\n    })(t, e)\n},\nfunction(t, e) {\n    function o() {\n        this.constructor = t\n    }\n    a(t, e),\n    t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)\n}),\nr = this && this.__decorate ||\nfunction(t, e, o, a) {\n    var i, r = arguments.length,\n    n = r < 3 ? e: null === a ? a = Object.getOwnPropertyDescriptor(e, o) : a;\n    if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) n = Reflect.decorate(t, e, o, a);\n    else for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (n = (r < 3 ? i(n) : r > 3 ? i(e, o, n) : i(e, o)) || n);\n    return r > 3 && n && Object.defineProperty(e, o, n),\n    n\n};\nObject.defineProperty(o, \"__esModule\", {\n    value: !0\n});\nvar n = t(\"BaseUI\"),\ns = t(\"EventMgr\"),\nc = t(\"Utils\"),\nl = t(\"Main\"),\nu = t(\"Config\"),\np = t(\"DataMgr\"),\ng = t(\"GameDataMgr\"),\nd = t(\"GoodsManager\"),\nh = t(\"PlayerMgr\"),\nf = cc._decorator,\nm = f.ccclass,\ny = f.property,\nv = function(t) {\n    function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.NodeSkillBookShow = null,\n        e.BtnClose = null,\n        e.LayoutBg = null,\n        e.SpFetterIcon = null,\n        e.LabFetterName = null,\n        e.LabFetterDec = null,\n        e.LayoutSuit1 = null,\n        e.LayoutSuit2 = null,\n        e.LayoutSuit3 = null,\n        e.LayoutSkillBook = null,\n        e.curFetterId = 1,\n        e.pos = cc.Vec3.ZERO,\n        e\n    }\n    return i(e, t),\n    e.prototype.init = function(t, e) {\n        this.curFetterId = t || 1,\n        this.pos = e || cc.Vec3.ZERO\n    },\n    e.prototype.start = function() {\n        l.default.instance.controlObjectsAnim(!0),\n        s.EventMgr.getInstance().emit(u.EventName.ShowUITop, !1),\n        this.registerBtnEvent(),\n        this.initData(),\n        this.initView(),\n        this.guideShow()\n    },\n    e.prototype.guideShow = function() {},\n    e.prototype.registerBtnEvent = function() {\n        var t = this;\n        this.BtnClose.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            console.log(\"关闭羁绊信息界面\"),\n            t.closeView(),\n            l.default.instance.controlObjectsAnim(!1)\n        }),\n        this.LayoutBg.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            t.closeView(),\n            l.default.instance.controlObjectsAnim(!1)\n        })\n    },\n    e.prototype.callbackBtnClose = function() {\n        console.log(\"关闭羁绊信息界面\"),\n        this.closeView(),\n        l.default.instance.controlObjectsAnim(!1)\n    },\n    e.prototype.initData = function() {\n        this.curfetterData = p.DataMgr.getInstance().getFetter(this.curFetterId)\n    },\n    e.prototype.initView = function() {\n        this.initLayoutBgPos(),\n        this.initFetterInfo(),\n        this.initSuitInfo(),\n        this.createSkillBook()\n    },\n    e.prototype.initLayoutBgPos = function() {\n        this.pos.x > 0 ? this.pos.y > 0 ? this.LayoutBg.setAnchorPoint(cc.v2(1, 1)) : this.LayoutBg.setAnchorPoint(cc.v2(1, 0)) : this.pos.y > 0 ? this.LayoutBg.setAnchorPoint(cc.v2(0, 1)) : this.LayoutBg.setAnchorPoint(cc.v2(0, 0)),\n        this.LayoutBg.position = this.pos\n    },\n    e.prototype.initFetterInfo = function() {\n        var t = this;\n        this.loadSpriteFrame(this.curfetterData.bundle, this.curfetterData.iconImg,\n        function(e) {\n            t.SpFetterIcon.spriteFrame = e\n        }),\n        this.LabFetterName.string = this.curfetterData.name,\n        this.LabFetterDec.string = this.curfetterData.fetterFunDec\n    },\n    e.prototype.initSuitInfo = function() {\n        for (var t = g.default.getInstance().getSuitCountForFetterId(this.curFetterId), e = 1; e <= 3; e++) t == e ? (this[\"LayoutSuit\" + e].getChildByName(\"LabSuit\").color = cc.color(255, 228, 76), this[\"LayoutSuit\" + e].getChildByName(\"LabSuitDec\").color = cc.color(255, 228, 76)) : this[\"LayoutSuit\" + e].opacity = 127;\n        var o = c.Utils.getTabelArr(this.curfetterData.fetterCount),\n        a = c.Utils.getTabelArr(this.curfetterData.fetterFun);\n        this.LayoutSuit1.getChildByName(\"LabSuit\").getComponent(cc.Label).string = \"(\" + o[0] + \")\";\n        var i = this.curfetterData.fetterDec;\n        i = i.replace(\"%s\", a[0]),\n        this.LayoutSuit1.getChildByName(\"LabSuitDec\").getComponent(cc.Label).string = \"\" + i,\n        this.LayoutSuit2.getChildByName(\"LabSuit\").getComponent(cc.Label).string = \"(\" + o[1] + \")\";\n        var r = this.curfetterData.fetterDec;\n        r = r.replace(\"%s\", a[1]),\n        this.LayoutSuit2.getChildByName(\"LabSuitDec\").getComponent(cc.Label).string = \"\" + r,\n        this.LayoutSuit3.getChildByName(\"LabSuit\").getComponent(cc.Label).string = \"(\" + o[2] + \")\";\n        var n = this.curfetterData.fetterDec;\n        n = n.replace(\"%s\", a[2]),\n        this.LayoutSuit3.getChildByName(\"LabSuitDec\").getComponent(cc.Label).string = \"\" + n\n    },\n    e.prototype.createSkillBook = function() {\n        for (var t = c.Utils.getTabelArr(this.curfetterData.allSkillBookId), e = 0; e < t.length; e++) {\n            var o = cc.instantiate(this.NodeSkillBookShow);\n            o.parent = this.LayoutSkillBook,\n            this.loadSkillBook(o, Number(t[e]))\n        }\n        this.LayoutSkillBook.getComponent(cc.Layout).updateLayout()\n    },\n    e.prototype.loadSkillBook = function(t, e) {\n        if (cc.isValid(t)) {\n            var o = p.DataMgr.getInstance().getSkillBook(e);\n            p.DataMgr.getInstance().getSkillQuality(o.qualityId),\n            h.PlayerMgr.getInstance().getTrackData().getAbType(),\n            this.loadSpriteFrame(\"iconImg\", o.SkillIcon,\n            function(e) {\n                t.getChildByName(\"NodeSkillBook\").getChildByName(\"SpSkillBook\").getComponent(cc.Sprite).spriteFrame = e\n            }),\n            t.getChildByName(\"NodeSkillBook\").getChildByName(\"LabName\").active = !1,\n            t.getChildByName(\"NodeSkillBook\").getChildByName(\"SpSkillBook\").scale = .6,\n            t.getChildByName(\"NodeSkillBook\").getChildByName(\"LabName\").getComponent(cc.Label).string = o.name,\n            t.getChildByName(\"NodeSkillBook\").getChildByName(\"LabSkillBookName\").getComponent(cc.Label).string = o.name,\n            t.getChildByName(\"NodeSkillBook\").getChildByName(\"LabSkillBookName\").color = d.default.getInstance().seleColor(o.qualityId);\n            var a = h.PlayerMgr.getInstance().geUserData().isExistSkillBookId(e);\n            t.getChildByName(\"SpLock\").active = -1 == a,\n            -1 == g.default.getInstance().isExistSkillBookId(e) ? (t.getChildByName(\"NodeSkillBook\").opacity = 127, t.zIndex = o.qualityId + 5) : t.zIndex = o.qualityId\n        }\n    },\n    e.prototype.closeView = function() {\n        this.closeUI()\n    },\n    r([y(cc.Prefab)], e.prototype, \"NodeSkillBookShow\", void 0),\n    r([y(cc.Node)], e.prototype, \"BtnClose\", void 0),\n    r([y(cc.Node)], e.prototype, \"LayoutBg\", void 0),\n    r([y(cc.Sprite)], e.prototype, \"SpFetterIcon\", void 0),\n    r([y(cc.Label)], e.prototype, \"LabFetterName\", void 0),\n    r([y(cc.Label)], e.prototype, \"LabFetterDec\", void 0),\n    r([y(cc.Node)], e.prototype, \"LayoutSuit1\", void 0),\n    r([y(cc.Node)], e.prototype, \"LayoutSuit2\", void 0),\n    r([y(cc.Node)], e.prototype, \"LayoutSuit3\", void 0),\n    r([y(cc.Node)], e.prototype, \"LayoutSkillBook\", void 0),\n    r([m], e)\n} (n.default);\no.default = v"]}