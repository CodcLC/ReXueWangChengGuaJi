{"version":3,"sources":["assets\\scripts\\UIDrawCard.js"],"names":["t","require","e","module","o","exports","a","i","__extends","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","constructor","create","r","__decorate","arguments","length","n","getOwnPropertyDescriptor","Reflect","decorate","s","defineProperty","value","c","l","u","p","g","d","h","f","m","y","v","I","cc","_decorator","k","ccclass","C","property","S","apply","SkillBookPre","SkillBookPreNew","SpSkillProb","contentSkillSele","BtnFreeRefresh","BtnVideoRefresh","BtnVideoBoth","BtnLookSkill","LabSkillBookDec","LabSkillCount","LabFetterCount","callback","skillBookList","curSkillBookIdArr","abType","init","onLoad","initAbTypeData","registerEvent","randomSkillBook","PlayerMgr","getInstance","getTrackData","getAbType","guideShow","geUserData","getCurSec","getEnterFirstSecCount","getGuideData","getGuideEnd","getCurrentId","putGuideNum","GuildCfg","distNode","children","tipstring","yDec","handIndex","v2","addSize","size","openUICallBack","UIID","UIGuide","addCurrentId","start","trackEvent","registerBtnEvent","carryCallback","initData","initView","youmengTrack","TrackId","guide7_1","guide6_1","guide4_1","guide3_1","addEvent","EventName","ControlDrawCardView","controlCurViewActive","sendEvent","OpenRecoverTrudge","on","Node","EventType","TOUCH_END","click_getrefreshtime","skillBookRefreshCount","refreshFreeCount","refreshSkillBook","initRefreshBtn","TimeUtils","GetTimeBySecond","GetTimeByHours2","SdkMgr","playVideo","testTrackTime","getrefreshtime","youmengTrackNew","Number","DataMgr","getParamsCfgForSingle","EnumParams","SkillBookRefreshCountForVideo","getallskill","getIsFirstBothNeed","getall_get","skillBookBothBtnForWeight","AddSkillBook","instance","isFastPass","setTimeout","setGameState","EnumGameState","GameDoing","EventMgr","emit","GameLayerTouch","bossComeOn","GameGuideShow","closeView","ControlBackSelectSkill","Utils","getTabelArr","AddSkillBookRefreshCount","getCurLevel","initDec","initBothBtn","refreshSkillBookAndFetterCount","refreshSkillBookQualityWeight","active","weight_randSingle","weightFoBothBtn","addIsFirstBothNeed","getall_appear","weightAddForBothBtn","TweenMgr","playHeartAni","getSkillBookProbCfg","levelRange","childrenCount","getComponent","Label","string","selectPropNum","getChildByName","getSkillBookDataArr","curTotalSkillBookCount","getFetterSuitCount","randomSkillBookId","push","isExistSkillBookId","isFullStarForSkillBookId","scheduleOnce","getSkillBook","refreshSkillBook2","loadSkillBook","instantiate","position","v3","name","parent","guide7","guide6","guide4","guide3","isValid","getSkillBookForId","id","getSkillBookLevelCfg1","StartLevelID","level","getSkillQuality","qualityId","getFetter","fetterId1","fetterId2","loadSpriteFrame","SkillIcon","Sprite","spriteFrame","bundle","iconImg2","addProp1","skillBookDec","replace","getFetterNumForFetterId","iconImg","getStarNumForSkillBookId","node","controlObjectsAnim","closeUI","type","tooltip","RichText"],"mappings":"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","sourceRoot":"/","sourcesContent":["var t = require;\nvar e = module;\nvar o = exports;\nvar a, i = this && this.__extends || (a = function(t, e) {\n    return (a = Object.setPrototypeOf || {\n        __proto__: []\n    }\n    instanceof Array &&\n    function(t, e) {\n        t.__proto__ = e\n    } ||\n    function(t, e) {\n        for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o])\n    })(t, e)\n},\nfunction(t, e) {\n    function o() {\n        this.constructor = t\n    }\n    a(t, e),\n    t.prototype = null === e ? Object.create(e) : (o.prototype = e.prototype, new o)\n}),\nr = this && this.__decorate ||\nfunction(t, e, o, a) {\n    var i, r = arguments.length,\n    n = r < 3 ? e: null === a ? a = Object.getOwnPropertyDescriptor(e, o) : a;\n    if (\"object\" == typeof Reflect && \"function\" == typeof Reflect.decorate) n = Reflect.decorate(t, e, o, a);\n    else for (var s = t.length - 1; s >= 0; s--)(i = t[s]) && (n = (r < 3 ? i(n) : r > 3 ? i(e, o, n) : i(e, o)) || n);\n    return r > 3 && n && Object.defineProperty(e, o, n),\n    n\n};\nObject.defineProperty(o, \"__esModule\", {\n    value: !0\n});\nvar n = t(\"BaseUI\"),\ns = t(\"EventMgr\"),\nc = t(\"SdkMgr\"),\nl = t(\"TweenMgr\"),\nu = t(\"TimeUtils\"),\np = t(\"Utils\"),\ng = t(\"Main\"),\nd = t(\"Config\"),\nh = t(\"TrackDataEvent\"),\nf = t(\"DataMgr\"),\nm = t(\"GameDataMgr\"),\ny = t(\"PlayerMgr\"),\nv = t(\"UIGuide\"),\nI = cc._decorator,\nk = I.ccclass,\nC = I.property,\nS = function(t) {\n    function e() {\n        var e = null !== t && t.apply(this, arguments) || this;\n        return e.SkillBookPre = null,\n        e.SkillBookPreNew = null,\n        e.SpSkillProb = null,\n        e.contentSkillSele = null,\n        e.BtnFreeRefresh = null,\n        e.BtnVideoRefresh = null,\n        e.BtnVideoBoth = null,\n        e.BtnLookSkill = null,\n        e.LabSkillBookDec = null,\n        e.LabSkillCount = null,\n        e.LabFetterCount = null,\n        e.callback = function() {},\n        e.skillBookList = [],\n        e.curSkillBookIdArr = [],\n        e.abType = \"A\",\n        e\n    }\n    return i(e, t),\n    e.prototype.init = function(t) {\n        this.callback = t ||\n        function() {}\n    },\n    e.prototype.onLoad = function() {\n        this.initAbTypeData(),\n        this.registerEvent(),\n        this.randomSkillBook()\n    },\n    e.prototype.initAbTypeData = function() {\n        this.abType = y.PlayerMgr.getInstance().getTrackData().getAbType()\n    },\n    e.prototype.guideShow = function() {\n        var t = y.PlayerMgr.getInstance().geUserData();\n        if (1 == t.getCurSec() && 1 == t.getEnterFirstSecCount()) {\n            var e = y.PlayerMgr.getInstance().getGuideData();\n            if (!e.getGuideEnd()) {\n                var o = e.getCurrentId();\n                if (o == 2 + e.putGuideNum)(a = new v.GuildCfg).distNode = this.contentSkillSele.children[1],\n                a.tipstring = \"每通过一关，都可选择<color=#ff6b1b>一项技能</color>提升角色属性！\\n<color=#ff6b1b>（已经拥有的技能才会出现噢）</color>\",\n                a.yDec = -350,\n                a.handIndex = cc.v2(50, 50),\n                a.addSize = cc.size(0, 80),\n                this.openUICallBack(d.UIID.UIGuide,\n                function() {\n                    e.addCurrentId()\n                },\n                a);\n                else if (o == 3 + e.putGuideNum)(a = new v.GuildCfg).distNode = this.contentSkillSele.children[0],\n                a.tipstring = \"运气不错！出了<color=#ff6b1b>高品质的技能</color>呢！\",\n                a.yDec = -350,\n                a.handIndex = cc.v2(50, 50),\n                a.addSize = cc.size(0, 80),\n                this.openUICallBack(d.UIID.UIGuide,\n                function() {\n                    e.addCurrentId()\n                },\n                a);\n                else if (o == 5 + e.putGuideNum)(a = new v.GuildCfg).distNode = this.contentSkillSele.children[1],\n                a.tipstring = \"再修炼<color=#ff6b1b>2次已学习的技能</color>，可以把技能<color=#ff6b1b>升星</color>，<color=#ff6b1b>效果大幅提升</color>噢！\",\n                a.yDec = -350,\n                a.handIndex = cc.v2(50, 50),\n                a.addSize = cc.size(0, 80),\n                this.openUICallBack(d.UIID.UIGuide,\n                function() {\n                    e.addCurrentId()\n                },\n                a);\n                else if (o == 6 + e.putGuideNum) {\n                    var a; (a = new v.GuildCfg).distNode = this.contentSkillSele.children[2],\n                    a.tipstring = \"再修炼1次，技能就能升到2星了！\\n部分技能<color=#ff6b1b>升至2星</color>后，可获得强大的<color=#ff6b1b>招式</color>噢\",\n                    a.yDec = -350,\n                    a.handIndex = cc.v2(50, 50),\n                    a.addSize = cc.size(0, 80),\n                    this.openUICallBack(d.UIID.UIGuide,\n                    function() {\n                        e.addCurrentId()\n                    },\n                    a)\n                }\n            }\n        }\n    },\n    e.prototype.start = function() {\n        this.trackEvent(),\n        this.registerBtnEvent(),\n        this.carryCallback(),\n        this.initData(),\n        this.initView()\n    },\n    e.prototype.trackEvent = function() {\n        \"B\" != y.PlayerMgr.getInstance().getAbType() && (y.PlayerMgr.getInstance().getTrackData().youmengTrack(h.TrackId.guide7_1), y.PlayerMgr.getInstance().getTrackData().youmengTrack(h.TrackId.guide6_1)),\n        y.PlayerMgr.getInstance().getTrackData().youmengTrack(h.TrackId.guide4_1),\n        y.PlayerMgr.getInstance().getTrackData().youmengTrack(h.TrackId.guide3_1)\n    },\n    e.prototype.carryCallback = function() {\n        this.callback && this.callback()\n    },\n    e.prototype.registerEvent = function() {\n        this.addEvent(d.EventName.ControlDrawCardView, this.controlCurViewActive),\n        this.sendEvent(d.EventName.OpenRecoverTrudge)\n    },\n    e.prototype.registerBtnEvent = function() {\n        var t = this;\n        this.BtnFreeRefresh.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            y.PlayerMgr.getInstance().getTrackData().youmengTrack(h.TrackId.click_getrefreshtime),\n            t.randomSkillBook(),\n            m.default.getInstance().skillBookRefreshCount--,\n            t.refreshFreeCount(),\n            t.refreshSkillBook(),\n            m.default.getInstance().skillBookRefreshCount <= 0 && t.initRefreshBtn()\n        }),\n        this.BtnVideoRefresh.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            var e = u.TimeUtils.GetTimeBySecond(),\n            o = u.TimeUtils.GetTimeByHours2();\n            c.SdkMgr.getInstance().playVideo(1,\n            function() {\n                var a = u.TimeUtils.GetTimeBySecond(),\n                i = u.TimeUtils.GetTimeByHours2();\n                y.PlayerMgr.getInstance().getTrackData().testTrackTime(\"getrefreshtime\", o, i, e, a),\n                y.PlayerMgr.getInstance().getTrackData().youmengTrack(h.TrackId.getrefreshtime),\n                y.PlayerMgr.getInstance().getTrackData().youmengTrackNew(\"getrefreshtime_b\"),\n                m.default.getInstance().skillBookRefreshCount += Number(f.DataMgr.getInstance().getParamsCfgForSingle(d.EnumParams.SkillBookRefreshCountForVideo).value),\n                t.initRefreshBtn()\n            })\n        }),\n        this.BtnVideoBoth.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            var e = u.TimeUtils.GetTimeBySecond(),\n            o = u.TimeUtils.GetTimeByHours2();\n            c.SdkMgr.getInstance().playVideo(1,\n            function() {\n                var a = u.TimeUtils.GetTimeBySecond(),\n                i = u.TimeUtils.GetTimeByHours2();\n                y.PlayerMgr.getInstance().getTrackData().testTrackTime(\"getallskill\", o, i, e, a),\n                y.PlayerMgr.getInstance().getTrackData().youmengTrack(h.TrackId.getallskill),\n                y.PlayerMgr.getInstance().getTrackData().youmengTrackNew(\"getallskill_b\"),\n                1 == y.PlayerMgr.getInstance().geUserData().getIsFirstBothNeed() && y.PlayerMgr.getInstance().getTrackData().youmengTrack(h.TrackId.getall_get),\n                m.default.getInstance().skillBookBothBtnForWeight();\n                for (var r = 1; r <= 3; r++) t.sendEvent(d.EventName.AddSkillBook, t.curSkillBookIdArr[r - 1]),\n                3 == r && (g.default.instance.isFastPass ? setTimeout(function() {\n                    m.default.getInstance().setGameState(d.EnumGameState.GameDoing),\n                    s.EventMgr.getInstance().emit(d.EventName.GameLayerTouch, !1)\n                },\n                500) : (m.default.getInstance().setGameState(d.EnumGameState.GameDoing), s.EventMgr.getInstance().emit(d.EventName.GameLayerTouch, !1), g.default.instance.bossComeOn(), s.EventMgr.getInstance().emit(d.EventName.GameGuideShow)));\n                t.closeView()\n            })\n        }),\n        this.BtnLookSkill.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            g.default.instance.isFastPass && t.sendEvent(d.EventName.GameLayerTouch, !1),\n            t.sendEvent(d.EventName.ControlBackSelectSkill, !0),\n            t.controlCurViewActive(!1)\n        })\n    },\n    e.prototype.initData = function() {\n        var t = p.Utils.getTabelArr(f.DataMgr.getInstance().getParamsCfgForSingle(d.EnumParams.AddSkillBookRefreshCount).value); (y.PlayerMgr.getInstance().geUserData().getCurLevel() - 1) % Number(t[0]) == 0 && (m.default.getInstance().skillBookRefreshCount += Number(t[1]))\n    },\n    e.prototype.initView = function() {\n        this.initDec(),\n        this.initRefreshBtn(),\n        this.initBothBtn(),\n        this.refreshSkillBook(),\n        this.refreshSkillBookAndFetterCount(),\n        this.refreshSkillBookQualityWeight()\n    },\n    e.prototype.initRefreshBtn = function() {\n        this.BtnFreeRefresh.active = m.default.getInstance().skillBookRefreshCount > 0,\n        this.BtnVideoRefresh.active = m.default.getInstance().skillBookRefreshCount <= 0,\n        this.refreshFreeCount()\n    },\n    e.prototype.initBothBtn = function() {\n        var t = y.PlayerMgr.getInstance().geUserData(),\n        e = p.Utils.weight_randSingle(m.default.getInstance().weightFoBothBtn);\n        this.BtnVideoBoth.active = e,\n        e && (t.addIsFirstBothNeed(), 1 == t.getIsFirstBothNeed() && y.PlayerMgr.getInstance().getTrackData().youmengTrack(h.TrackId.getall_appear)),\n        m.default.getInstance().weightFoBothBtn += m.default.getInstance().weightAddForBothBtn,\n        l.TweenMgr.getInstance().playHeartAni(this.BtnVideoBoth)\n    },\n    e.prototype.refreshSkillBookQualityWeight = function() {\n        for (var t, e = f.DataMgr.getInstance().getSkillBookProbCfg(), o = y.PlayerMgr.getInstance().geUserData().getCurLevel(), a = 0; a < e.length; a++) {\n            var i = p.Utils.getTabelArr(e[a].levelRange);\n            if (o >= Number(i[0]) && o <= Number(i[1])) {\n                t = e[a];\n                break\n            }\n        }\n        for (a = 0; a < this.SpSkillProb.childrenCount; a++) this.SpSkillProb.children[a].getComponent(cc.Label).string = \"·\" + m.default.getInstance().selectPropNum(t, a + 1) + \"%\"\n    },\n    e.prototype.initDec = function() {\n        var t = p.Utils.getTabelArr(f.DataMgr.getInstance().getParamsCfgForSingle(d.EnumParams.AddSkillBookRefreshCount).value),\n        e = Number(f.DataMgr.getInstance().getParamsCfgForSingle(d.EnumParams.SkillBookRefreshCountForVideo).value);\n        this.BtnVideoRefresh.getChildByName(\"LabVideoRefresh\").getComponent(cc.Label).string = \"刷新次数+\" + e,\n        this.LabSkillBookDec.string = \"刷新技能次数：每通过\" + t[0] + \"关+\" + t[1] + \"次，视频获取+\" + e + \"次\"\n    },\n    e.prototype.refreshSkillBookAndFetterCount = function() {\n        this.LabSkillCount.string = \"修炼技能总数量：<color = #e24f00>\" + m.default.getInstance().getSkillBookDataArr().length + \"/\" + m.default.getInstance().curTotalSkillBookCount + \"</color>\",\n        this.LabFetterCount.string = \"解锁羁绊总数量：<color = #e24f00>\" + m.default.getInstance().getFetterSuitCount() + \"</color>\"\n    },\n    e.prototype.randomSkillBook = function() { (!this.curSkillBookIdArr || this.curSkillBookIdArr.length > 0) && (this.curSkillBookIdArr = []);\n        var t = y.PlayerMgr.getInstance().geUserData();\n        if (1 != t.getCurSec() || 1 != t.getEnterFirstSecCount()) for (var e = 0; e < 3; e++) {\n            var o = y.PlayerMgr.getInstance().geUserData().getCurLevel(),\n            a = this.randomSkillBookId(o);\n            this.curSkillBookIdArr.push(a)\n        } else 1 == (o = t.getCurLevel()) ? this.curSkillBookIdArr = [16, 34, 53] : 2 == o ? this.curSkillBookIdArr = [8, 48, 14] : 3 == o ? this.curSkillBookIdArr = [16, 8, 53] : 4 == o && (this.curSkillBookIdArr = [16, 53, 8])\n    },\n    e.prototype.randomSkillBookId = function(t) {\n        var e = m.default.getInstance().randomSkillBook(t);\n        return this.isExistSkillBookId(e) ? this.randomSkillBookId(t) : m.default.getInstance().isFullStarForSkillBookId(e) ? this.randomSkillBookId(t) : e\n    },\n    e.prototype.isExistSkillBookId = function(t) {\n        this.curSkillBookIdArr || (this.curSkillBookIdArr = []);\n        for (var e = 0; e < this.curSkillBookIdArr.length; e++) if (t == this.curSkillBookIdArr[e]) return ! 0;\n        return ! 1\n    },\n    e.prototype.refreshFreeCount = function() {\n        this.BtnFreeRefresh.getChildByName(\"LabFreeCount\").getComponent(cc.Label).string = \"剩余\" + m.default.getInstance().skillBookRefreshCount + \"次\"\n    },\n    e.prototype.refreshSkillBook = function() {\n        var t = this;\n        if (!this.skillBookList || this.skillBookList.length <= 0) for (var e = function(e) {\n            o.scheduleOnce(function() {\n                var o = f.DataMgr.getInstance().getSkillBook(t.curSkillBookIdArr[e]);\n                t.refreshSkillBook2(o, e),\n                2 == e && t.guideShow()\n            },\n            .02 * e)\n        },\n        o = this, a = 0; a < 3; a++) e(a);\n        else {\n            var i = function(e) {\n                r.scheduleOnce(function() {\n                    var o = f.DataMgr.getInstance().getSkillBook(t.curSkillBookIdArr[e]);\n                    t.loadSkillBook(o, t.skillBookList[e])\n                },\n                .02 * e)\n            },\n            r = this;\n            for (a = 0; a < this.skillBookList.length; a++) i(a)\n        }\n    },\n    e.prototype.refreshSkillBook2 = function(t, e) {\n        var o = this,\n        a = this.SkillBookPreNew,\n        i = cc.instantiate(a);\n        i.active = !0,\n        i.position = cc.v3(),\n        i.name = \"NodeSkillBookBig\" + (e + 1),\n        i.parent = this.contentSkillSele,\n        this.skillBookList.push(i),\n        this.loadSkillBook(t, i),\n        i.on(cc.Node.EventType.TOUCH_END,\n        function() {\n            var t = e + 1;\n            \"B\" != y.PlayerMgr.getInstance().getAbType() && (y.PlayerMgr.getInstance().getTrackData().youmengTrack(h.TrackId.guide7), y.PlayerMgr.getInstance().getTrackData().youmengTrack(h.TrackId.guide6)),\n            y.PlayerMgr.getInstance().getTrackData().youmengTrack(h.TrackId.guide4),\n            y.PlayerMgr.getInstance().getTrackData().youmengTrack(h.TrackId.guide3),\n            o.sendEvent(d.EventName.AddSkillBook, o.curSkillBookIdArr[t - 1]),\n            g.default.instance.isFastPass ? setTimeout(function() {\n                m.default.getInstance().setGameState(d.EnumGameState.GameDoing),\n                s.EventMgr.getInstance().emit(d.EventName.GameLayerTouch, !1)\n            },\n            500) : (m.default.getInstance().setGameState(d.EnumGameState.GameDoing), s.EventMgr.getInstance().emit(d.EventName.GameLayerTouch, !1), g.default.instance.bossComeOn(), s.EventMgr.getInstance().emit(d.EventName.GameGuideShow)),\n            o.closeView()\n        })\n    },\n    e.prototype.loadSkillBook = function(t, e) {\n        if (t || (t = f.DataMgr.getInstance().getSkillBook(1)), cc.isValid(e)) {\n            var o = y.PlayerMgr.getInstance().geUserData().getSkillBookForId(t.id),\n            a = f.DataMgr.getInstance().getSkillBookLevelCfg1(t.StartLevelID, o.level),\n            i = f.DataMgr.getInstance().getSkillQuality(t.qualityId),\n            r = f.DataMgr.getInstance().getFetter(t.fetterId1),\n            n = f.DataMgr.getInstance().getFetter(t.fetterId2);\n            this.loadSpriteFrame(\"iconImg\", t.SkillIcon,\n            function(t) {\n                e.getChildByName(\"SpSkillBook\").getComponent(cc.Sprite).spriteFrame = t\n            }),\n            this.loadSpriteFrame(i.bundle, i.iconImg2,\n            function(t) {\n                e.getChildByName(\"SpNameBg\").getComponent(cc.Sprite).spriteFrame = t\n            }),\n            e.getChildByName(\"LabSkilllName\").getComponent(cc.Label).string = t.name,\n            e.getChildByName(\"LabName\").getComponent(cc.Label).string = t.name;\n            var s = p.Utils.getTabelArr(a.addProp1),\n            c = a.skillBookDec.replace(\"%s\", s[1]);\n            e.getChildByName(\"LabBookProp\").getComponent(cc.Label).string = c;\n            var l = m.default.getInstance().getFetterNumForFetterId(t.fetterId1);\n            e.getChildByName(\"SpBgfetter1\").getChildByName(\"LabFetter1\").getComponent(cc.Label).string = r.name + \"(\" + l + \")\",\n            this.loadSpriteFrame(r.bundle, r.iconImg,\n            function(t) {\n                e.getChildByName(\"SpBgfetter1\").getChildByName(\"SpFetter1\").getComponent(cc.Sprite).spriteFrame = t\n            });\n            var u = m.default.getInstance().getFetterNumForFetterId(t.fetterId2);\n            if (e.getChildByName(\"SpBgfetter2\").getChildByName(\"LabFetter2\").getComponent(cc.Label).string = n.name + \"(\" + u + \")\", this.loadSpriteFrame(n.bundle, n.iconImg,\n            function(t) {\n                e.getChildByName(\"SpBgfetter2\").getChildByName(\"SpFetter2\").getComponent(cc.Sprite).spriteFrame = t\n            }), -1 == m.default.getInstance().isExistSkillBookId(t.id)) e.getChildByName(\"LabNotHave\").active = !0,\n            e.getChildByName(\"NodeGrade\").active = !1,\n            e.getChildByName(\"LabSkillCount\").active = !1;\n            else {\n                e.getChildByName(\"LabNotHave\").active = !1,\n                e.getChildByName(\"NodeGrade\").active = !0,\n                e.getChildByName(\"LabSkillCount\").active = !0;\n                var g = m.default.getInstance().getStarNumForSkillBookId(t.id);\n                3 != g[0] ? e.getChildByName(\"LabSkillCount\").getComponent(cc.Label).string = g[1] + \"/\" + g[2] : e.getChildByName(\"LabSkillCount\").active = !1;\n                for (var d = 0; d < e.getChildByName(\"NodeGrade\").children.length; d++) {\n                    var h = e.getChildByName(\"NodeGrade\").getChildByName(\"SpStarBg\" + (d + 1));\n                    g[0] >= d + 1 ? h.getChildByName(\"SpStar\").active = !0 : h.getChildByName(\"SpStar\").active = !1\n                }\n            }\n        }\n    },\n    e.prototype.controlCurViewActive = function(t) {\n        this.node.active = t\n    },\n    e.prototype.closeView = function() {\n        g.default.instance.controlObjectsAnim(!1),\n        this.closeUI()\n    },\n    r([C({\n        type: cc.Node,\n        tooltip: \"技能书预制\"\n    })], e.prototype, \"SkillBookPre\", void 0),\n    r([C({\n        type: cc.Node,\n        tooltip: \"技能书xin预制\"\n    })], e.prototype, \"SkillBookPreNew\", void 0),\n    r([C({\n        type: cc.Node,\n        tooltip: \"技能书品质概率\"\n    })], e.prototype, \"SpSkillProb\", void 0),\n    r([C(cc.Node)], e.prototype, \"contentSkillSele\", void 0),\n    r([C(cc.Node)], e.prototype, \"BtnFreeRefresh\", void 0),\n    r([C(cc.Node)], e.prototype, \"BtnVideoRefresh\", void 0),\n    r([C(cc.Node)], e.prototype, \"BtnVideoBoth\", void 0),\n    r([C(cc.Node)], e.prototype, \"BtnLookSkill\", void 0),\n    r([C({\n        type: cc.Label,\n        tooltip: \"技能书获取描述\"\n    })], e.prototype, \"LabSkillBookDec\", void 0),\n    r([C({\n        type: cc.RichText,\n        tooltip: \"技能书数量\"\n    })], e.prototype, \"LabSkillCount\", void 0),\n    r([C({\n        type: cc.RichText,\n        tooltip: \"羁绊数量\"\n    })], e.prototype, \"LabFetterCount\", void 0),\n    r([k], e)\n} (n.default);\no.default = S"]}